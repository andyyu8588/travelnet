{"version":3,"sources":["./src/app/services/chatsystem/friendlist.service.ts","./src/app/components/filter/filter.component.ts","./src/app/components/filter/filter.component.html","./src/app/components/tabs/mytrip/mytrip.component.ts","./src/app/components/tabs/mytrip/mytrip.component.html","./src/app/components/chatsystem/chatsystem.component.ts","./src/app/components/chatsystem/chatsystem.component.html","./src/app/components/profile/mime-type.validator.ts","./src/app/components/chatsystem/friendlist/friend/friend.component.ts","./src/app/components/chatsystem/friendlist/friend/friend.component.html","./src/app/components/header/header.component.ts","./src/app/components/header/header.component.html","./src/app/components/search-posts/search-posts.component.ts","./src/app/components/search-posts/search-posts.component.html","./src/app/components/add-tag/add-tag.component.ts","./src/app/components/add-tag/add-tag.component.html","./src/app/components/share/share.component.ts","./src/app/components/share/share.component.html","./src/app/components/profile/proprety/proprety.component.ts","./src/app/components/profile/proprety/proprety.component.html","./src/app/services/map/openstreetmap.service.ts","./src/app/components/registration-process/country-selector/country-selector.component.ts","./src/app/components/registration-process/country-selector/country-selector.component.html","./src/app/components/myaccount/myaccount.component.ts","./src/app/components/myaccount/myaccount.component.html","./src/app/models/geocodeResp.model.ts","./src/app/components/chatsystem/friendlist/friendlist.component.ts","./src/app/components/chatsystem/friendlist/friendlist.component.html","./src/environments/environment.ts","./src/app/components/venue/venue.component.ts","./src/app/components/venue/venue.component.html","./src/app/components/display-posts/display-posts.component.ts","./src/app/components/display-posts/display-posts.component.html","./src/app/components/profile/profile.component.ts","./src/app/components/profile/profile.component.html","./src/app/components/map/map.component.ts","./src/app/components/map/map.component.html","./src/app/pipes/array-to-pipe.pipe.ts","./src/app/models/coordinates.ts","./src/app/components/tabs/mytrip/add-venue-popover/add-venue-popover.component.ts","./src/app/components/tabs/mytrip/add-venue-popover/add-venue-popover.component.html","./src/app/services/map/map.service.ts","./src/app/services/session.service.ts","./src/app/components/tabs/searchresults/add-to-trip-popover/add-to-trip-popover.component.ts","./src/app/components/tabs/searchresults/add-to-trip-popover/add-to-trip-popover.component.html","./src/app/components/tabs/searchresults/userbutton/userbutton.component.ts","./src/app/components/tabs/searchresults/userbutton/userbutton.component.html","./src/environments/environment.dev.ts","./src/app/services/http.service.ts","./src/app/components/loginpage/loginpage.component.ts","./src/app/components/loginpage/loginpage.component.html","./src/app/components/edit-comment/edit-comment.component.ts","./src/app/components/edit-comment/edit-comment.component.html","./src/app/components/registration-process/registration-process.component.ts","./src/app/components/registration-process/registration-process.component.html","./src/app/components/userprofile/userprofile.component.ts","./src/app/components/userprofile/userprofile.component.html","./src/app/components/tabs/searchresults/VenueButton/VenueButton.component.ts","./src/app/components/tabs/searchresults/VenueButton/venueButton.component.html","./src/app/services/map/foursquare.service.ts","./src/app/services/chatsystem/socket.service.ts","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/pipes/null.pipe.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/services/comments.service.ts","./src/app/components/sidebar/scroll-to-top/scroll-to-top.component.ts","./src/app/components/sidebar/scroll-to-top/scroll-to-top.component.html","./src/app/models/trip.model.ts","./src/app/services/trip.service.ts","./src/app/app.module.ts","./src/app/components/tabs/searchresults/searchresults.component.ts","./src/app/components/tabs/searchresults/searchresults.component.html","./src/app/components/logout/logout.component.ts","./src/app/components/logout/logout.component.html","./src/app/models/Room_Widget.model.ts","./src/app/components/tabs/mytrip/tripmodal/tripmodal.component.ts","./src/app/components/tabs/mytrip/tripmodal/tripmodal.component.html","./src/app/components/add-post/mime-type.validator.ts","./src/environments/environment.prod.ts","./src/app/components/comment/comment.component.ts","./src/app/components/comment/comment.component.html","./src/app/pipes/list-object.pipe.ts","./src/app/components/comment-section/comment-section.component.ts","./src/app/components/comment-section/comment-section.component.html","./src/app/components/registration-process/registrationpage/registrationpage.component.ts","./src/app/components/registration-process/registrationpage/registrationpage.component.html","./src/app/services/search.service.ts","./src/app/components/search-bar/search-bar.component.ts","./src/app/components/search-bar/search-bar.component.html","./src/app/components/chatsystem/chatwidget/chatwidget.component.ts","./src/app/components/chatsystem/chatwidget/chatwidget.component.html","./src/app/components/tabs/home/home.component.ts","./src/app/components/tabs/home/home.component.html","./src/app/components/add-post/add-post.component.ts","./src/app/components/add-post/add-post.component.html","./src/app/components/city-search/city-search.component.ts","./src/app/components/city-search/city-search.component.html","./src/app/app-routing.module.ts","./src/app/services/add-post.service.ts","./src/app/components/sidebar/sidebar.component.ts","./src/app/components/sidebar/sidebar.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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AC1C;AACL;AACuB;AACA;AACvB;AACsB;AAC/B;AACP;AACiB;AACI;AACO;AACT;AACA;AACK;AACb;AACT;AACF;AACQ;AACJ;AAC0B;AAC5B;AACI;AACU;AACd;AACa;AACE;AACjB;AACE;AACI;AACM;AACR;AACE;AACI;AACD;AACT;AACA;AACuB;AACb;AACK;AACQ;AACnB;AACE;AACF;AACW;AACN;AACA;AACP;AACF;AACM;AACA;AACN;AACyD;AACf;AAC3B;AACU;AACJ;AAC6C;AAEhB;AACb;AACxB;AACc;AACxB;AACb;AACyC;AACgB;AACY;AAC7B;AACd;AAC2B;AACtB;AACe;AACM;AACvB;AACoD;AACtE;AACK;AAC2B;AACpB;AACb;AACiC;AACf;;AAwGjE,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBAHT,EAAE,YAtDJ;YACP,uEAAa;YACb,oEAAgB;YAChB,0DAAW;YACX,kEAAmB;YACnB,sFAAqB;YACrB,qEAAS;YACT,6FAAuB;YACvB,gFAAkB;YAClB,uEAAc;YACd,qEAAa;YACb,6EAAiB;YACjB,yEAAe;YACf,uEAAc;YACd,0EAAe;YACf,qFAAqB;YACrB,uEAAc;YACd,oFAAoB;YACpB,yEAAe;YACf,sFAAqB;YACrB,qEAAa;YACb,6EAAiB;YACjB,uEAAc;YACd,2EAAgB;YAChB,iFAAmB;YACnB,yEAAe;YACf,2EAAgB;YAChB,+EAAkB;YAClB,8EAAiB;YACjB,qEAAa;YACb,uEAAc;YACd,qEAAa;YACb,qEAAa;YACb,2EAAmB;YACnB,+EAAkB;YAClB,oFAAoB;YACpB,4FAAwB;YACxB,uEAAc;YACd,uEAAe;YACf,yEAAe;YACf,2EAAgB;YAChB,yEAAe;YACf,oFAAoB;YACpB,8EAAiB;YACjB,qEAAa;YACb,uEAAc;YACd,qEAAa;YACb,2EAAgB;YAChB,2EAAgB;YAChB,qEAAa;YACb,qEAAgB;YAChB,sEAAc;YACd,uEAAe;SAChB;mIAIU,SAAS,mBApGlB,2DAAY;QACZ,kIAAqB;QACrB,wFAAc;QACd,mFAAe;QACf,0GAAmB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","file":"main-es2015.js","sourcesContent":["import { RoomWidget } from '../../models/Room_Widget.model'\r\nimport { SocketService } from './socket.service'\r\nimport { Injectable, OnDestroy } from '@angular/core'\r\nimport { BehaviorSubject, Observable } from 'rxjs'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class FriendlistService {\r\n\r\n  // lists of variables (eg: chatrooms, open chatWidgets)\r\n  private roomarr: RoomWidget[] = [] // all chatrooms of user\r\n  private widgetarr: any = [] // open chatWidgets roomName(s)\r\n  private idarr: any = [] // open chatWidget roomId(s)\r\n\r\n\r\n  // creating observable\r\n  private _chatroomList: BehaviorSubject<RoomWidget[]> = new BehaviorSubject(this.roomarr)\r\n  public chatroomList: Observable<RoomWidget[]> = this._chatroomList.asObservable()\r\n\r\n  private _openWidgets: BehaviorSubject<object> = new BehaviorSubject([])\r\n  public openWidgets: Observable<object> = this._openWidgets.asObservable()\r\n\r\n  private _windowSize: BehaviorSubject<number> = new BehaviorSubject(window.innerWidth)\r\n  public windowSize: Observable<number> = this._windowSize.asObservable()\r\n\r\n  private _roomModel: BehaviorSubject<RoomWidget> = new BehaviorSubject(new RoomWidget('asd', 'asd', false))\r\n  public roomModel: Observable<RoomWidget> = this._roomModel.asObservable()\r\n\r\n  constructor(private SocketService: SocketService) {\r\n\r\n  }\r\n\r\n  // gets list of chatrooms with corresponding properties than user's query\r\n  getList(array: string[]): any{\r\n    array.push(sessionStorage.getItem('username'))\r\n    const polishedarr = (array.filter((a, b) => array.indexOf(a) === (b))).sort()\r\n    // sends array of users in alphabeltical order\r\n    this.SocketService.emit('searchChatroom', {sender: sessionStorage.getItem('username'), req: polishedarr}, (data) => {\r\n      this.roomarr = []\r\n      this._chatroomList.next(this.roomarr)\r\n      if (data.err) {\r\n        console.log(data.err)\r\n      }\r\n      else if (data.res) {\r\n        (data.res).forEach(element => {\r\n\r\n          let unread: boolean\r\n          if (element.messages.length) { // check if chat is empty and if last message is unread\r\n            const lastIndex = element.messages.length - 1\r\n            if (element.messages[lastIndex].seen.includes(sessionStorage.getItem('username'))) {\r\n              unread = false\r\n            } else {\r\n              unread = true\r\n            }\r\n          } else {\r\n            unread = false\r\n          }\r\n\r\n          this.roomarr.push({\r\n            roomName: element.roomName,\r\n            roomId: element._id,\r\n            unread\r\n          })\r\n        })\r\n        this._chatroomList.next(this.roomarr)\r\n      }\r\n    })\r\n  }\r\n\r\n  // looks for room model given a roomid\r\n  getRoomWidget(roomId: string) {\r\n    this.roomarr.forEach((room) => {\r\n      if (room.roomId == roomId) {\r\n        this._roomModel.next(room)\r\n      }\r\n    })\r\n  }\r\n\r\n  // looks for users existence and creates chatroom\r\n  CreateChatroom(users: string): any {\r\n    const array: string[] = users.split(' ')\r\n    let polishedarr = (array.filter((a, b) => array.indexOf(a) === (b))).sort()\r\n    this.SocketService.emit('searchUser', polishedarr, (data) => {\r\n      if (data.err) {\r\n        console.log(data.err)\r\n      } else if (data.res) {\r\n        polishedarr.push(sessionStorage.getItem('username'))\r\n        this.SocketService.emit('createChatroom', polishedarr.sort())\r\n      }\r\n      polishedarr = []\r\n    })\r\n  }\r\n\r\n  // selecting a Chatroom from Friendlist component\r\n  toggleChatWidget(friend: RoomWidget) {\r\n    if (this.idarr.includes(friend.roomId)) {\r\n      const i = this.idarr.indexOf(friend.roomId)\r\n      this.widgetarr.splice(i, 1)\r\n      this.idarr.splice(i, 1)\r\n      friend.open = false\r\n    } else {\r\n      this.widgetarr.push(friend.roomName)\r\n      this.idarr.push(friend.roomId)\r\n      friend.open = true\r\n    }\r\n    this._openWidgets.next({\r\n      roomNames: this.widgetarr,\r\n      roomIds: this.idarr\r\n    })\r\n  }\r\n\r\n  // listen for unread messages from backend\r\n  getNotifications() {\r\n    this.SocketService.listen('notification').subscribe((data: any) => {\r\n      if (data.res) {\r\n        const i = this.roomarr.findIndex((e) => e.roomId === data.res.roomId)\r\n        if (data.res.action == 'message') {\r\n          if (i != -1) {\r\n            console.log('i defined ' + i)\r\n            if (data.res.sender == sessionStorage.getItem('username')) {\r\n              this.roomarr[i].unread = false\r\n            } else {\r\n              this.roomarr[i].unread = true\r\n            }\r\n            this._chatroomList.next(this.roomarr)\r\n          } else {\r\n            console.log('i undefined')\r\n          }\r\n        } else if (data.res.action == 'seen') {\r\n          data.res.seen.forEach(element => {\r\n            if (element.includes(sessionStorage.getItem('username'))) {\r\n              this.roomarr[i].unread = false\r\n              this._chatroomList.next(this.roomarr)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  // user interacted with chatwidget\r\n  // mark as read in angular\r\n  selectChatwidget(roomId: string) {\r\n    this.SocketService.emit('initChatroom', {id: roomId, username: sessionStorage.getItem('username') }, (data) => {\r\n      if (data) {\r\n        const i = this.roomarr.findIndex((e) => e.roomId === roomId)\r\n        this.roomarr[i].unread = false\r\n        this._chatroomList.next(this.roomarr)\r\n      }\r\n    })\r\n  }\r\n\r\n  resizeWindow(width: number) {\r\n    const CHATWIDGETWIDTH = 220\r\n    const FRIENDLISTWIDTH: number = 220 + (width * .2) // take in account sidebar of 20%\r\n    const MAXNUM: number = Math.floor((width - FRIENDLISTWIDTH) / CHATWIDGETWIDTH) // take into account friendlist component\r\n    if (this.widgetarr.length > MAXNUM) {\r\n      for (let x = this.widgetarr.length; x > MAXNUM; x--) {\r\n        const removedRoomId = this.idarr[0]\r\n        this.roomarr.forEach((room) => {\r\n          if (room.roomId == removedRoomId) {\r\n            room.open = false\r\n          }\r\n        })\r\n        this.widgetarr.shift()\r\n        this.idarr.shift()\r\n      }\r\n    }\r\n    this._windowSize.next(width)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.SocketService.remove('notification')\r\n  }\r\n}\r\n","import { SearchParams } from './../../models/searchParams'\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { TripService } from './../../services/trip.service'\r\nimport { BehaviorSubject, Observable } from 'rxjs'\r\nimport { Component, OnInit, OnDestroy, AfterViewInit } from '@angular/core'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { NestedTreeControl } from '@angular/cdk/tree'\r\nimport { CategoryNode} from 'src/app/models/CategoryNode.model'\r\nimport { Subscription } from 'rxjs'\r\n\r\n@Component({\r\n  selector: 'app-filter',\r\n  templateUrl: './filter.component.html',\r\n  styleUrls: ['./filter.component.scss']\r\n})\r\nexport class FilterComponent implements OnInit, OnDestroy {\r\n  completed: boolean\r\n  name: string\r\n  panelOpenState = false\r\n\r\n  categoriesTree: CategoryNode[] = null\r\n  categoriesSet: any = null\r\n  private categoriesTree_sub: Subscription\r\n  private categoriesSet_sub: Subscription\r\n\r\n  allComplete: Array<boolean> = null\r\n  count = 0\r\n\r\n  treeControl = new NestedTreeControl<CategoryNode>(node => node.categories)\r\n\r\n  private _selectedNodes: BehaviorSubject<string> = new BehaviorSubject(null)\r\n  selectedNodes: Observable<string> = this._selectedNodes.asObservable()\r\n\r\n  constructor(\r\n    private SearchService: SearchService,\r\n    private TripService: TripService,\r\n    private ActivatedRoute: ActivatedRoute,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.categoriesSet_sub = this.SearchService.categorySet.subscribe((set: Set<any>) => this.categoriesSet = set)\r\n\r\n    this.categoriesTree_sub = this.SearchService.categoryTree.subscribe((tree: CategoryNode[]) => {\r\n      if (tree) {\r\n        this.categoriesTree = tree\r\n\r\n        // sets category filter from url params\r\n        this.ActivatedRoute.queryParams.subscribe((params: SearchParams) => {\r\n          if (params.category) {\r\n            if (params.category === 'All') {\r\n              null\r\n            } else {\r\n              this.categoriesTree.forEach((child: CategoryNode) => {\r\n                if (child.name != params.category) {\r\n                  this.uncheckAll(child.categories)\r\n                } else {\r\n                  this.checkAll(child.categories)\r\n                }\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /** Checks if datasource for material tree has any child groups */\r\n  hasChild = (_: number, node: CategoryNode) => !!node.categories && node.categories.length > 0\r\n\r\n  /**toggle checkmark for leafs */\r\n  clickedActive(element: CategoryNode) {\r\n    element.checked = !element.checked\r\n    this.modifyIdSet(element)\r\n    this.SearchService.updateCategoryTree(this.categoriesTree)\r\n  }\r\n\r\n  /**toggle checkmark for nodes && node itself */\r\n  setAll(category: CategoryNode) {\r\n    const allChecked = this.initiateChildrenChecker(category.categories)\r\n    if (!allChecked) {\r\n      this.SearchService.treeValues.categorySet.has(category.id) ? null : this.SearchService.treeValues.categorySet.add(category.id)\r\n      this.checkAll(category.categories)\r\n    }\r\n    else if (allChecked) {\r\n      this.SearchService.treeValues.categorySet.has(category.id) ? this.SearchService.treeValues.categorySet.delete(category.id) : null\r\n      this.uncheckAll(category.categories)\r\n    }\r\n    this.SearchService.updateCategoryTree(this.categoriesTree)\r\n  }\r\n\r\n  /** checks all children of a node && node itself */\r\n  checkAll(categories: CategoryNode[]) {\r\n    categories.forEach((sub: CategoryNode) => {\r\n      sub.checked = true\r\n      this.SearchService.treeValues.categorySet.has(sub.id) ? null : this.SearchService.treeValues.categorySet.add(sub.id)\r\n\r\n      this.SearchService.updateCategorySet(this.categoriesSet)\r\n      // this.modifyIdSet(sub)\r\n\r\n      if (sub.categories && sub.categories.length > 0) {\r\n        this.checkAll(sub.categories)\r\n      }\r\n    })\r\n  }\r\n\r\n  /** unchecks all children of a node */\r\n  uncheckAll(categories: CategoryNode[]) {\r\n    categories.forEach((sub: CategoryNode) => {\r\n      sub.checked = false\r\n      this.SearchService.treeValues.categorySet.has(sub.id) ? this.SearchService.treeValues.categorySet.delete(sub.id) : null\r\n\r\n      // this.modifyIdSet(sub)\r\n      if (sub.categories && sub.categories.length > 0){\r\n        this.uncheckAll(sub.categories)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**initiates allChildrenChecked() */\r\n  initiateChildrenChecker(categories: CategoryNode[]): boolean{\r\n    let state = true\r\n    state = this.allChildrenChecked(categories, state)\r\n    return state\r\n  }\r\n\r\n  /** returns false if at least one child is unchecked*/\r\n  allChildrenChecked(categories: CategoryNode[], state: boolean): boolean {\r\n    categories.forEach((child: CategoryNode) => {\r\n      if (!state) {\r\n        return state\r\n      }\r\n      else if (state && child.categories && child.categories.length > 0) {\r\n        state = this.allChildrenChecked(child.categories, state)\r\n      }\r\n      else if (!child.checked) {\r\n        state = false\r\n        return state\r\n      }\r\n    })\r\n    return state\r\n  }\r\n\r\n  /**initiates atLeastOneChecked() */\r\n  initiateAtLeastOneChecked(categories: CategoryNode[]): boolean {\r\n    let state = false\r\n    state = this.atLeastOneChecked(categories, state)\r\n    return state\r\n  }\r\n\r\n  /** returns true if at least one child is checked*/\r\n  atLeastOneChecked(categories: CategoryNode[], state: boolean): boolean {\r\n    categories.forEach((child: CategoryNode) => {\r\n      if (state) {\r\n        return state\r\n      }\r\n      else if (!state && child.categories && child.categories.length > 0) {\r\n        state = this.atLeastOneChecked(child.categories, state)\r\n      }\r\n      else if (child.checked) {\r\n        state = true\r\n        return state\r\n      }\r\n    })\r\n    return state\r\n  }\r\n\r\n  /**accepts leaf node, and either removes it or adds it to the array */\r\n  modifyIdSet(node: CategoryNode) {\r\n    if (node.checked && !(this.categoriesSet).has(node.id) && node.categories.length === 0) {\r\n      this.categoriesSet.add(node.id)\r\n    } else if (!node.checked && this.categoriesSet.has(node.id) && node.categories.length === 0) {\r\n      this.categoriesSet.delete(node.id)\r\n    }\r\n    this.SearchService.updateCategorySet(this.categoriesSet)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.categoriesTree_sub.unsubscribe()\r\n    this.categoriesSet_sub.unsubscribe()\r\n  }\r\n}\r\n","<mat-tree [dataSource]=\"categoriesTree\" [treeControl]=\"treeControl\"  class=\"example-tree\" style=\"padding-left: 1em;\">\r\n  <!-- This is the tree node template for leaf nodes -->\r\n  <mat-tree-node *matTreeNodeDef=\"let node\" matTreeNodeToggle>\r\n    <li class=\"mat-tree-node\">\r\n      <!-- use a disabled button to provide padding for tree leaf -->\r\n      <button mat-icon-button disabled></button>\r\n      <mat-checkbox\r\n      [checked]=\"node.checked\"\r\n      (change)=\"clickedActive(node)\">\r\n        {{node.name}}\r\n      </mat-checkbox>\r\n    </li>\r\n  </mat-tree-node>\r\n  <!-- This is the tree node template for expandable nodes -->\r\n  <mat-nested-tree-node *matTreeNodeDef=\"let node; when: hasChild\">\r\n    <li>\r\n      <div class=\"mat-tree-node\">\r\n        <button mat-icon-button matTreeNodeToggle\r\n                [attr.aria-label]=\"'toggle ' + node.name\">\r\n          <mat-icon class=\"mat-icon-rtl-mirror\">\r\n            {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_left'}}\r\n          </mat-icon>\r\n        </button>\r\n        <mat-checkbox class=\"example-margin\"\r\n          [checked]=\"initiateChildrenChecker(node.categories)\"\r\n          [indeterminate]=\"!initiateChildrenChecker(node.categories) && initiateAtLeastOneChecked(node.categories)\"\r\n          (change)=\"setAll(node)\">\r\n            {{node.name}}\r\n        </mat-checkbox>\r\n      </div>\r\n      <ul [class.example-tree-invisible]=\"!treeControl.isExpanded(node)\">\r\n        <ng-container matTreeNodeOutlet></ng-container>\r\n      </ul>\r\n    </li>\r\n  </mat-nested-tree-node>\r\n</mat-tree>\r\n","import { environment } from './../../../../environments/environment.dev'\r\nimport { HttpService } from 'src/app/services/http.service'\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { CustomCoordinates } from 'src/app/models/coordinates'\r\nimport { LngLatLike, LngLat } from 'mapbox-gl'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\nimport { MatSort } from '@angular/material/sort'\r\nimport { AddVenuePopoverComponent } from './add-venue-popover/add-venue-popover.component'\r\nimport { Component, OnInit, OnDestroy, ViewChild } from '@angular/core'\r\nimport { SessionService } from 'src/app/services/session.service'\r\nimport { tripModel } from '../../../models/trip.model'\r\nimport { Subscription } from 'rxjs'\r\nimport { TripService } from './../../../services/trip.service'\r\nimport { TripmodalComponent } from 'src/app/components/tabs/mytrip/tripmodal/tripmodal.component'\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog'\r\nimport * as moment from 'moment'\r\nimport { MatAccordion } from '@angular/material/expansion'\r\nimport { MatTable, MatTableDataSource, MatTableModule } from '@angular/material/table'\r\nimport {CdkDragDrop, moveItemInArray, transferArrayItem} from '@angular/cdk/drag-drop'\r\nimport * as Mapboxgl from 'mapbox-gl'\r\nimport { last, sample } from 'rxjs/operators'\r\n\r\n@Component({\r\n  selector: 'app-mytrip',\r\n  templateUrl: './mytrip.component.html',\r\n  styleUrls: ['./mytrip.component.scss']\r\n})\r\nexport class MytripComponent implements OnInit, OnDestroy {\r\n  private sessionState_sub: Subscription\r\n  sessionState: boolean\r\n  isLoading = false\r\n  isErr = false\r\n  isSuccess = false\r\n  sharedTrip: tripModel = null\r\n  sharingUrl: URL | string = null\r\n\r\n  // trip accordeon\r\n  @ViewChild(MatAccordion) TripAccordion: MatAccordion\r\n  // onTripAccClose() {\r\n  //   this.TripAccordion.closeAll()\r\n  // }\r\n  // onTripAccOpen() {\r\n  //   this.TripAccordion.openAll()\r\n  // }\r\n\r\n  // dataSource for mat table\r\n  @ViewChild(MatTable) table: MatTable<any>\r\n  @ViewChild(MatSort) sort: MatSort\r\n  tableDataSource: MatTableDataSource<tripModel> = new MatTableDataSource([])\r\n\r\n  // data for add trip\r\n  name: string\r\n  start: any\r\n  end: any\r\n\r\n  // data for add venue\r\n  venueName: string\r\n  venuePrice: number\r\n  venueCity: string\r\n  venueAddress: string\r\n\r\n  displayedColumns = ['category', 'venueName', 'venueCity', 'venueAddress', 'price', 'url', 'index']\r\n\r\n  dialogRef: MatDialogRef<any>\r\n\r\n  // all trips of user\r\n  private _tripSub: Subscription\r\n  trips: tripModel[] = []\r\n\r\n  // display day of date\r\n  displayDay(date: Date): string {\r\n    const d = new Date(date)\r\n    const weekday: string[] = new Array(7)\r\n    weekday[0] = 'Sun'\r\n    weekday[1] = 'Mon'\r\n    weekday[2] = 'Tue'\r\n    weekday[3] = 'Wed'\r\n    weekday[4] = 'Thu'\r\n    weekday[5] = 'Fri'\r\n    weekday[6] = 'Sat'\r\n    const i = d.getDay()\r\n    return weekday[i]\r\n  }\r\n\r\n  // get price for a day w/ schedule obj\r\n  getDayPrice(obj: {[key: string]: any}): number {\r\n    let total = 0\r\n    if (obj) {\r\n      const venues: any[] = obj.venues ? obj.venues : []\r\n      for (let x = 0; x < venues.length; x++) {\r\n        venues[x].price ? total += venues[x].price : total += 0\r\n      }\r\n    }\r\n    return total\r\n  }\r\n\r\n  // use trip object to get price for all days\r\n  getTotalPrice(obj: tripModel): number {\r\n    let total = 0\r\n    if (obj.schedule) {\r\n      obj.schedule.forEach((element) => {\r\n        total += this.getDayPrice(element)\r\n      })\r\n    }\r\n    return total\r\n  }\r\n\r\n  // get venues for a day w/ schedule obj\r\n  getDayVenues(obj: {[key: string]: any}): number {\r\n    if (obj) {\r\n      const venues: any[] = obj.venues ? obj.venues : []\r\n      return venues.length\r\n    } else {\r\n      return 0\r\n    }\r\n  }\r\n\r\n  // use trip object to get venues for all days\r\n  getTotalVenues(obj: tripModel): number {\r\n    let total = 0\r\n    if (obj.schedule) {\r\n      obj.schedule.forEach((element) => {\r\n        total += this.getDayVenues(element)\r\n      })\r\n    }\r\n    return total\r\n  }\r\n\r\n  getTripDistance(tripIndex: number|null, shared?: boolean): string {\r\n    let dist = 0\r\n    let lastCoord: LngLat = null\r\n    const obj = shared ? this.sharedTrip : this.trips[tripIndex]\r\n    for (let x = 0; x < obj.schedule.length; x++) {\r\n      obj.schedule[x].venues.forEach((venue) => {\r\n        if (venue.venueCoord) {\r\n          if (lastCoord === null) {\r\n            lastCoord = new LngLat(venue.venueCoord.lng, venue.venueCoord.lat)\r\n          }\r\n          dist += lastCoord.distanceTo(venue.venueCoord)\r\n          lastCoord = new LngLat(venue.venueCoord.lng, venue.venueCoord.lat)\r\n        }\r\n      })\r\n    }\r\n    return (dist / 1000).toFixed(2)\r\n  }\r\n\r\n  getDataSource(tripIndex: number, dayIndex: number, shared?: boolean): MatTableDataSource<any> {\r\n    const source = new MatTableDataSource<any>([])\r\n    const obj = shared ? this.sharedTrip : this.trips[tripIndex]\r\n    if (obj.schedule) {\r\n      source.data = obj.schedule[dayIndex].venues\r\n      source.sort = this.sort\r\n      return source\r\n    } else {\r\n      return source\r\n    }\r\n  }\r\n\r\n  constructor(private MatDialog: MatDialog,\r\n              private TripService: TripService,\r\n              private SessionService: SessionService,\r\n              private MapService: MapService,\r\n              private ActivatedRoute: ActivatedRoute,\r\n              private HttpService: HttpService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // if from link\r\n    this.ActivatedRoute.queryParams.subscribe((params) => {\r\n      if (params.tripId) {\r\n        console.log(params)\r\n        this.HttpService.get('/trips', {\r\n          tripId: params.tripId\r\n        })\r\n        .then((res: {trip: tripModel}) => {\r\n          this.sharedTrip = res.trip\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n\r\n        })\r\n      }\r\n    })\r\n\r\n    this.isLoading = true\r\n    this._tripSub = this.TripService.trips.subscribe((trips: tripModel[]) => {\r\n      this.trips = trips\r\n      this.isLoading = false\r\n      if (this.table) {\r\n        this.table.renderRows()\r\n      }\r\n    })\r\n    this.sessionState_sub = this.SessionService.sessionState.subscribe((state: boolean) => {\r\n      this.sessionState = state\r\n    })\r\n  }\r\n\r\n  changeSharingLink(id: string) {\r\n    this.sharingUrl = environment.travelnetURL + '/mytrip?' + 'tripId=' + id\r\n  }\r\n\r\n  /** copy shared trip to own trip */\r\n  copyTrip() {\r\n    this.trips.push(this.sharedTrip)\r\n    this.isLoading = true\r\n    this.TripService.modifyBackend(this.trips)\r\n    .then(() => {\r\n      this.isSuccess = true\r\n    })\r\n    .finally(() => {\r\n      this.isLoading = false\r\n    })\r\n  }\r\n\r\n  /** modal for adding a trip */\r\n  openAddTripModal() {\r\n    this.dialogRef = this.MatDialog.open(TripmodalComponent, {\r\n      width: '800px',\r\n      data: {\r\n        name: this.name,\r\n        start: this.start,\r\n        end: this.end\r\n      }\r\n    })\r\n\r\n    this.dialogRef.afterClosed().subscribe((result: tripModel) => {\r\n      if (result) {\r\n        this.trips.push(result)\r\n        this.TripService.updateLocal(this.trips)\r\n      }\r\n    })\r\n  }\r\n\r\n  /** modal for adding venue */\r\n  openAddVenueModal(tripIndex: number, scheduleIndex: number, venueIndex: number|null) {\r\n    this.dialogRef = this.MatDialog.open(AddVenuePopoverComponent, {\r\n      width: '800px',\r\n      data: {\r\n        tripIndex,\r\n        scheduleIndex,\r\n        venueIndex,\r\n        name: this.venueName,\r\n        venuePrice: this.venuePrice,\r\n        venueCity: this.venueCity,\r\n        venueAddress: this.venueAddress\r\n      }\r\n    })\r\n\r\n    this.dialogRef.afterClosed().subscribe((result: any) => {\r\n      // if (result) {\r\n      //   this.trips.push(result)\r\n      //   this.TripService.update(this.trips)\r\n      // }\r\n    })\r\n  }\r\n\r\n  /** when row are reordered */\r\n  onListDrop(event: CdkDragDrop<string[]>, tripIndex: number, dayIndex: number) {\r\n    moveItemInArray(this.trips[tripIndex].schedule[dayIndex].venues, event.previousIndex, event.currentIndex)\r\n    this.isLoading = true\r\n    this.TripService.modifyBackend(this.trips)\r\n    .then((res) => {\r\n      this.table.renderRows()\r\n      this.isSuccess = true\r\n    })\r\n    .catch(() => {\r\n      this.isErr = true\r\n    })\r\n    .finally(() => {\r\n      this.isLoading = false\r\n      setTimeout(() => {\r\n        this.isSuccess = false\r\n        this.isErr = false\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  /** delete one venue  */\r\n  onDeleteVenue(tripIndex: number, dayIndex: number, venueIndex: number) {\r\n    if (confirm(`are you sure you want to delete this venue?`)) {\r\n      console.log( this.trips[tripIndex].schedule[dayIndex].venues[venueIndex])\r\n      this.trips[tripIndex].schedule[dayIndex].venues.splice(venueIndex, 1)\r\n      this.TripService.modifyBackend(this.trips)\r\n      .finally(() => {\r\n        if (this.table) {\r\n          this.table.renderRows()\r\n        }\r\n      })\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  /** delete entire trip */\r\n  onDeleteTrip(name: string, index: number) {\r\n    if (confirm(`are you sure you want to delete ${name}?`)) {\r\n      this.trips.splice(index, 1)\r\n      this.TripService.modifyBackend(this.trips)\r\n      .finally(() => {\r\n        if (this.table) {\r\n          this.table.renderRows()\r\n        }\r\n      })\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  /** show itinerary of trip on map */\r\n  showItinerary(tripIndex: number, shared?: boolean) {\r\n    // already showing itinerary\r\n    if (this.MapService.map.getSource('route')) {\r\n      this.MapService.map.removeLayer('route')\r\n      this.MapService.map.removeSource('route')\r\n      this.MapService.map.removeLayer('points')\r\n      this.MapService.map.removeSource('points')\r\n    }\r\n    const obj = shared ? this.sharedTrip : this.trips[tripIndex]\r\n    // push venues in array\r\n    const coord: Array<number[]> = []\r\n    for (const day of obj.schedule) {\r\n      day.venues.forEach((venue) => {\r\n        if (venue.venueCoord) {\r\n          coord.push([venue.venueCoord.lng, venue.venueCoord.lat])\r\n\r\n          // show point\r\n          this.MapService.showMarker(1, {\r\n            name: venue.name as string,\r\n            content: {\r\n              geometry: {\r\n                coordinates: [venue.venueCoord.lng, venue.venueCoord.lat]\r\n              }\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    // display as route\r\n    this.MapService.map.addSource('route', {\r\n      type: 'geojson',\r\n      data: {\r\n        type: 'Feature',\r\n        properties: {},\r\n        geometry: {\r\n          type: 'LineString',\r\n          coordinates: coord\r\n        }\r\n      }\r\n    })\r\n    this.MapService.map.addLayer({\r\n      id: 'route',\r\n      type: 'line',\r\n      source: 'route',\r\n      layout: {\r\n      'line-join': 'round',\r\n      'line-cap': 'round'\r\n      },\r\n      paint: {\r\n      'line-color': '#3bb2d0',\r\n      'line-width': 8\r\n      }\r\n    })\r\n    this.MapService.map.moveLayer('points')\r\n  }\r\n\r\n\r\n  /** display location of venue on map */\r\n  showLocation(tripIndex: number, dayIndex: number, venueIndex: number, shared?: boolean) {\r\n    const obj = shared ? this.sharedTrip : this.trips[tripIndex]\r\n    this.MapService.venueOnDestroy()\r\n    const coord: CustomCoordinates = obj.schedule[dayIndex].venues[venueIndex].venueCoord ? new CustomCoordinates(obj.schedule[dayIndex].venues[venueIndex].venueCoord.lng, obj.schedule[dayIndex].venues[venueIndex].venueCoord.lat) : null\r\n    if (coord) {\r\n      this.MapService.addMarker(coord)\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.MapService.venueOnDestroy()\r\n    this._tripSub.unsubscribe()\r\n    this.sessionState_sub.unsubscribe()\r\n    this.MapService.removeMarker('', null, true)\r\n    if (this.MapService.map.getSource('route')) {\r\n      this.MapService.map.removeLayer('route')\r\n      this.MapService.map.removeSource('route')\r\n      this.MapService.map.removeLayer('points')\r\n      this.MapService.map.removeSource('points')\r\n    }\r\n  }\r\n}\r\n","<div style=\"position: relative;\" *ngIf='sessionState'>\r\n    <div class=\"container\" style=\"background-color: rgba(255, 200, 200, 1); padding: 1em;\">\r\n        <div class=\"row justify-content-center\">\r\n            <button mat-mini-fab class=\"col-auto align-self-center\" matTooltip='create a new trip' (click)='openAddTripModal()'>\r\n                <mat-icon>add</mat-icon>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <br>\r\n    <div class=\"\" style=\"max-height: 100%\">\r\n\r\n        <div class=\"\" *ngIf='isLoading && !trips'>\r\n            <mat-spinner diameter='20'></mat-spinner>\r\n        </div>\r\n        <mat-accordion class=\"container-fluid\" style=\"min-height: 750px;\"  >\r\n            <!-- for shared links -->\r\n            <mat-expansion-panel #shared *ngIf='sharedTrip' [expanded]='sharedTrip'>\r\n                <mat-expansion-panel-header>\r\n                    <mat-panel-title class=\"align-self-center\">\r\n                        <span>\r\n                            {{sharedTrip.tripName}}\r\n                            <button mat-button matTooltip='shared trip' (click)='shared.toggle()'>\r\n                                <mat-icon class=\"text-success\" >link</mat-icon>\r\n                            </button>\r\n                        </span>\r\n                    </mat-panel-title>\r\n                    <mat-panel-description class=\"align-self-center\" >{{sharedTrip.dateRange.start|date}} &mdash; {{sharedTrip.dateRange.end|date}}&nbsp;<mat-divider [vertical]=\"true\"></mat-divider>&nbsp;{{ sharedTrip.dateRange.length }} days</mat-panel-description>\r\n                    <span (click)=\"shared.toggle()\" style=\"margin-right: 1em;\">  \r\n                        <button mat-button (click)='changeSharingLink(sharedTrip._id)' color='primary' matTooltip='share this trp' [ngbPopover]='popContent' [autoClose]=\"'outside'\" container=\"body\">    \r\n                            <mat-icon>share</mat-icon>\r\n                        </button>\r\n                        <button mat-button (click)='showItinerary(null, true)' color='accent' matTooltip='show itinerary on map' >    \r\n                            <mat-icon>map</mat-icon>\r\n                        </button>\r\n                        <button mat-button (click)='copyTrip()' matTooltip='copy this trip'>\r\n                            <mat-icon class='text-success'>add</mat-icon>\r\n                        </button>\r\n                    </span>\r\n                </mat-expansion-panel-header>\r\n\r\n                <mat-card>\r\n                    <mat-card-content class=\"\">\r\n                        <div class=\"example-action-buttons\">\r\n                            <button mat-button (click)=\"TripAccordion.openAll()\">Expand All</button>\r\n                            <button mat-button (click)=\"TripAccordion.closeAll()\">Collapse All</button>\r\n                        </div>\r\n                        <mat-accordion #acc multi>\r\n                            <mat-expansion-panel *ngFor='let schedule of sharedTrip.schedule; let j = index'>\r\n                                <mat-expansion-panel-header>\r\n                                    <mat-panel-title>\r\n                                        day {{ j + 1 }}\r\n                                    </mat-panel-title>\r\n                                    <mat-panel-description>\r\n                                        {{ displayDay(schedule.day) }} | {{ schedule.day | date }} &nbsp; &mdash; &nbsp; Locations: {{getDayVenues(schedule)}} &nbsp; &mdash; &nbsp; Price: {{getDayPrice(schedule)}}$\r\n                                    </mat-panel-description>\r\n                                </mat-expansion-panel-header>\r\n                                <div class=\"container-fluid\">\r\n                                    <mat-table [dataSource]='getDataSource(0, j, true)' style=\"width: 100%;\" matSort>\r\n                                         <!-- category -->\r\n                                         <ng-container matColumnDef=\"category\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Category </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\">\r\n                                                <button mat-mini-fab color='primary' style=\"box-shadow: none;\" *ngIf='element.category' matTooltip='{{element.category.name}}'>\r\n                                                    <img src=\"{{element.category.url}}\" alt=\"\" style=\"margin-top: -0.3em;\">\r\n                                                </button>\r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- venueName -->\r\n                                        <ng-container matColumnDef=\"venueName\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Venue Name </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\">{{element.name}}</mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- venueCity -->\r\n                                        <ng-container matColumnDef=\"venueCity\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> City </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\"> {{element.venueCity}} </mat-cell>\r\n                                        </ng-container>\r\n                                        \r\n                                        <!-- venueAddress -->\r\n                                        <ng-container matColumnDef=\"venueAddress\" style=\"display: inline-block\">\r\n                                            <mat-header-cell *matHeaderCellDef> Address </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\"><p style=\"display: inline-block; width: 100%;\">{{element.venueAddress}} </p> </mat-cell>\r\n                                        </ng-container>\r\n                                        \r\n                                        <!-- venuePrice -->\r\n                                        <ng-container matColumnDef=\"price\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Price </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\" >\r\n                                                <span class=\"text-center\" style=\"width: 100%;\" *ngIf='element.price == 0'>{{element.price}}$</span> \r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- website -->\r\n                                        <ng-container matColumnDef=\"url\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Website </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\">\r\n                                                <a href=\"{{element.url}}\" target=\"_blank\" *ngIf='element.url' matTooltip='{{element.url}}'>\r\n                                                    <button mat-button>\r\n                                                        <mat-icon>open_in_new</mat-icon>\r\n                                                    </button>\r\n                                                </a>\r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- edit & drag -->\r\n                                        <ng-container matColumnDef=\"index\" stickyEnd>\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header></mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let index = index\">\r\n                                                <p class=\"text-right\" style=\"width: 100%;\">\r\n                                                    <button mat-button matTooltip='show location on map' (click)='showLocation(null, j, index, true)'>\r\n                                                        <mat-icon>map</mat-icon>\r\n                                                    </button>\r\n                                                </p>\r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n                                        <mat-row *matRowDef=\"let row; columns: displayedColumns;\" cdkDrag></mat-row>\r\n                                    </mat-table>\r\n                                </div>\r\n                            </mat-expansion-panel>\r\n                            <br>\r\n                            <!-- trip stats -->\r\n                            <mat-expansion-panel expanded='true'>\r\n                                <mat-expansion-panel-header>\r\n                                    <mat-panel-title>Trip Overview</mat-panel-title>\r\n                                    <mat-panel-description>All your stats are here</mat-panel-description>   \r\n                                </mat-expansion-panel-header>\r\n                                <div class=\"row container-fluid\">\r\n                                    <mat-chip-list>\r\n                                        <mat-chip color=\"primary\" selected>Distance Traveled: {{getTripDistance(null, true)}} km</mat-chip>\r\n                                        <mat-chip color=\"warn\" selected>Places Visited: {{getTotalVenues(sharedTrip)}}</mat-chip>\r\n                                        <mat-chip color=\"accent\" selected>Price: {{getTotalPrice(sharedTrip)}}$</mat-chip>\r\n                                    </mat-chip-list>\r\n                                </div>\r\n                            </mat-expansion-panel>\r\n                        </mat-accordion>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n            </mat-expansion-panel>\r\n            \r\n            <br>\r\n            <!-- no trips -->\r\n            <div *ngIf='!trips && !isLoading' class=\"container-fluid row rounded align--items-center\" style=\"background-color: rgba(255, 255, 255, 1); min-height: 100px;\">\r\n                &nbsp;<h2 class=\"align-self-center\">No trips Yet...</h2>\r\n            </div>\r\n\r\n            <!-- for own trips -->\r\n            <mat-expansion-panel #pan *ngFor='let trip of trips, let i = index, let isFirst = first' [expanded]='isFirst && !sharedTrip'>\r\n                <mat-expansion-panel-header class=\"my-headers-align\">\r\n                    <mat-panel-title class=\"align-self-center\">{{trip.tripName}}</mat-panel-title>\r\n                    <mat-panel-description class=\"align-self-center\" >{{trip.dateRange.start|date}} &mdash; {{trip.dateRange.end|date}}&nbsp;<mat-divider [vertical]=\"true\"></mat-divider>&nbsp;{{ trip.dateRange.length }} days</mat-panel-description>\r\n                    <span (click)=\"pan.toggle()\" style=\"margin-right: 1em;\">  \r\n                        <button mat-button (click)='changeSharingLink(trip._id)' color='primary' matTooltip='share this trp' [ngbPopover]='popContent' [autoClose]=\"'outside'\" container=\"body\">    \r\n                            <mat-icon>share</mat-icon>\r\n                        </button>\r\n                        <button mat-button (click)='showItinerary(i)' color='accent' matTooltip='show itinerary on map' >    \r\n                            <mat-icon>map</mat-icon>\r\n                        </button>\r\n                    </span>\r\n                </mat-expansion-panel-header>\r\n                <mat-card>\r\n                    <mat-card-content class=\"\">\r\n                        <div class=\"example-action-buttons\">\r\n                            <button mat-button (click)=\"TripAccordion.openAll()\">Expand All</button>\r\n                            <button mat-button (click)=\"TripAccordion.closeAll()\">Collapse All</button>\r\n                        </div>\r\n                        <mat-accordion #acc multi>\r\n                            <mat-expansion-panel *ngFor='let schedule of trip.schedule; let j = index'>\r\n                                <mat-expansion-panel-header>\r\n                                    <mat-panel-title>\r\n                                        day {{ j + 1 }}\r\n                                    </mat-panel-title>\r\n                                    <mat-panel-description>\r\n                                        {{ displayDay(schedule.day) }} | {{ schedule.day | date }} &nbsp; &mdash; &nbsp; Locations: {{getDayVenues(schedule)}} &nbsp; &mdash; &nbsp; Price: {{getDayPrice(schedule)}}$\r\n                                    </mat-panel-description>\r\n                                </mat-expansion-panel-header>\r\n                                <div class=\"container-fluid\">\r\n                                    <mat-table [dataSource]='getDataSource(i, j)' style=\"width: 100%;\" matSort cdkDropList [cdkDropListData]='getDataSource(i, j)' (cdkDropListDropped)=\"onListDrop($event, i, j)\">\r\n                                         <!-- category -->\r\n                                         <ng-container matColumnDef=\"category\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Category </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\">\r\n                                                <button mat-mini-fab color='primary' style=\"box-shadow: none;\" *ngIf='element.category' matTooltip='{{element.category.name}}'>\r\n                                                    <img src=\"{{element.category.url}}\" alt=\"\" style=\"margin-top: -0.3em;\">\r\n                                                </button>\r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- venueName -->\r\n                                        <ng-container matColumnDef=\"venueName\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Venue Name </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\">{{element.name}}</mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- venueCity -->\r\n                                        <ng-container matColumnDef=\"venueCity\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> City </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\"> {{element.venueCity}} </mat-cell>\r\n                                        </ng-container>\r\n                                        \r\n                                        <!-- venueAddress -->\r\n                                        <ng-container matColumnDef=\"venueAddress\" style=\"display: inline-block\">\r\n                                            <mat-header-cell *matHeaderCellDef> Address </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\"><p style=\"display: inline-block; width: 100%;\">{{element.venueAddress}} </p> </mat-cell>\r\n                                        </ng-container>\r\n                                        \r\n                                        <!-- venuePrice -->\r\n                                        <ng-container matColumnDef=\"price\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Price </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\" >\r\n                                                <span class=\"text-center\" style=\"width: 100%;\" *ngIf='element.price == 0'>{{element.price}}$</span> \r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- website -->\r\n                                        <ng-container matColumnDef=\"url\">\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header> Website </mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let element\">\r\n                                                <a href=\"{{element.url}}\" target=\"_blank\" *ngIf='element.url' matTooltip='{{element.url}}'>\r\n                                                    <button mat-button>\r\n                                                        <mat-icon>open_in_new</mat-icon>\r\n                                                    </button>\r\n                                                </a>\r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <!-- edit & drag -->\r\n                                        <ng-container matColumnDef=\"index\" stickyEnd>\r\n                                            <mat-header-cell *matHeaderCellDef mat-sort-header></mat-header-cell>\r\n                                            <mat-cell *matCellDef=\"let index = index\">\r\n                                                <p class=\"text-right\" style=\"width: 100%;\">\r\n                                                    <button mat-button matTooltip='edit venue' (click)='openAddVenueModal(i, j, index)'>\r\n                                                        <mat-icon>edit</mat-icon>\r\n                                                    </button>\r\n                                                    <button mat-button matTooltip='delete venue' color='warn' (click)='onDeleteVenue(i, j, index)'>\r\n                                                        <mat-icon>delete</mat-icon>\r\n                                                    </button>\r\n                                                    <button mat-button matTooltip='show location on map' (click)='showLocation(i, j, index)'>\r\n                                                        <mat-icon>map</mat-icon>\r\n                                                    </button>\r\n                                                    <button mat-button matTooltip='drag to reorder schedule' cdkDragHandle>\r\n                                                        <mat-icon>drag_indicator</mat-icon>\r\n                                                    </button>\r\n                                                </p>\r\n                                            </mat-cell>\r\n                                        </ng-container>\r\n\r\n                                        <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n                                        <mat-row *matRowDef=\"let row; columns: displayedColumns;\" cdkDrag></mat-row>\r\n                                    </mat-table>\r\n                                </div>\r\n                                <br>\r\n                                <!-- add venue -->\r\n                                <div class=\"row justify-content-center\">\r\n                                    <button mat-mini-fab id=\"addIcon\" class=\"col-auto align-self-center\" (click)='openAddVenueModal(i, j, null)' matTooltip='add a venue'>\r\n                                        <mat-icon id='addIcon' *ngIf='!isLoading && !isErr && !isSuccess'>add_location</mat-icon>\r\n                                        <mat-icon id='addIcon' *ngIf='!isLoading && !isErr && isSuccess'>done</mat-icon>\r\n                                        <mat-icon id='addIcon' class=\"text-danger\" *ngIf='!isLoading && isErr && !isSuccess'>error</mat-icon>\r\n                                        <mat-spinner *ngIf='isLoading && !isErr && !isSuccess' diameter='20'></mat-spinner>\r\n                                    </button>\r\n                                    &nbsp;\r\n                                    <small class=\"text-success align-self-center\" style=\"vertical-align: middle;\" *ngIf='!isLoading && !isErr && isSuccess'>Schedule Saved Successfully!</small>\r\n                                </div>\r\n                            </mat-expansion-panel>\r\n                            <br>\r\n                            <!-- trip stats -->\r\n                            <mat-expansion-panel expanded='true'>\r\n                                <mat-expansion-panel-header>\r\n                                    <mat-panel-title>Trip Overview</mat-panel-title>\r\n                                    <mat-panel-description>All your stats are here</mat-panel-description>   \r\n                                </mat-expansion-panel-header>\r\n                                <div class=\"row container-fluid\">\r\n                                    <mat-chip-list>\r\n                                        <mat-chip color=\"primary\" selected>Distance Traveled: {{getTripDistance(i)}} km</mat-chip>\r\n                                        <mat-chip color=\"warn\" selected>Places Visited: {{getTotalVenues(trip)}}</mat-chip>\r\n                                        <mat-chip color=\"accent\" selected>Price: {{getTotalPrice(trip)}}$</mat-chip>\r\n                                    </mat-chip-list>\r\n                                </div>\r\n                            </mat-expansion-panel>\r\n                        </mat-accordion>\r\n                    </mat-card-content>\r\n                    \r\n                    <!-- trip actions -->\r\n                    <mat-card-actions class=\"\">\r\n                        <button mat-button color='warn' (click)='onDeleteTrip(trip.tripName, i)'>\r\n                            delete\r\n                        </button>\r\n                        <button mat-button color='primary'>\r\n                            complete!\r\n                        </button>\r\n                    </mat-card-actions>\r\n                </mat-card>    \r\n            </mat-expansion-panel>\r\n        </mat-accordion>\r\n    </div>\r\n</div>\r\n\r\n<mat-grid-list *ngIf='!sessionState' cols='4' >\r\n    <mat-grid-tile colspan='4'>\r\n        <div class=\"container-fluid row justify-content-center rounded\" style=\"background-color: rgba(255, 255, 255, 0.9); margin: 10%; padding: 5%;\">\r\n            <button mat-flat-button color='accent' style=\"align-content: center;\" routerLink='/login'>\r\n                <p style=\"margin: 0;\">You must have an Account to Create a Trip</p>\r\n            </button>   \r\n        </div>\r\n    </mat-grid-tile>\r\n</mat-grid-list>\r\n\r\n<!-- share popover -->\r\n<ng-template #popContent> \r\n    <app-share [UrlLink]='sharingUrl'></app-share>\r\n</ng-template>\r\n","import { Subscription } from 'rxjs'\r\nimport { SessionService } from './../../services/session.service'\r\nimport { FriendlistService } from 'src/app/services/chatsystem/friendlist.service'\r\nimport { Component, OnInit, OnDestroy } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'app-chatsystem',\r\n  templateUrl: './chatsystem.component.html',\r\n  styleUrls: ['./chatsystem.component.scss']\r\n})\r\nexport class ChatsystemComponent implements OnInit, OnDestroy {\r\n\r\n  sessionState: boolean\r\n  user = sessionStorage.getItem('username')\r\n  openChatWidgets: any\r\n\r\n  private openChatWidgets_sub: Subscription\r\n  private sessionState_sub: Subscription\r\n\r\n  constructor(\r\n    private FriendlistService: FriendlistService,\r\n    private SessionService: SessionService){\r\n\r\n    this.SessionService.session()\r\n\r\n    this.openChatWidgets_sub = this.FriendlistService.openWidgets.subscribe(x => {\r\n      this.openChatWidgets = x\r\n    })\r\n    this.sessionState_sub = this.SessionService.sessionState.subscribe(x => {\r\n      this.sessionState = x\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.FriendlistService.getNotifications()\r\n  }\r\n\r\n  refreshRoom(roomId: string) {\r\n    this.FriendlistService.selectChatwidget(roomId)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.openChatWidgets_sub.unsubscribe()\r\n    this.sessionState_sub.unsubscribe()\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div class=\"row-12 chatwidget\">\r\n\r\n    <div class=\"col-8 col-sm-9 col-md-10 col-lg-9 col-xl-10\">\r\n      <div class='container-fluid'>\r\n        <div class=\"row justify-content-end\">\r\n          <app-chatwidget\r\n            (click)='refreshRoom(openChatWidgets.roomIds[i])'\r\n            *ngFor='let widget of openChatWidgets.roomNames, let i = index '\r\n            [roomName]=\"widget\"\r\n            [roomId]='openChatWidgets.roomIds[i]'>\r\n          </app-chatwidget>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-4 col-sm-3 col-md-2 col-lg-3 col-xl-2\">\r\n      <app-friendlist></app-friendlist>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","import { AbstractControl } from '@angular/forms'\r\nimport { Observable, Observer, of } from 'rxjs'\r\n\r\nexport const mimeType = (\r\n  control: AbstractControl\r\n): Promise<{ [key: string]: any }> | Observable<{ [key: string]: any }> => {\r\n  if (typeof(control.value) === 'string') {\r\n    return of(null)\r\n  }\r\n  const file = control.value as File\r\n  const fileReader = new FileReader()\r\n  const frObs = Observable.create(\r\n    (observer: Observer<{ [key: string]: any }>) => {\r\n      fileReader.addEventListener('loadend', () => {\r\n        const arr = new Uint8Array(fileReader.result as ArrayBuffer).subarray(0, 4)\r\n        let header = ''\r\n        let isValid = false\r\n        for (let i = 0; i < arr.length; i++) {\r\n          header += arr[i].toString(16)\r\n        }\r\n        switch (header) {\r\n          case '89504e47':\r\n            isValid = true\r\n            break\r\n          case 'ffd8ffe0':\r\n          case 'ffd8ffe1':\r\n          case 'ffd8ffe2':\r\n          case 'ffd8ffe3':\r\n          case 'ffd8ffe8':\r\n            isValid = true\r\n            break\r\n          default:\r\n            isValid = false // Or you can use the blob.type as fallback\r\n            break\r\n        }\r\n        if (isValid) {\r\n          observer.next(null)\r\n        } else {\r\n          observer.next({ invalidMimeType: true })\r\n        }\r\n        observer.complete()\r\n      })\r\n      fileReader.readAsArrayBuffer(file)\r\n    }\r\n  )\r\n  return frObs\r\n}\r\n","import { SessionService } from '../../../../services/session.service'\r\nimport { Component, OnInit, Input } from '@angular/core'\r\nimport { RoomWidget } from '../../../../models/Room_Widget.model'\r\nimport { FriendlistService } from 'src/app/services/chatsystem/friendlist.service'\r\n\r\n@Component({\r\n  selector: 'app-friend',\r\n  templateUrl: './friend.component.html',\r\n  styleUrls: ['./friend.component.scss']\r\n})\r\n\r\nexport class FriendComponent implements OnInit {\r\n\r\n  sessionRoomName: string\r\n  username: string = sessionStorage.getItem('username')\r\n\r\n  @Input() friend: RoomWidget\r\n  constructor(private friendlistService: FriendlistService,\r\n              public sessionService: SessionService) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.sessionRoomName = this.sessionService.getRoomName(this.friend.roomName)\r\n  }\r\n\r\n  // open or close chat widget\r\n  toggleChatWidget(friend: RoomWidget) {\r\n    this.friendlistService.toggleChatWidget(friend)\r\n    this.friendlistService.resizeWindow(window.innerWidth)\r\n  }\r\n}\r\n","<button type=\"button\" class=\"btn\"\r\n    [ngClass]=\"friend.unread ? 'btn-danger' : friend.open ? 'btn-light disabled' : 'btn-light'\"\r\n    (click)='toggleChatWidget(friend)'>\r\n        {{sessionRoomName}}\r\n</button>","import { MapService } from 'src/app/services/map/map.service'\r\nimport { Subscription } from 'rxjs'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { Router } from '@angular/router'\r\nimport { Component, Output, EventEmitter, ViewChild, ElementRef, Renderer2, OnDestroy, OnInit } from '@angular/core'\r\nimport { SessionService } from 'src/app/services/session.service'\r\n\r\n\r\n@Component({\r\n    selector: 'header-navbar',\r\n    templateUrl: './header.component.html',\r\n    styleUrls: ['./header.component.scss'],\r\n})\r\n\r\nexport class HeaderComponent implements OnDestroy, OnInit{\r\n    sessionState: any\r\n    username: string\r\n    // link = 'data:image/jpeg;base64,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'\r\n    link = 'https://cdn.discordapp.com/attachments/681368843951538206/792228230189940756/icon.png'\r\n\r\n    private sessionState_sub: Subscription\r\n\r\n    constructor(private sessionService: SessionService) {\r\n        this.sessionState_sub = this.sessionService.sessionState.subscribe((username) => {\r\n            this.sessionState = username\r\n            if (username) {\r\n                this.username = sessionStorage.getItem('username')\r\n            } else {\r\n                this.username = ''\r\n            }\r\n        })\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.sessionState_sub.unsubscribe()\r\n    }\r\n}\r\n","<!-- <div id='header' class=\"row-12\"> -->\r\n  <!-- search bar -->\r\n  <!-- <form (submit)='onSubmit(search.value)' class='form col-auto'>\r\n    <input #search (keyup)='onKey(search.value)' class='form-control' type='search' placeholder='Search' aria-label='Search' autocomplete='off'>\r\n    <i class=\"fas fa-search\" aria-hidden=\"true\"></i> -->\r\n      <!-- search results -->\r\n    <!-- <div class=\"container-fluid\" id='searchResultsContainer'>\r\n      <div *ngIf='loading' class=\"spinner-border text-primary\" style=\"margin-left: 50%;\"></div>\r\n      <div #searchResults></div>\r\n    </div>\r\n  </form> -->\r\n\r\n  <!-- login/register widgets -->\r\n  <!-- <div\r\n    class='col-auto'\r\n    *ngIf='!sessionState'>\r\n      <a class='btn btn-primary' routerLink='register' style=\"margin-right: 1%;\">Register<span class='sr-only'></span></a>\r\n      <a class='btn btn-primary' routerLink='login'>Login<span class='sr-only'></span></a>\r\n  </div> -->\r\n\r\n  <!-- dropdown menu -->\r\n  <!-- <div *ngIf='sessionState' id='icon' class=\"dropdown\">\r\n    <img class='img-thumbnail dropdown-toggle' data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" [src]=\"link\" alt=\"Settings\">\r\n    <div class=\"dropdown-menu dropdown-menu-right \">\r\n      <button class=\"btn btn-secondary dropdown-item\" routerLink='profile'>Profile</button>\r\n      <app-logout class=\"dropdown-item\"></app-logout>\r\n    </div>\r\n  </div>\r\n</div> -->\r\n\r\n  <!-- logo -->\r\n  <!-- <li class=\"nav-item\">\r\n    <img src=\"assets/img/travelnet.jpg\" id=\"logo\" alt=\"asd\" (click)=\"onReload()\">\r\n  </li> -->\r\n\r\n  <!-- search bar -->\r\n  <!-- <li class=\"nav-item\">\r\n    <form (submit)='onSubmit(search.value)' class='form'>\r\n      <mat-form-field class=\"input\">\r\n        <input matInput #search (keyup)='onKey(search.value)' class='form-control input' type='search' placeholder='Search' aria-label='Search' autocomplete='off'>\r\n        <i fas fa-search aria-hidden=\"true\"></i>\r\n        <mat-label>Search</mat-label>\r\n      </mat-form-field>\r\n    </form>\r\n  </li> -->\r\n\r\n  <!-- Register and Login buttons -->\r\n    <!-- <a class='btn btn-primary' routerLink='register' style=\"margin-right: 1%;\">Register<span class='sr-only'></span></a> -->\r\n    <a *ngIf='!sessionState' class='btn btn-primary' routerLink='login'>Login<span class='sr-only'></span></a>\r\n\r\n  <div *ngIf='sessionState' class=\"nav-item topIcon\">\r\n    <div  id='icon' class=\"dropdown\">\r\n      <img class='img-thumbnail dropdown-toggle' data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" [src]=\"link\" alt=\"Settings\">\r\n      <div class=\"dropdown-menu dropdown-menu-right \">\r\n        <button class=\"btn btn-secondary dropdown-item\" routerLink='profile'>Profile</button>\r\n        <app-logout class=\"dropdown-item\"></app-logout>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n","import { Component, OnInit } from '@angular/core'\r\nimport { FormGroup, FormControl } from '@angular/forms'\r\nimport { Router, ActivatedRoute } from '@angular/router'\r\n\r\n\r\n@Component({\r\n  selector: 'app-search-posts',\r\n  templateUrl: './search-posts.component.html',\r\n  styleUrls: ['./search-posts.component.scss']\r\n})\r\nexport class SearchPostsComponent implements OnInit {\r\n  form: FormGroup\r\n\r\n  constructor(\r\n    private router: Router,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = new FormGroup({\r\n      input: new FormControl(null, {\r\n        validators: []\r\n      })\r\n    })\r\n  }\r\n  onSearchPost(){\r\n    if (this.form.invalid) {\r\n      return\r\n    }\r\n    const input = this.form.get('input').value\r\n    if (input){\r\n    this.router.navigate(['/home', input])\r\n    }\r\n  }\r\n}\r\n","<form [formGroup]=\"form\" (submit)=\"onSearchPost()\">\r\n  <mat-form-field>\r\n    <input matInput type=\"text\" formControlName=\"input\" placeholder=\"search a post...\">\r\n  </mat-form-field>\r\n  <button mat-raised-button color=\"accent\" type=\"submit\">Search</button>\r\n</form>\r\n\r\n\r\n\r\n","import { environment } from 'src/environments/environment';\r\nimport { Component, OnInit } from '@angular/core'\r\nimport { FormGroup, FormControl } from '@angular/forms'\r\nimport { HttpClient } from '@angular/common/http'\r\n\r\n\r\n@Component({\r\n  selector: 'app-add-tag',\r\n  templateUrl: './add-tag.component.html',\r\n  styleUrls: ['./add-tag.component.scss']\r\n})\r\nexport class AddTagComponent implements OnInit {\r\n  form: FormGroup\r\n  constructor(private http: HttpClient) { }\r\n  ngOnInit(): void {\r\n    this.form = new FormGroup({\r\n      tag: new FormControl(null, {\r\n        validators: []\r\n      })\r\n    })\r\n  }\r\n  onSubmit(){\r\n    this.onAddTag(sessionStorage.getItem('username'), this.form.get('tag').value)\r\n  }\r\n  onAddTag(username: string, tag: string){ //send request to add tag to post\r\n    this.http\r\n      .put(environment.travelnetURL + \"api/user/addTag/\", {'username': username, 'tag': tag})\r\n      .subscribe((response:{message:string, likes: string[]})=>{\r\n        console.log(response)\r\n    })\r\n  }\r\n}\r\n","<form [formGroup]=\"form\" (submit)=\"onSubmit()\">\r\n  <mat-form-field>\r\n    <input matInput type=\"text\" formControlName=\"tag\" placeholder=\"add a tag\">\r\n  </mat-form-field>\r\n  <button mat-raised-button color=\"accent\" type=\"submit\">Add</button>\r\n</form>\r\n","import { FormControl, FormGroup } from '@angular/forms'\r\nimport { Component, OnInit, Input } from '@angular/core'\r\nimport { threadId } from 'worker_threads'\r\n\r\n@Component({\r\n  selector: 'app-share',\r\n  templateUrl: './share.component.html',\r\n  styleUrls: ['./share.component.scss']\r\n})\r\nexport class ShareComponent implements OnInit {\r\n  @Input() UrlLink: URL | string\r\n  shareForm: FormGroup = null\r\n  copied = false\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.shareForm = new FormGroup({\r\n     urlLinkControl: new FormControl(null)\r\n\r\n    })\r\n    this.shareForm.get('urlLinkControl').patchValue(this.UrlLink ? this.UrlLink : 'czi')\r\n  }\r\n\r\n  onCopyClick() {\r\n    this.copied = true\r\n  }\r\n\r\n}\r\n","<form [formGroup]='shareForm'>\r\n    <mat-form-field appearance='outline'>\r\n        <mat-label>Shareable Link</mat-label>\r\n        <input matInput formControlName='urlLinkControl' type=\"text\" readonly aria-readonly=\"true\">\r\n    </mat-form-field>  \r\n    <button mat-button type='button' [cdkCopyToClipboard]='shareForm.get(\"urlLinkControl\").value' (click)='onCopyClick()'>Copy</button>\r\n    &nbsp;\r\n    <small class=\"text-success\" *ngIf='copied'>Copied To Clipboard</small>\r\n</form>\r\n\r\n","import { HttpService } from 'src/app/services/http.service'\r\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap'\r\nimport { SocketService } from 'src/app/services/chatsystem/socket.service'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { Component, OnInit, Input } from '@angular/core'\r\nimport * as moment from 'moment'\r\n\r\n@Component({\r\n  selector: 'app-proprety',\r\n  templateUrl: './proprety.component.html',\r\n  styleUrls: ['./proprety.component.scss']\r\n})\r\nexport class PropretyComponent implements OnInit {\r\n  @Input() username: string\r\n  @Input() proprety: string\r\n  @Input() propretyValue: string\r\n  changeForm: FormGroup\r\n  changing: boolean\r\n  invalid: boolean\r\n  invalidOld: boolean\r\n  model: NgbDateStruct\r\n\r\n  constructor(\r\n    private httpService: HttpService) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // special forms that need validations\r\n    if (this.proprety == 'email') {\r\n      this.changeForm = new FormGroup({\r\n        newPropretyValue: new FormControl(this.propretyValue, [Validators.required, Validators.email])\r\n      })\r\n    } else if (this.proprety == 'password') {\r\n      this.propretyValue = '••••••••'\r\n      this.changeForm = new FormGroup({\r\n        oldPassword: new FormControl(null, [Validators.required, Validators.minLength(5)]),\r\n        newPropretyValue: new FormControl(null, [Validators.required, Validators.minLength(5)])\r\n      })\r\n    } else { // everything else\r\n      if (this.proprety == 'birthdate') {\r\n        this.propretyValue = this.propretyValue.slice(0, 10)\r\n      }\r\n      this.changeForm = new FormGroup({\r\n        newPropretyValue: new FormControl(this.propretyValue, [Validators.required])\r\n      })\r\n    }\r\n  }\r\n\r\n  // changing between form and h3 with old proprety\r\n  onClick(): void {\r\n    this.changing = !this.changing\r\n  }\r\n\r\n  // once a new proprety is submitted\r\n  onSubmit(): void {\r\n    const requestedChange = {\r\n      username: this.username,\r\n      proprety: this.proprety,\r\n      newProprety: this.changeForm.get('newPropretyValue').value\r\n    }\r\n\r\n    if (this.changeForm.valid) {\r\n      this.invalid = false\r\n\r\n      if (this.proprety == 'password') {\r\n        // implement old password\r\n      } else if (this.proprety == 'birthdate') {\r\n        requestedChange.newProprety = moment(requestedChange.newProprety)\r\n      }\r\n\r\n      this.httpService.patch('/user/edit', requestedChange).then((res) => {\r\n        console.log(res)\r\n        window.location.reload()\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    } else {\r\n      this.invalid = true\r\n    }\r\n  }\r\n}\r\n","<div>\r\n    <!-- name and value -->\r\n    <h3 *ngIf='!changing'> \r\n        {{ proprety | titlecase }}\r\n        <br>\r\n        {{ propretyValue }}\r\n    </h3>\r\n\r\n    <!-- if user decides to change -->\r\n    <form *ngIf='changing' [formGroup]='changeForm' (ngSubmit)='onSubmit()'>\r\n        <div class='form-group'>\r\n\r\n            <!-- old password -->\r\n            <div *ngIf='proprety == \"password\"'>\r\n                <label for='newPropretyValue'>Old {{ proprety | titlecase }}</label>  \r\n                <input type='text' formControlName='oldPassword' class='form-control'>\r\n            </div>\r\n\r\n            <!-- new proprety space -->\r\n            <label for='newPropretyValue'>New {{ proprety | titlecase }}</label>            \r\n            <div *ngIf='invalid'>\r\n                Invalid {{ proprety | titlecase }}!\r\n                <br>\r\n            </div>\r\n\r\n            <!-- all but birthdate and gender -->\r\n            <input *ngIf='proprety != \"birthdate\" && proprety != \"gender\"' type='text' formControlName='newPropretyValue' class='form-control'>\r\n\r\n            <!-- birthdate -->\r\n            <div *ngIf='proprety == \"birthdate\"'>\r\n                <input [minDate]=\"{year: 1900, month: 1, day: 1}\" [maxDate]=\"{year: 2020, month: 1, day: 1}\"\r\n                placeholder=\"yyyy-mm-dd\" formControlName=\"newPropretyValue\" [(ngModel)]=\"model\" name=\"dp\" ngbDatepicker #d=\"ngbDatepicker\">\r\n                <div class=\"input-group-append\">\r\n                    <button id='calendar' class=\"btn btn-outline-secondary calendar\"\r\n                    (click)=\"d.toggle()\" type=\"button\"><mat-icon>calendar_today</mat-icon></button>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- gender -->\r\n            <div *ngIf='proprety == \"gender\"'> \r\n                <mat-radio-group aria-label=\"Select an option\" class=\"row\"\r\n                formControlName=\"newPropretyValue\">\r\n                  <mat-radio-button value=\"Male\" class='col-4'>Male</mat-radio-button>\r\n                  <mat-radio-button value=\"Female\" class='col-4'>Female</mat-radio-button>\r\n                  <mat-radio-button value=\"Other\" class='col-4'>Other</mat-radio-button>\r\n                </mat-radio-group>\r\n            </div>\r\n            \r\n        </div>        \r\n        <button *ngIf='changing' class='btn btn-danger' type='submit'>Confirm</button>\r\n        <button *ngIf='changing' class='btn btn-light' id='cancel' (click)='onClick()'>Cancel</button> \r\n    </form>\r\n    <button *ngIf='!changing' class='btn btn-danger' (click)='onClick()'>Change {{ proprety | titlecase }}</button>\r\n</div>","import { Observable } from 'rxjs'\r\nimport { Injectable } from '@angular/core'\r\nimport { environment } from 'src/environments/environment'\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { env } from 'process'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OpenstreetmapService {\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  onSendRequest(bbox){\r\n    return this.http\r\n      .get<{[key: string]: any}>(\r\n        environment.openstreetmap.searchNodes,\r\n        {\r\n          headers: {\r\n          },\r\n          params: {\r\n\r\n            bbox,\r\n          }\r\n      })\r\n  }\r\n\r\n  /** search for cities with nominatim (geojson response) coord as [lng, lat] */\r\n  citySearch(city: string): Observable<{[key: string]: any}> {\r\n    return this.http\r\n      .get<{[key: string]: any, name: string, content: {[key: string]: any}}>(\r\n        environment.nominatim.search,\r\n        {\r\n          headers: {},\r\n          params: {\r\n            city,\r\n            format: 'geojson'\r\n          }\r\n        }\r\n      )\r\n  }\r\n\r\n  /** reverse geocoding */\r\n  reverseSearch(lng: number, lat: number): Observable<{[key: string]: any, features: Array<{[key: string]: any}>}> {\r\n    return this.http\r\n      .get<{[key: string]: any, features: Array<{[key: string]: any}>}>(\r\n        environment.nominatim.reverse,\r\n        {\r\n          params: {\r\n            format: 'geojson',\r\n            zoom: '10',\r\n            lat: lat.toString(),\r\n            lon: lng.toString()\r\n          }\r\n        }\r\n      )\r\n  }\r\n}\r\n","import { HttpService } from './../../../services/http.service'\r\nimport { CitySearchComponent } from './../../city-search/city-search.component'\r\nimport { clickLocationCoordinates } from './../../../services/map/map.service'\r\nimport { environment } from './../../../../environments/environment.prod'\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\nimport { getCode } from 'country-list'\r\nimport { Subscription } from 'rxjs'\r\nimport { Component, OnInit, Input, OnDestroy, AfterContentInit, ViewChild, AfterViewInit } from '@angular/core'\r\nimport * as CountriesList from 'countries-list'\r\n\r\nexport interface VisitedPlaces {\r\n  code: string\r\n  continent: string\r\n  places: string[]\r\n}\r\n\r\n@Component({\r\n  selector: 'app-country-selector',\r\n  templateUrl: './country-selector.component.html',\r\n  styleUrls: ['./country-selector.component.scss']\r\n})\r\nexport class CountrySelectorComponent implements OnInit, AfterContentInit, AfterViewInit , OnDestroy {\r\n  @ViewChild('citySearch') citySearchComponent: CitySearchComponent\r\n  citySearchAppearance = 'standard'\r\n  citySearchPlaceholder = 'Search for Locations'\r\n  optionClick_sub: Subscription\r\n  @Input() progressUpdate: any\r\n  @Input() target: number\r\n  allPlaces: VisitedPlaces[] = [\r\n    {code: 'NA', continent: 'North-America', places: []},\r\n    {code: 'SA', continent: 'South-America', places: []},\r\n    {code: 'EU', continent: 'Europe', places: []},\r\n    {code: 'AS', continent: 'Asia', places: []},\r\n    {code: 'AF', continent: 'Africa', places: []},\r\n    {code: 'OC', continent: 'Oceania', places: []},\r\n    {code: 'AN', continent: 'Antarctica', places: []}\r\n  ]\r\n  removable = true\r\n\r\n  private clickLocation_sub: Subscription\r\n\r\n  constructor(private MapService: MapService,\r\n              private Http: HttpClient,\r\n              private HttpService: HttpService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    // display city where user clicked\r\n    this.clickLocation_sub = this.MapService.clickLocation.subscribe((x: clickLocationCoordinates) => {\r\n      if (this.progressUpdate && this.target == this.progressUpdate) {\r\n        if (x.lng != null) {\r\n          this.Http.get<any>(\r\n            environment.mapbox.geocoding.concat('/', x.lng.toString(), ',', x.lat.toString(), '.json'),\r\n            {\r\n              headers: {},\r\n              params: {\r\n                access_token: environment.mapbox.token,\r\n                types: 'country,region,district,place',\r\n                language: environment.language\r\n              }\r\n            }\r\n          )\r\n          .subscribe((response) => {\r\n            if (response.features[0]) {\r\n              const placeName = response.features[0].place_name\r\n              const chip = this.citySearchComponent.removeMiddle(placeName, 1)\r\n              this.getKey(response.features[response.features.length - 1].properties.short_code.toUpperCase())\r\n                .then((value: any) => {\r\n                  const continent = value.continent\r\n                  this.allPlaces.forEach((element) => {\r\n                    if (element.code === continent && !element.places.includes(chip)) {\r\n                      element.places.push(chip)\r\n                      this.MapService.showMarker(this.target, {\r\n                        name: chip,\r\n                        content: {\r\n                          geometry: {\r\n                            coordinates: response.query\r\n                          }\r\n                        }\r\n                      })\r\n                    }\r\n                  })\r\n\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err)\r\n                })\r\n            }\r\n          }, (err) => {\r\n            console.log(err)\r\n          })\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.optionClick_sub = this.citySearchComponent.clickedOption.subscribe(content => {\r\n      if (content) {\r\n        // displays chip and clear search input\r\n        const chip = this.citySearchComponent.removeMiddle(content.name, 1)\r\n        const countryName = ((content.name.split(', '))[content.name.split(', ').length - 1]).substring(1)\r\n        const code = getCode(countryName)\r\n        this.getKey(code)\r\n        .then((value: any) => {\r\n          const continent = value.continent\r\n          this.allPlaces.forEach((element) => {\r\n            if (element.code === continent && !element.places.includes(chip)) {\r\n              element.places.push(chip)\r\n            }\r\n          })\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n\r\n        // show location on map\r\n        content.name = this.citySearchComponent.removeMiddle(content.name, 1)\r\n        this.MapService.showMarker(this.target, content)\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  // search Countrieslist countries\r\n  getKey(code: string) {\r\n    return new Promise((resolve, reject) => {\r\n      const value = Object.keys(CountriesList.countries).find(key => {\r\n        if (key === code) {\r\n          resolve(CountriesList.countries[key])\r\n        }\r\n      })\r\n      if (!value) {\r\n        reject('not found')\r\n      }\r\n    })\r\n  }\r\n\r\n  // remove chips\r\n  onRemove(place: string, index: number) {\r\n    const placesArr = this.allPlaces[index].places\r\n    placesArr.splice(placesArr.indexOf(place), 1)\r\n    this.MapService.removeMarker(place, this.target)\r\n  }\r\n\r\n  onClear() {\r\n    this.allPlaces.forEach(element => {\r\n      element.places = []\r\n    })\r\n    this.MapService.removeMarker('', null, true)\r\n  }\r\n\r\n  // send data to backend\r\n  onSumbit(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.HttpService.patch('/user/edit', {\r\n        username: localStorage.getItem('username').toString(),\r\n        proprety: (this.target == 1) ? 'history' : 'wishlist',\r\n        newProprety: this.allPlaces\r\n      })\r\n      .then((response) => {\r\n        resolve(response)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.clickLocation_sub.unsubscribe()\r\n    this.optionClick_sub.unsubscribe()\r\n  }\r\n}\r\n","<form class=\"example-form row align-items-center\">\r\n    <!-- city search autocomplete -->\r\n    <app-city-search #citySearch class=\"col\" [appearance]='citySearchAppearance' [placeholder]='citySearchPlaceholder' [clearOnSearch]='true' [getFakeCenterCity]='false'></app-city-search>\r\n    <div class=\"col-auto mr-auto\">\r\n        <span><strong>Or</strong></span>\r\n    </div>\r\n    <div class=\"col-auto mr-auto\">\r\n        <button mat-button><span>Click on the map</span></button>\r\n    </div>\r\n</form>\r\n<!-- <img *ngIf='!citySearchComponent.myControl.dirty' src=\"https://img.icons8.com/bubbles/100/000000/geography.png\" class=\"img\" style=\"margin-left: 25%;\">\r\n<small *ngIf='!citySearchComponent.myControl.dirty'><a href=\"https://icons8.com/icon/113643/geography\">Geography icon by Icons8</a></small> -->\r\n\r\n<div id=\"mainList\" #mainlist [hidden]=\"Place.places.length == 0? true:false\" *ngFor=\"let Place of allPlaces, let i = index\">\r\n    <button mat-raised-button  class=\"mat-chip-list-stacked\" aria-orientation=\"vertical\">\r\n        {{ Place.continent }}\r\n    </button>\r\n    <br>\r\n    <mat-chip-list class=\"\">\r\n        <mat-chip *ngFor='let place of allPlaces[i].places'\r\n            (removed)=onRemove(place,i)>\r\n            {{ place }}\r\n            <mat-icon matChipRemove class=\"\" *ngIf='removable'>cancel</mat-icon>\r\n        </mat-chip>\r\n    </mat-chip-list>\r\n    <hr>\r\n</div>\r\n<br>\r\n<div class=\"row-auto\">\r\n    <button mat-button *ngIf='true' color='warn' (click)='onClear()'>Clear</button>\r\n</div>\r\n<br>\r\n","import { HttpService } from 'src/app/services/http.service'\r\nimport { FormGroup, FormControl } from '@angular/forms'\r\nimport { Component, OnInit } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'app-myaccount',\r\n  templateUrl: './myaccount.component.html',\r\n  styleUrls: ['./myaccount.component.scss']\r\n})\r\nexport class MyaccountComponent implements OnInit {\r\n\r\n  form: FormGroup\r\n  imagePreview: string\r\n\r\n  constructor(private httpService: HttpService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = new FormGroup({\r\n      picture: new FormControl(null, [])\r\n    })\r\n  }\r\n\r\n  onImagePicked(event: Event) {\r\n    const file = (event.target as HTMLInputElement).files[0]\r\n    this.form.patchValue({picture: file})\r\n    this.form.get('picture').updateValueAndValidity\r\n    const reader = new FileReader()\r\n    reader.onload = () => {\r\n      this.imagePreview = reader.result.toString()\r\n    }\r\n    console.log(this.form)\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  onSubmit() {\r\n    const imageData = new FormData()\r\n    imageData.append('username', sessionStorage.getItem('username'))\r\n    imageData.append('image', this.form.value.picture, 'profilepicture')\r\n    this.httpService.post('/user/profilepicture', imageData).then((res) => {\r\n      console.log('profile picture updated succesfully!')\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n","<!-- profile picture -->\r\n<h1>Change Profile Picture</h1>\r\n\r\n<form [formGroup]='form' (ngSubmit)='onSubmit()'>\r\n    <button type='button' class='btn btn-danger button' (click)='filePicker.click()'>Upload Profile Picture</button>\r\n    <input type='file' style='visibility: hidden;' accept='image/*' (change)='onImagePicked($event)' #filePicker>\r\n    <div class='image-preview' *ngIf=\"imagePreview && imagePreview !== '' && this.form.get('picture').valid\">\r\n        <img [src]='imagePreview' alt=\"Invalid File\">\r\n        <button type='submit' class='btn btn-primary'>Change Profile Picture</button>\r\n    </div>\r\n</form>\r\n\r\n<!-- preferences -->\r\n<h1>Change Preferences</h1>\r\n\r\n<!-- places already visited -->\r\n\r\n<!-- interesting places -->\r\n\r\n<!-- post stuff -->","import { environment } from 'src/environments/environment'\r\n/** response from openstreetmaps api /search, coord as [lng, lat] */\r\nexport class geocodeResponseModel {\r\n    [key: string]: any\r\n    name: string\r\n    content: {\r\n        [key: string]: any\r\n        geometry: {\r\n            [key: string]: any\r\n            coordinates: number[]\r\n        }\r\n    }\r\n\r\n    constructor(name: string, coord: number[], content?: {[key: string]: any, geometry: any}) {\r\n        this.name = name\r\n        this.content = {\r\n            geometry: {\r\n                coordinates: [environment.montrealCoord.lng, environment.montrealCoord.lat]\r\n            }\r\n        }\r\n        if (content) {\r\n            this.content = content\r\n        } else {\r\n            this.content.geometry.coordinates = coord\r\n        }\r\n    }\r\n}\r\n","import { Subscription } from 'rxjs'\r\nimport { SessionService } from '../../../services/session.service'\r\nimport { RoomWidget } from '../../../models/Room_Widget.model'\r\nimport { Component, OnInit, OnDestroy } from '@angular/core'\r\nimport { FriendlistService } from 'src/app/services/chatsystem/friendlist.service'\r\n\r\n@Component({\r\n  selector: 'app-friendlist',\r\n  templateUrl: './friendlist.component.html',\r\n  styleUrls: ['./friendlist.component.scss']\r\n})\r\n\r\nexport class FriendlistComponent implements OnInit, OnDestroy {\r\n  sessionState: boolean\r\n  friends: RoomWidget[] = []\r\n  private friendsSub: Subscription\r\n  private sessionSub: Subscription\r\n\r\n  constructor(private friendlistService: FriendlistService,\r\n              private SessionService: SessionService) { }\r\n\r\n  ngOnInit(): void {\r\n    // setup sessionState and friends observable\r\n    this.sessionSub = this.SessionService.sessionState.subscribe((isLoggedIn) => {\r\n      this.sessionState = isLoggedIn\r\n\r\n      if (isLoggedIn) {\r\n        this.friendsSub = this.friendlistService.chatroomList.subscribe((friends) => this.friends = friends)\r\n        this.friendlistService.getList([])\r\n      } else {\r\n        console.log(`not logged in`)\r\n      }\r\n    })\r\n  }\r\n\r\n  // update friendlist on each key press\r\n  onKey(data: string) {\r\n    if (data === '') {\r\n      this.friendlistService.getList([sessionStorage.getItem('username')])\r\n    } else {\r\n      const arr: string[] = data.split(' ')\r\n      this.friendlistService.getList(arr)\r\n    }\r\n  }\r\n\r\n  // creates new room on submit\r\n  onSubmit(data: string) {\r\n    this.friendlistService.CreateChatroom(data)\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.friendsSub.unsubscribe()\r\n    this.sessionSub.unsubscribe()\r\n  }\r\n}\r\n","<div *ngIf='sessionState' class=\"border border-secondary\">\r\n    <!-- actual friendlist -->\r\n    <div id=\"friends\">\r\n        <div id = 'friend' *ngFor=\"let friend of friends\">\r\n            <app-friend [friend]=\"friend\">\r\n            </app-friend>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- textarea -->\r\n    <form (submit)='onSubmit(input.value)' >\r\n        <input #input type='text' class=\"form-control rounded-0\" (keyup)='onKey(input.value)' placeholder='Add a friend!' id=\"input\" autocomplete='off'>\r\n    </form>\r\n</div>\r\n","import { CustomCoordinates } from './../app/models/coordinates'\r\n// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  travelnetURL: 'http://localhost:3000',\r\n\r\n  mapbox: {\r\n    token: 'pk.eyJ1IjoidHJhdmVsbmV0IiwiYSI6ImNrOTk3cHkwaDAzaHkzZHEwMm03ZGN0MG8ifQ.j24u0Q5RbYw7PW4tVpGjmQ',\r\n    geocoding: 'https://api.mapbox.com/geocoding/v5/mapbox.places'\r\n  },\r\n\r\n  foursquare: {\r\n    clientId: 'NYZJ324E5GAY2MSQUNYIYLKIDCMX2ETMQREKQXZLW3S5ZYVG',\r\n    clientSecret: 'K51P2Y1T3TMTCU24LOFHDFOAONPGU44ZBNZCGTWCOJESUW4A',\r\n    v: '',\r\n    venuesSearch: 'https://api.foursquare.com/v2/venues/search',\r\n    venuesExplore: 'https://api.foursquare.com/v2/venues/explore',\r\n    venueDetails: 'https://api.foursquare.com/v2/venues',\r\n    userAuth: 'https://foursquare.com/oauth2/authenticate',\r\n    getCategories: 'https://api.foursquare.com/v2/venues/categories',\r\n\r\n  },\r\n\r\n  nominatim: {\r\n    search: 'https://nominatim.openstreetmap.org/search',\r\n    reverse: 'https://nominatim.openstreetmap.org/reverse'\r\n  },\r\n\r\n  openstreetmap: {\r\n    searchNodes: 'https://master.apis.dev.openstreetmap.org/api/0.6/map',\r\n    searchRealNode: ' https://api.openstreetmap.org/api/0.6/map'\r\n  },\r\n\r\n  travelnet: {\r\n    getUserInfo: 'http://localhost:3000/user',\r\n    getProfile: 'http://localhost:3000/profile',\r\n    searchUsers: 'http://localhost:3000/searchusers',\r\n    travelnetCommentURL: 'http://localhost:3000/comments',\r\n    travelnetPostURL: 'http://localhost:3000/posts',\r\n  },\r\n\r\n  montrealCoord: new CustomCoordinates(-73.5633265, 45.5009128)\r\n}\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { tripModel } from './../../models/trip.model'\r\nimport { TripService } from './../../services/trip.service'\r\nimport { MatListOption } from '@angular/material/list'\r\nimport { environment } from './../../../environments/environment.dev'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet'\r\nimport { Component, OnInit, OnDestroy } from '@angular/core'\r\nimport { Router, ActivatedRoute } from '@angular/router'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { Subscription } from 'rxjs'\r\nimport { tab } from '../../models/tab.model'\r\nimport { selectedVenueModel } from '../../models/selectedVenue.model'\r\n\r\n@Component({\r\n  selector: 'app-venue',\r\n  templateUrl: './venue.component.html',\r\n  styleUrls: ['./venue.component.scss']\r\n})\r\nexport class VenueComponent implements OnInit, OnDestroy {\r\n  ogUrl: string = null\r\n  url: string = null\r\n  content: selectedVenueModel = null\r\n  rating: number = null\r\n  ratingColor: any = null\r\n  displayContent: Array<{[key: string]: any}> = []\r\n  windowHeight: number = window.innerHeight\r\n\r\n  isLoading = false\r\n  isSuccess = false\r\n  isErr = false\r\n\r\n  private trip_sub: Subscription\r\n  trips: tripModel[] = []\r\n\r\n  private openTabSub: Subscription\r\n  openTab: tab\r\n  constructor(\r\n    private router: Router,\r\n    private SearchService: SearchService,\r\n    private MapService: MapService,\r\n    private TripService: TripService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.trip_sub = this.TripService.trips.subscribe((trips: tripModel[]) => {\r\n      this.trips = trips\r\n    })\r\n\r\n    this.openTabSub = this.SearchService.searchTab.subscribe(x => {\r\n      this.openTab = x\r\n    })\r\n    this.ogUrl = environment.travelnetURL + this.router.url\r\n    this.url = this.router.url.replace('/search/venue/', '')\r\n    this.SearchService.formatDetails(this.url).then(result => {\r\n      console.log(result)\r\n      this.content = result.response.venue\r\n      if (this.content.rating && this.content.ratingColor) {\r\n        this.rating = this.content.rating\r\n        this.ratingColor = `#${this.content.ratingColor}`\r\n      }\r\n    })\r\n  }\r\n    /** add venue to specific trips */\r\n    addToTrip(event: MatListOption[]) {\r\n      this.isLoading = true\r\n      if (event.length && this.trips) {\r\n        event.map((option: MatListOption) => {\r\n          this.trips[option.value.trip].schedule[option.value.day].venues.push({\r\n            name: this.content.name ? this.content.name : null,\r\n            venueAddress: this.content.location.formattedAddress ? this.content.location.formattedAddress.join(' ') : null,\r\n            venueCoord: this.content.location.lng ? {lng: this.content.location.lng, lat: this.content.location.lat} : null,\r\n            venueCity: this.content.location.city ? this.content.location.city : null,\r\n            url: this.content.canonicalUrl ? this.content.canonicalUrl : null,\r\n            category: this.content.categories[0] ? { name: this.content.categories[0].name, url: this.content.categories[0].icon.prefix + '32' + this.content.categories[0].icon.suffix } : null\r\n          })\r\n        })\r\n\r\n        this.TripService.modifyBackend(this.trips)\r\n        .then((val) => {\r\n          this.isSuccess = true\r\n        })\r\n        .catch(err => {\r\n          this.isErr = true\r\n        })\r\n        .finally(() => {\r\n          setTimeout(() => {\r\n            this.isErr = false\r\n          }, 800)\r\n          this.isLoading = false\r\n        })\r\n      }\r\n    }\r\n\r\n  goBack(){\r\n    this.router.navigate(['search'], {queryParams: this.SearchService.currentSearch ? this.SearchService.currentSearch : {}})\r\n  }\r\n\r\n  // check if is object\r\n  isObject(val: any): boolean {\r\n    if (typeof(val) == 'object') {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // for ngIf, filter keys in user reviews\r\n  reviewKeys(key: string): boolean {\r\n    const keys = ['likes', 'text', 'user']\r\n    if (keys.includes(key)) {\r\n      return true\r\n    } else  {\r\n      return false\r\n    }\r\n  }\r\n\r\n  showOnMap(location: {[key: string]: any}) {\r\n    this.MapService.addMarker(location)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.openTabSub.unsubscribe()\r\n    this.MapService.venueOnDestroy()\r\n  }\r\n\r\n}\r\n","<mat-card class=\"container\" *ngIf=\"content\">\r\n  <mat-card-title>\r\n    <div class=\"row\">\r\n      <!-- go back -->\r\n      <button mat-button (click)='goBack()' *ngIf=\"this.openTab\" class=\"col-auto\" matTooltip=\"back\">\r\n        <mat-icon class=\"\">\r\n          keyboard_backspace\r\n        </mat-icon>\r\n      </button>\r\n      <!-- venue category icon -->\r\n      <span class=\"col-auto md-auto\">\r\n        <button mat-flat-button color='primary' class=\"align-self-start\" matTooltip='{{content.categories[0].name}}' matTooltipPosition='above'>\r\n          <span style=\"padding: auto; display:inline-block;\"><img src=\"{{content.categories[0].icon.prefix}}32{{content.categories[0].icon.suffix}}\" alt=\"\"></span>\r\n        </button>\r\n      </span>\r\n      <!-- verified user icon -->\r\n      <span class=\"col-auto md-auto align-self-center\">\r\n        {{ content.name }}\r\n        &nbsp;\r\n        <span *ngIf='content.verified' matTooltip=\"Verified Venue\" matTooltipPosition='above'>\r\n          <mat-icon mat-icon-button style=\"vertical-align: middle;\" color='primary'>verified_user</mat-icon>\r\n        </span>\r\n      </span>\r\n      <!-- quick actions -->\r\n      <span class=\"col justify-content-end\">\r\n        <button mat-icon-button matTooltip=\"share\" matTooltipPosition='above' color='accent' [ngbPopover]=\"sharePop\" [autoClose]=\"'outside'\" placement=\"right\">\r\n          <mat-icon>\r\n            share\r\n          </mat-icon>\r\n        </button>\r\n        <button *ngIf=\"(content.location)? true:false\" mat-icon-button matTooltip=\"show on map\" matTooltipPosition='above' color='primary' (click)='showOnMap(content.location)'>\r\n          <mat-icon>\r\n            map\r\n          </mat-icon>\r\n        </button>\r\n        <button mat-icon-button matTooltip=\"add to trip\" matTooltipPosition='above'>\r\n          <mat-icon mat-icon-button *ngIf='!isErr && !isLoading && !isSuccess' matTooltipPosition='above' [ngbPopover]=\"popContent\" matTooltip=\"add to trip...\" [autoClose]=\"'outside'\">playlist_add</mat-icon>\r\n          <mat-spinner diameter='20' *ngIf='isLoading'></mat-spinner>\r\n          <mat-icon mat-icon-button class=\"text-success\" *ngIf='isSuccess && !isLoading'>check</mat-icon>\r\n          <mat-icon mat-icon-button class=\"text-danger\" *ngIf='isErr && !isLoading' matTooltip='an error occured'>error</mat-icon>\r\n        </button>\r\n      </span>\r\n    </div>\r\n  </mat-card-title>\r\n\r\n  <mat-card-content class=\"\">\r\n    <mat-grid-list cols=\"4\" rowHeight='{{windowHeight*.1}}'>\r\n      <!-- pictures -->\r\n      <mat-grid-tile id='imgTile'colspan=\"2\" rowspan=\"4\" >\r\n        <ngb-carousel *ngIf=\"content.photos\">\r\n          <ng-template ngbSlide *ngFor='let photo of content.photos.groups[0].items, let i = index'>\r\n            <div class=\"picsum-img-wrapper\">\r\n              <img class=\"d-inline-flex w-100\" src=\"{{photo|null:['prefix']}}original{{photo|null:['suffix']}}\" alt=\"slide {{i}}\">\r\n            </div>\r\n          </ng-template>\r\n        </ngb-carousel>\r\n        <!-- need button for additional pictures -->\r\n      </mat-grid-tile>\r\n\r\n      <!-- description -->\r\n      <mat-grid-tile colspan=\"2\" rowspan=\"3\" >\r\n        <div class=\"container-fluid\">\r\n          <!-- get page info -->\r\n          <div class=\"div\">\r\n            <p>description: {{content | null:['page','pageInfo','description']}}</p>\r\n          </div>\r\n          <!-- each categories -->\r\n          <div class=\"div\">\r\n            <p>category: <span *ngFor=\"let category of content.categories\">{{category | null:['name']}}</span></p>\r\n          </div>\r\n          <!-- need for each for attributes -->\r\n          <p>attributes:</p>\r\n          <div class=\"div\" *ngFor=\"let attribute of content.attributes.groups\">\r\n             <span>{{attribute|null:['name']}} </span><span *ngIf=\"(attribute|null:['name'])!==(attribute|null:['summary'])\"> | {{attribute|null:['summary']}}</span>\r\n          </div>\r\n          <!-- need price -->\r\n      </div>\r\n      </mat-grid-tile>\r\n\r\n      <!--rating -->\r\n      <mat-grid-tile colspan=\"4\" rowspan='1' class=\"border border-primary\">\r\n        <div class=\"container row\">\r\n          <mat-label class=\"col-auto align-self-center\">Rating: <b>{{ rating | null}}</b></mat-label>\r\n          &nbsp;\r\n          <ngb-rating [(rate)]='rating' [readonly]=\"true\" [max]=\"10\">\r\n            <ng-template #t let-fill=\"fill\">\r\n              <span class=\"star\" [class.full]=\"fill === 100\" >\r\n                <span class=\"half\" [style.width.%]=\"fill\" [style.color]='ratingColor'>&hearts;</span>&hearts;\r\n              </span>\r\n            </ng-template>\r\n          </ngb-rating>\r\n        </div>\r\n      </mat-grid-tile>\r\n\r\n      <mat-grid-tile colspan=\"4\" rowspan=5 >\r\n        <!-- need tips -->\r\n        <div class='container col' class=\"align-self-start d-inline\">\r\n          <br>\r\n          <h3 style=\"margin-bottom: 0;\"><b>Reviews</b></h3>\r\n          <div class=\"row d-inline\" *ngFor=\"let item of content.tips.groups[0].items\">\r\n            <div>\r\n              <span><b>{{ item.user.firstName }} {{ item.user.lastName }}: </b></span>\r\n              <span>{{ item.text }}</span>\r\n            </div>\r\n            <hr>\r\n          </div>\r\n        </div>\r\n      </mat-grid-tile>\r\n    </mat-grid-list>\r\n\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- share -->\r\n<ng-template #sharePop> \r\n  <app-share [UrlLink]='ogUrl'></app-share>\r\n</ng-template>\r\n\r\n<!-- add to trip -->\r\n<ng-template #popContent> \r\n  <app-add-to-trip-popover (onSubmitEvent)='addToTrip($event)'></app-add-to-trip-popover>\r\n</ng-template>","import { Component, OnInit, OnDestroy, Input } from '@angular/core'\r\nimport { ActivatedRoute, ParamMap } from '@angular/router'\r\nimport { Subscription } from 'rxjs'\r\n\r\nimport { Post } from 'src/app/models/post.model'\r\nimport { AddPostService } from 'src/app/services/add-post.service'\r\nimport { FormGroup, FormControl } from '@angular/forms'\r\nimport { HttpService } from 'src/app/services/http.service'\r\n\r\n@Component({\r\n  selector: 'app-display-posts',\r\n  templateUrl: './display-posts.component.html',\r\n  styleUrls: ['./display-posts.component.scss']\r\n})\r\nexport class DisplayPostsComponent implements OnInit, OnDestroy {\r\n  user\r\n  // posts = [\r\n  //   { title: \"First Post\", content: \"This is the first post's content\" },\r\n  //   { title: \"Second Post\", content: \"This is the second post's content\" },\r\n  //   { title: \"Third Post\", content: \"This is the third post's content\" }\r\n  // ];\r\n  posts: Post[] = []\r\n  isLoading = false\r\n  private postsSub: Subscription;\r\n  timeoutHandler\r\n  likeShow = false\r\n  input: string\r\n\r\n\r\n  constructor(public postsService: AddPostService, private HttpService: HttpService, private route: ActivatedRoute) {}\r\n\r\n  ngOnInit() { // get all posts related to a user\r\n    if (sessionStorage.getItem('username')){\r\n      this.isLoading = true\r\n      this.route.params.subscribe(params => {\r\n        this.input = params.query\r\n        if (this.input){\r\n          this.postsService.searchPosts({input: this.input})\r\n          this.postsSub = this.postsService.getPostUpdateListener()\r\n          .subscribe((posts: Post[]) => {\r\n            this.isLoading = false\r\n            this.posts = posts\r\n          })\r\n\r\n        }\r\n        else{\r\n          this.HttpService.get('/user', null).then((res: any) => {\r\n            this.user = res.user[0]\r\n            this.postsService.getRelevantPosts({author: this.user.username, follows: this.user.following, tags: this.user.tags, location: this.user.location})\r\n            this.postsSub = this.postsService.getPostUpdateListener()\r\n            .subscribe((posts: Post[]) => {\r\n              this.isLoading = false\r\n              this.posts = posts\r\n            })\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  onDelete(postId: string) { //delete a post\r\n    this.postsService.deletePost(postId)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (sessionStorage.getItem('username')){\r\n      this.postsSub.unsubscribe()\r\n    }\r\n  }\r\n\r\n  like(postId: string){\r\n    this.postsService.likePost(postId, sessionStorage.getItem('username'))\r\n  }\r\n\r\n  public mouseup() {\r\n    if (this.timeoutHandler) {\r\n      clearInterval(this.timeoutHandler)\r\n      this.timeoutHandler = null\r\n    }\r\n  }\r\n\r\n  public mousedown() {\r\n    this.timeoutHandler = setInterval(() => {\r\n      this.showLikes()\r\n      console.log(this.likeShow)\r\n    }, 300)\r\n  }\r\n\r\n  showLikes(){\r\n    this.likeShow = !this.likeShow\r\n  }\r\n\r\n  submitComment(comment){\r\n\r\n  }\r\n  ownContent(post){\r\n    if (sessionStorage.getItem('username') === post.author){\r\n      return true\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n","<div class=\"row container\">\r\n  <app-search-posts class=\"col-6\"></app-search-posts>\r\n  <app-add-tag class=\"col-6\"></app-add-tag>\r\n</div>\r\n<!-- <mat-spinner *ngIf=\"isLoading\"></mat-spinner> -->\r\n\r\n<div *ngIf=\"posts.length > 0 && !isLoading\">\r\n  <div *ngFor=\"let post of posts\">\r\n    <mat-card class=\"\">\r\n      <mat-card-header>\r\n        <div mat-card-avatar class=\"\"></div>\r\n        <mat-card-title>{{ post.author }}</mat-card-title>\r\n        <mat-card-subtitle>Premium User</mat-card-subtitle>\r\n        <div class='authorButtons'>\r\n          <a *ngIf=\"ownContent(post)\" mat-button color=\"primary\" [routerLink]=\"['/edit', post._id]\">EDIT</a>\r\n          <button *ngIf=\"ownContent(post)\" mat-button color=\"warn\" (click)=\"onDelete(post._id)\">DELETE</button>\r\n        </div>\r\n      </mat-card-header>\r\n      <h1>\r\n        {{ post.title }}\r\n      </h1>\r\n      <p>\r\n        {{ post.tags }} {{ post.date }}\r\n      </p>\r\n      <p>\r\n        {{ post.content }}\r\n      </p>\r\n      <img mat-card-image [src]=\"post.imagePath\" [alt]=\"post.title\">\r\n\r\n      <mat-card-actions>\r\n        <button mat-button type=\"button\" (click)=\"like(post._id)\" (mousedown)=\"mousedown()\" (mouseup)=\"mouseup()\" (mouseleave)=\"mouseup()\" matTooltip='{{post.likes}}'>LIKE {{ post.likes.length }}</button>\r\n        <button mat-button>SHARE</button>\r\n      </mat-card-actions>\r\n      <!-- <div *ngIf=\"likeShow\">{{post.likes}}</div> -->\r\n\r\n      <app-comment-section [post] ='post'></app-comment-section>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n<p class=\"info-text mat-body-1\" *ngIf=\"posts.length <= 0 && !isLoading\">No posts added yet!</p>\r\n","import { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { mimeType } from './mime-type.validator'\r\nimport { HttpService } from 'src/app/services/http.service'\r\nimport { environment } from 'src/environments/environment'\r\nimport { SessionService } from 'src/app/services/session.service'\r\nimport { Router } from '@angular/router'\r\nimport { SocketService } from 'src/app/services/chatsystem/socket.service'\r\nimport { Component, OnInit, OnDestroy } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss']\r\n})\r\nexport class ProfileComponent implements OnInit, OnDestroy {\r\n  User: {\r\n    username: string,\r\n    password: string,\r\n    email: string,\r\n    firstname: string,\r\n    lastname: string,\r\n    birthdate: string,\r\n    gender: any,\r\n  }\r\n  propreties: string[]\r\n  values: string[]\r\n  form: FormGroup\r\n  imagePreview: string\r\n\r\n  constructor(private socketService: SocketService,\r\n              private sessionService: SessionService,\r\n              private Router: Router,\r\n              private httpService: HttpService) { }\r\n\r\n  ngOnInit(): void {\r\n    // http request to get user info\r\n    this.getProfile()\r\n    this.form = new FormGroup({\r\n      image: new FormControl(null, {\r\n        validators: [Validators.required],\r\n        asyncValidators: [mimeType]\r\n      })\r\n    })\r\n  }\r\n\r\n  getProfile() {\r\n    this.httpService.get('/user', null).then((res: any) => {\r\n      this.User = (({username, password, email, firstname, lastname, birthdate, gender}) =>\r\n          ({username, password, email, firstname, lastname, birthdate, gender}))(res.user[0])\r\n\r\n      // transform object in arrays\r\n      this.propreties = Object.keys(this.User)\r\n      this.values = Object.values(this.User)\r\n\r\n      // takeout username\r\n      this.propreties.shift()\r\n      this.values.shift()\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  // delete account function\r\n  onDelete() {\r\n      this.Router.navigate(['./'])\r\n      this.socketService.emit('deleteUser', sessionStorage.getItem('username'), (data) => {\r\n      if (data.err) {\r\n        console.log(data.err)\r\n      } else {\r\n        console.log(data.res)\r\n        localStorage.removeItem('username')\r\n        sessionStorage.removeItem('username')\r\n        this.sessionService.session()\r\n        window.location.reload()\r\n        console.log('session cleared')\r\n      }\r\n    })\r\n  }\r\n\r\n  // when profile pic is selected\r\n  onImagePicked(event: Event) {\r\n    const file = (event.target as HTMLInputElement).files[0]\r\n    this.form.patchValue({ image: file })\r\n    this.form.get('image').updateValueAndValidity()\r\n    const reader = new FileReader()\r\n    reader.onload = () => {\r\n      this.imagePreview = reader.result as string\r\n    }\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  // on image picked\r\n  onSubmit() {\r\n    if (this.form.invalid) {\r\n      return\r\n    }\r\n    const formData = new FormData()\r\n    formData.append('image', this.form.value.image)\r\n    formData.append('username', localStorage.getItem('username'))\r\n    this.httpService.post('/user/profilepicture', formData\r\n    ).then((res: any) => {\r\n\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n    this.form.reset()\r\n  }\r\n\r\n  // back button that destroys component\r\n  onExit() {\r\n    this.ngOnDestroy()\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.Router.navigate(['./'])\r\n  }\r\n}\r\n","<div id=\"main\" class=\"container-fluid rounded\">\r\n\r\n    <!-- after fetching data -->\r\n    <div *ngIf='User'>\r\n\r\n        <!-- generate propreties -->\r\n        <app-proprety *ngFor='let proprety of propreties; let i = index' [username]='User.username' [proprety]='proprety' [propretyValue]='values[i]'></app-proprety>\r\n        <div id='delete'>\r\n            <button class='btn btn-danger' (click)='onDelete()'>Delete Account</button>\r\n        </div>\r\n\r\n        <!-- profile picture -->\r\n        <form [formGroup]=\"form\" (submit)=\"onSubmit()\">\r\n            <div>\r\n                <button class='btn btn-danger' type=\"button\" (click)=\"filePicker.click()\">Change Profile Picture</button>\r\n                <input class='hidden' type=\"file\" #filePicker (change)=\"onImagePicked($event)\">\r\n            </div>\r\n        \r\n            <div class=\"image-preview\" *ngIf=\"imagePreview !== '' && imagePreview && form.get('image').valid\">\r\n                <img [src]=\"imagePreview\" [alt]=\"form.value.title\">\r\n            </div>\r\n\r\n            <button *ngIf=\"form.valid\" class='btn btn-danger' color=\"accent\" type=\"submit\">Submit</button>\r\n        </form>\r\n\r\n    <!-- no wifi or user not found -->\r\n    <div *ngIf='!User'>\r\n        Error: User not found\r\n    </div>\r\n    <button class=\"btn btn-secondary\" (click)='onExit()'>Back</button>   \r\n</div>","import { Component, OnInit } from '@angular/core'\r\nimport { SessionService } from 'src/app/services/session.service'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\n@Component({\r\n  selector: 'app-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.scss']\r\n})\r\n\r\nexport class MapComponent implements OnInit {\r\n\r\n  session: boolean = this.sessionService.session()\r\n\r\n  constructor(private sessionService: SessionService, private map: MapService) {}\r\n\r\n  ngOnInit(){\r\n    this.map.buildMap()\r\n  }\r\n\r\n}\r\n","<link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet'/>\r\n<div id='mapbox'></div>\r\n","import { Pipe, PipeTransform } from '@angular/core'\r\n\r\n@Pipe({\r\n  name: 'arrayToPipe'\r\n})\r\nexport class ArrayToPipePipe implements PipeTransform {\r\n\r\n  transform(value: unknown, ...args: unknown[]): unknown {\r\n    return Array(value).fill(args[0])\r\n  }\r\n\r\n}\r\n","export class CustomCoordinates {\r\n    lng: number\r\n    lat: number\r\n\r\n    /** 1: lng,lat | 2: lat,lng */\r\n    toStringReorder(order: number): string {\r\n        if (order === 1) {\r\n            return `${this.lng},${this.lat}`\r\n        } else {\r\n            return `${this.lat},${this.lng}`\r\n        }\r\n    }\r\n\r\n    constructor(lng: number, lat: number) {\r\n        this.lng = lng\r\n        this.lat = lat\r\n    }\r\n\r\n}\r\n","import { geocodeResponseModel } from './../../../../models/geocodeResp.model'\r\nimport { SearchBarComponent } from './../../../search-bar/search-bar.component'\r\nimport { CustomCoordinates } from './../../../../models/coordinates'\r\nimport { MapService } from './../../../../services/map/map.service'\r\nimport { CategoryNode, foursquareCategory } from './../../../../models/CategoryNode.model'\r\nimport { SearchService } from './../../../../services/search.service'\r\nimport { tripModel } from './../../../../models/trip.model'\r\nimport { TripService } from './../../../../services/trip.service'\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { Subscription } from 'rxjs'\r\nimport { CitySearchComponent } from './../../../city-search/city-search.component'\r\nimport { Component, OnInit, ViewChild, AfterViewInit, OnDestroy, Inject } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'app-add-venue-popover',\r\n  templateUrl: './add-venue-popover.component.html',\r\n  styleUrls: ['./add-venue-popover.component.scss']\r\n})\r\nexport class AddVenuePopoverComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  // user data from tripService\r\n  allTrips: tripModel[] = []\r\n  private trips_sub: Subscription\r\n\r\n  // passed by mytrip\r\n  tripIndex: number\r\n  dayIndex: number\r\n  venueIndex: number|null\r\n\r\n  // foursquare venues categories\r\n  foursquareCategory_sub: Subscription\r\n  defaultCategory = 'All'\r\n  venueCategories: foursquareCategory[] = []\r\n\r\n  // for database venue search\r\n  @ViewChild(SearchBarComponent) SearchBarComponent: SearchBarComponent\r\n  searchVenueForm: FormGroup\r\n  mapCenter_sub: Subscription\r\n  searchUrlCoord: CustomCoordinates\r\n\r\n  // for custom add venue\r\n  @ViewChild('citySearch') CitySearchComponent: CitySearchComponent\r\n  private selectedOption_sub: Subscription\r\n  selectedOption: geocodeResponseModel\r\n  citySearchAppearance = 'outline'\r\n  citySearchPlaceholder = 'Search for a City'\r\n  customVenueForm: FormGroup\r\n\r\n  // for component visual\r\n  isLoading = false\r\n  isLoaded: boolean\r\n  isErr = false\r\n\r\n  constructor(private SearchService: SearchService,\r\n              private TripService: TripService,\r\n              private MapService: MapService,\r\n              public dialogRef: MatDialogRef<AddVenuePopoverComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: {\r\n                tripIndex: number\r\n                scheduleIndex: number\r\n                venueIndex: number|null\r\n                venueName: string\r\n                venuePrice: number\r\n                venueCity: string\r\n                venueAddress: string\r\n              }) {\r\n    this.tripIndex = data.tripIndex\r\n    this.dayIndex = data.scheduleIndex\r\n    this.venueIndex = data.venueIndex\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.isLoaded = false\r\n\r\n    // sets mat select venue category options\r\n    this.foursquareCategory_sub =  this.SearchService.categoryTree.subscribe((cats: foursquareCategory[]) => {\r\n      this.venueCategories = cats\r\n    })\r\n\r\n    // gets user trips from trip service\r\n    this.trips_sub = this.TripService.trips.subscribe((trips: tripModel[]) => {\r\n      this.allTrips = trips\r\n    })\r\n\r\n    // get map center from map service\r\n    this.mapCenter_sub = this.MapService.fakeCenter.subscribe((coord: CustomCoordinates) => {\r\n      this.searchUrlCoord = coord\r\n    })\r\n\r\n    this.searchVenueForm = new FormGroup({\r\n      name: new FormControl(null, [Validators.required, Validators.minLength(1), Validators.maxLength(25)])\r\n    })\r\n\r\n    this.customVenueForm = new FormGroup({\r\n      name: new FormControl(null, [Validators.required, Validators.minLength(1), Validators.maxLength(25)]),\r\n      address: new FormControl(null),\r\n      price: new FormControl(null),\r\n      url: new FormControl(null)\r\n    })\r\n\r\n    // fill form if user is editing venue\r\n    if (this.venueIndex != null) {\r\n      this.customVenueForm.get('name').patchValue(this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].name ? this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].name : '')\r\n      this.customVenueForm.get('address').patchValue(this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].venueAddress ? this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].venueAddress : '')\r\n      this.customVenueForm.get('price').patchValue(this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].price ? this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].price : 0)\r\n      this.customVenueForm.get('url').patchValue(this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].url ? this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].url : '')\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // selected option from autosuggest\r\n    this.selectedOption_sub = this.CitySearchComponent.clickedOption.subscribe((location) => {\r\n      if (location) {\r\n        this.selectedOption = location\r\n        this.CitySearchComponent.myControl.patchValue(location.name)\r\n      }\r\n    })\r\n\r\n    // fill form if user is editing venue\r\n    if (this.venueIndex != null) {\r\n      this.CitySearchComponent.myControl.patchValue(this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].venueCity ? this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex].venueCity : '')\r\n    }\r\n  }\r\n\r\n  /** when user searches venues from foursquare */\r\n  onSubmitSearch() {\r\n    this.isLoading = true\r\n    if (this.SearchBarComponent.searchBarForm.valid) {\r\n      this.isLoading = false\r\n      this.dialogRef.close()\r\n    }\r\n    this.isLoading = false\r\n  }\r\n\r\n  /** update when user adds custom venue */\r\n  onSubmitCustom() {\r\n    if (this.customVenueForm.valid) {\r\n      let url: any = null\r\n      for (const category of this.venueCategories) {\r\n        if (category.name === this.defaultCategory) {\r\n          url = category.icon.prefix + '32' + category.icon.suffix\r\n          break\r\n        }\r\n      }\r\n\r\n      // if edit venue\r\n      if (this.venueIndex != null) {\r\n        this.allTrips[this.tripIndex].schedule[this.dayIndex].venues[this.venueIndex] = {\r\n          name: this.customVenueForm.get('name').value,\r\n          venueCity: this.CitySearchComponent.myControl.value ? this.CitySearchComponent.removeMiddle(this.CitySearchComponent.myControl.value, 0) : '',\r\n          venueCoord: {lng: this.selectedOption.content.geometry.coordinates[0], lat: this.selectedOption.content.geometry.coordinates[1]},\r\n          venueAddress: this.customVenueForm.get('address').value ? this.customVenueForm.get('address').value : '',\r\n          price: this.customVenueForm.get('price').value ? this.customVenueForm.get('price').value : 0,\r\n          category: url ? {name: this.defaultCategory, url} : null,\r\n          url: this.customVenueForm.get('url').value ? this.customVenueForm.get('url').value : ''\r\n        }\r\n      } else {\r\n        // if add venue\r\n        this.allTrips[this.tripIndex].schedule[this.dayIndex].venues.push({\r\n          name: this.customVenueForm.get('name').value,\r\n          venueCity: this.CitySearchComponent.myControl.value ? this.CitySearchComponent.removeMiddle(this.CitySearchComponent.myControl.value, 0) : '',\r\n          venueCoord: {lng: this.selectedOption.content.geometry.coordinates[0], lat: this.selectedOption.content.geometry.coordinates[1]},\r\n          venueAddress: this.customVenueForm.get('address').value ? this.customVenueForm.get('address').value : '',\r\n          price: this.customVenueForm.get('price').value ? this.customVenueForm.get('price').value : 0,\r\n          category: url ? {name: this.defaultCategory, url} : null,\r\n          url: this.customVenueForm.get('url').value ? this.customVenueForm.get('url').value : ''\r\n        })\r\n      }\r\n      this.TripService.modifyBackend(this.allTrips)\r\n      .then((response) => {\r\n        this.TripService.updateLocal(this.allTrips)\r\n        setTimeout(() => {\r\n          this.dialogRef.close()\r\n        }, 500)\r\n      })\r\n      .catch((err) => {\r\n        this.isErr = true\r\n      })\r\n      .finally(() => {\r\n        this.isLoading = false\r\n        this.isLoaded = true\r\n      })\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.selectedOption_sub.unsubscribe()\r\n    this.trips_sub.unsubscribe()\r\n    this.foursquareCategory_sub.unsubscribe()\r\n    this.mapCenter_sub.unsubscribe()\r\n  }\r\n}\r\n","    <mat-card>\r\n    <mat-card-header>\r\n        <mat-card-title>{{venueIndex != null? 'Edit' : 'Add'}} Venue for Day {{dayIndex + 1}}</mat-card-title>\r\n    </mat-card-header>\r\n    <br>\r\n    <mat-card-content>\r\n        <mat-tab-group dynamicHeight mat-align-tabs=\"center\">\r\n            <!-- Search Venue -->\r\n            <mat-tab id=\"theTab\" *ngIf='venueIndex === null'>\r\n                <!-- <form\r\n                    [formGroup]='searchVenueForm'\r\n                    (ngSubmit)='onSubmitSearch()'>\r\n                    <ng-template mat-tab-label>\r\n                        <label matTooltip=\"Search Venue in Database\" style=\"margin: 0;\">Search</label>\r\n                    </ng-template>\r\n                    <br>\r\n                    <mat-form-field appearance='outline' style=\"margin: 0; padding: 0;\">\r\n                        <mat-label>Search Venue</mat-label>\r\n                        <input formControlName='name' matInput type=\"text\" >\r\n                        <small class=\"text-danger\" *ngIf=\"!searchVenueForm.get('name').valid && searchVenueForm.get('name').touched\">name must be between 1 and 25 characters</small>\r\n                    </mat-form-field>\r\n                    &nbsp;\r\n                    <mat-form-field appearance='fill'>\r\n                        <mat-label>Category</mat-label>\r\n                        <mat-select [(value)]='defaultCategory'>\r\n                            <mat-option value='All'>All</mat-option>\r\n                            <mat-option *ngFor='let category of venueCategories' [value]='category.name'>{{category.name}}</mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                    <br>\r\n                    <span class=\"row container-fluid\">\r\n                        <button mat-raised-button class=\"col-auto\" color='primary' [disabled]='isLoading'>Search</button>\r\n                        &nbsp;\r\n                        <mat-spinner *ngIf='isLoading' class=\"col-auto align-self-center\" diameter='30' color='primary'></mat-spinner>                        \r\n                    </span>\r\n                </form> -->\r\n                <form\r\n                    (ngSubmit)='onSubmitSearch()'\r\n                    class=\"container-fluid\" style=\"padding: 0;\">\r\n                    <ng-template mat-tab-label>\r\n                        <label matTooltip=\"Search Venue in Database\" style=\"margin: 0;\">Search</label>\r\n                    </ng-template>\r\n                    <br>\r\n                    <app-search-bar isChild='true' style=\"padding: 0; margin-left: 0; margin-right: 0; width: 100%;\" (submission)='onSubmitSearch()'></app-search-bar>\r\n                </form>\r\n            </mat-tab>\r\n            <!-- Custom Venue -->\r\n            <mat-tab>\r\n                <form \r\n                    #customForm\r\n                    [formGroup]='customVenueForm'\r\n                    (ngSubmit)='onSubmitCustom()'>\r\n                    <ng-template mat-tab-label >\r\n                        <label style=\"margin: 0;\">Custom</label>\r\n                        &nbsp;\r\n                        <mat-icon matTooltip=\"Add Custom Venue\">info</mat-icon>\r\n                    </ng-template>\r\n                    <br>\r\n                    <mat-form-field appearance='outline'>\r\n                        <mat-label>Venue Name*</mat-label>\r\n                        <input matInput type=\"text\" autocomplete=\"off\" formControlName='name'>\r\n                        <small class=\"text-danger\" *ngIf=\"!customVenueForm.get('name').valid && customVenueForm.get('name').touched\">Name must be between 1 and 20 characters</small>\r\n                    </mat-form-field>\r\n                    &nbsp;\r\n                    <mat-form-field appearance='outline'>\r\n                        <mat-label>Category</mat-label>\r\n                        <mat-select [(value)]='defaultCategory'>\r\n                            <mat-option value='All'>All</mat-option>\r\n                            <mat-option *ngFor='let category of venueCategories' [value]='category.name'>{{category.name}}</mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                    <hr style=\"margin-top: 0;\">\r\n                    <app-city-search #citySearch [appearance]='citySearchAppearance' [placeholder]='citySearchPlaceholder'></app-city-search>\r\n                    <mat-form-field appearance='outline'>\r\n                        <mat-label>Street Address</mat-label>\r\n                        <input matInput type='text' autocomplete=\"street-address\" formControlName='address'>\r\n                    </mat-form-field>\r\n                    <br>\r\n                    <mat-form-field appearance='outline'>\r\n                        <mat-label>Price</mat-label>\r\n                        <input matInput type='number' formControlName='price'>\r\n                    </mat-form-field>\r\n                    &nbsp;\r\n                    <mat-form-field appearance='outline'>\r\n                        <mat-label>Website Url</mat-label>\r\n                        <input matInput type='url' formControlName='url'>\r\n                    </mat-form-field>\r\n                    <span class=\"row container-fluid\">\r\n                    <button \r\n                        class=\"col-auto\"\r\n                        mat-raised-button\r\n                        matTooltip='add custom Venue'\r\n                        color='primary'\r\n                        [disabled]='isLoading'>\r\n                        Add\r\n                    </button>\r\n                    &nbsp;\r\n                    <mat-spinner *ngIf='isLoading' class=\"col-auto align-self-center\" diameter='30' color='primary'></mat-spinner>\r\n                    </span>\r\n                    &nbsp;\r\n                    <span>\r\n                        <small *ngIf='isLoaded && !isErr' class=\"text-success\">New Venue added Succesfully!</small>\r\n                    </span>\r\n                </form> \r\n            </mat-tab>\r\n        </mat-tab-group>\r\n    </mat-card-content>\r\n    <mat-card-actions>\r\n    </mat-card-actions>\r\n</mat-card>\r\n","import * as Mapboxgl  from 'mapbox-gl'\r\nimport { geocodeResponseModel } from './../../models/geocodeResp.model'\r\nimport { OpenstreetmapService } from './openstreetmap.service'\r\nimport { SessionService } from 'src/app/services/session.service'\r\nimport { CustomCoordinates } from './../../models/coordinates'\r\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs'\r\nimport { Injectable, OnInit, Input, OnDestroy } from '@angular/core'\r\nimport { environment } from 'src/environments/environment'\r\nimport { GeoJsonTypes } from 'geojson'\r\n\r\n\r\nexport class featureGEOJSONModel {\r\n  public type: String\r\n  public geometry: {\r\n    type: String,\r\n    coordinates: number[]\r\n  }\r\n  public properties?: {\r\n    [key: string]: any\r\n    title: string\r\n    icon?: string\r\n  }\r\n\r\n  constructor(title: string, coordinates: number[]) {\r\n    this.type = 'Feature'\r\n    this.geometry = {\r\n      type: 'Point',\r\n      coordinates\r\n    }\r\n    this.properties = {\r\n      title,\r\n      'marker-color': '#3c4e5a',\r\n      'marker-symbol': 'marker-15',\r\n      'marker-size': 'large',\r\n    }\r\n  }\r\n}\r\n\r\nexport interface clickLocationCoordinates {\r\n  [key: string]: any\r\n  lng: number\r\n  lat: number\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MapService implements OnDestroy{\r\n  citySearchPresent: boolean = null\r\n\r\n  private _fakeCenter: BehaviorSubject<mapboxgl.LngLatLike | CustomCoordinates> = new BehaviorSubject(null)\r\n  public fakeCenter: Observable<mapboxgl.LngLatLike | CustomCoordinates> = this._fakeCenter.asObservable()\r\n\r\n  private _fakeCenterCity: BehaviorSubject<{[key: string]: any}> = new BehaviorSubject({})\r\n  public fakeCenterCity: Observable<{[key: string]: any}> = this._fakeCenterCity.asObservable()\r\n\r\n\r\n  lngOffset: number\r\n  map: Mapboxgl.Map\r\n  venueLocation: Mapboxgl.Marker\r\n\r\n  private _clickLocation: BehaviorSubject<clickLocationCoordinates> = new BehaviorSubject({\r\n    lat: null,\r\n    lng: null\r\n  })\r\n  clickLocation: Observable<clickLocationCoordinates> = this._clickLocation.asObservable()\r\n\r\n  private Places: Array<featureGEOJSONModel[]> = [[], []]\r\n\r\n  private sidebarWidth_sub: Subscription\r\n  sidebarWidth: number\r\n\r\n  constructor(private SessionService: SessionService,\r\n              private OpenstreetmapService: OpenstreetmapService) {\r\n    (Mapboxgl as any).accessToken = environment.mapbox.token\r\n\r\n    this.sidebarWidth_sub = this.SessionService.sidebarWidth.subscribe((w: number) => {\r\n      this.sidebarWidth = w\r\n    })\r\n  }\r\n\r\n  buildMap() {\r\n    this.map = new Mapboxgl.Map({\r\n      container: 'mapbox', // container id\r\n      style: 'mapbox://styles/travelnet/ck99afyp80hhu1iqrodjf1brl',\r\n      center: [-71.22, 46.85], // starting position\r\n      zoom: 2, // starting zoom\r\n      failIfMajorPerformanceCaveat: true, // map creation will fail\r\n      // if the performance of Mapbox GL JS\r\n      pitchWithRotate: false,\r\n      dragRotate: false,\r\n    })\r\n    // this._clickLocation = new BehaviorSubject(`${this.map.getCenter().lng},${this.map.getCenter().lat}`)\r\n    // this.clickLocation = this._clickLocation.asObservable()\r\n\r\n    this.map.on('load', () => {\r\n      // init center observable\r\n      this.getCenter()\r\n      this.getFakeCenter()\r\n\r\n      this.map.on('click', (e) => {\r\n        const lng = e.lngLat.lng\r\n        const lat = e.lngLat.lat\r\n        this._clickLocation.next({\r\n          lng,\r\n          lat\r\n        })\r\n      })\r\n    })\r\n\r\n    // update fake center of map\r\n    this.map\r\n    .on('zoomend', () => {\r\n      this.getFakeCenter()\r\n    })\r\n    .on('moveend', () => {\r\n      this.getFakeCenter()\r\n    })\r\n\r\n  }\r\n\r\n  addGeoJsonSource(id: string, type: any, content: any[]) {\r\n    this.map.addSource(id, {\r\n      type: 'geojson',\r\n      data: {\r\n        type,\r\n        features: content\r\n      }\r\n    })\r\n  }\r\n\r\n  addLayer(id: string, type: any, source: string, layout?: {[key: string]: any}, paint?: {[key: string]: any}) {\r\n    this.map.addLayer({\r\n      id,\r\n      type,\r\n      source,\r\n      layout,\r\n      paint\r\n    })\r\n  }\r\n\r\n  addMarker(location: {[key: string]: any}) {\r\n    const coord: mapboxgl.LngLatLike = {\r\n      lng: location.lng,\r\n      lat: location.lat\r\n    }\r\n    this.venueLocation = new Mapboxgl.Marker()\r\n    .setLngLat(coord)\r\n    .addTo(this.map)\r\n    coord.lng -= this.lngOffset\r\n    this.map.flyTo({ center: coord, speed: 0.8, curve: 1, essential: true })\r\n  }\r\n\r\n  /** gets middle point between sidebar and right side of screen */\r\n  getFakeCenter(sidebar: number = this.sidebarWidth) {\r\n    let centerPoints: any\r\n    if (sidebar < 500) {\r\n      centerPoints = this.map.unproject([window.innerWidth / 2, window.innerHeight / 2])\r\n    }\r\n    else {\r\n      centerPoints = this.map.unproject([(window.innerWidth - sidebar) / 2 + sidebar, window.innerHeight / 2])\r\n    }\r\n    const realCenter: mapboxgl.LngLatLike = this.map.getCenter()\r\n    centerPoints = new CustomCoordinates(centerPoints.lng, centerPoints.lat)\r\n    this.lngOffset = centerPoints.lng - realCenter.lng\r\n    // update coord at fake center\r\n    this._fakeCenter.next(centerPoints)\r\n\r\n    if (this.citySearchPresent) {\r\n      // get name of city at fake center\r\n      this.OpenstreetmapService.reverseSearch(centerPoints.lng, centerPoints.lat)\r\n      .subscribe((response) => {\r\n        this._fakeCenterCity.next(response)\r\n      }, err => {\r\n        console.log(err)\r\n        this._fakeCenterCity.next(err)\r\n      })\r\n    }\r\n  }\r\n\r\n  /** return coordinates [lng, lat] at center of screen if not found -> montreal*/\r\n  getCenter(): CustomCoordinates {\r\n    const lng: number = this.map.getCenter().lng ? this.map.getCenter().lng : environment.montrealCoord.lng\r\n    const lat: number = this.map.getCenter().lat ? this.map.getCenter().lat : environment.montrealCoord.lat\r\n    return new CustomCoordinates(lng, lat)\r\n  }\r\n\r\n  /** highlight selected coutries when register */\r\n  showMarker(target: number, input?: geocodeResponseModel, style?: URL) {\r\n    if (!input && this.map.getSource('points') && this.Places[target - 1]) {\r\n      (this.map.getSource('points') as Mapboxgl.GeoJSONSource).setData(\r\n        {\r\n          type: 'FeatureCollection',\r\n          features: this.Places[target - 1] as any\r\n        }\r\n      )\r\n    } else if (input) {\r\n      this.Places[target - 1].push(new featureGEOJSONModel(input.name, input.content.geometry.coordinates))\r\n      const coord: mapboxgl.LngLatLike = {\r\n        lng: input.content.geometry.coordinates[0],\r\n        lat: input.content.geometry.coordinates[1]\r\n      }\r\n      coord.lng -= this.lngOffset\r\n      this.map.flyTo({ center: coord, speed: 0.8, curve: 1, essential: true })\r\n      if (this.map.getSource('points')) {\r\n        // update points\r\n        (this.map.getSource('points') as Mapboxgl.GeoJSONSource).setData(\r\n          {\r\n            type: 'FeatureCollection',\r\n            features: this.Places[target - 1] as any\r\n          }\r\n        )\r\n      } else {\r\n        // add first point\r\n        this.map.addSource('points', {\r\n          type: 'geojson',\r\n          data: {\r\n            type: 'FeatureCollection',\r\n            features: [\r\n              {\r\n                type: 'Feature',\r\n                geometry: {\r\n                  type: 'Point',\r\n                  coordinates: [\r\n                    input.content.geometry.coordinates[0],\r\n                    input.content.geometry.coordinates[1],\r\n                  ]\r\n                },\r\n                properties: {\r\n                  title: input.name,\r\n                  'marker-color': '#3c4e5a',\r\n                  'marker-symbol': 'marker-15',\r\n                  'marker-size': 'large',\r\n                }\r\n              },\r\n            ]\r\n          }\r\n        })\r\n\r\n      }\r\n    }\r\n    if (!this.map.getLayer('points') && this.map.getSource('points')) {\r\n      this.map.addLayer({\r\n        id: 'points',\r\n        type: 'symbol',\r\n        source: 'points',\r\n        layout: {\r\n          // get the icon name from the source's \"icon\" property\r\n          // concatenate the name to get an icon from the style's sprite sheet\r\n          'icon-image': ['get', 'marker-symbol'],\r\n          // get the title name from the source's \"title\" property\r\n          'text-field': ['get', 'title'],\r\n          'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\r\n          'text-offset': [0, 0.6],\r\n          'text-anchor': 'top'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // remove markers on map\r\n  removeMarker(name: string, target: number, all?: boolean) {\r\n    if (all) {\r\n      this.Places[target - 1] = []\r\n      if (this.map.getSource('points')) {\r\n        (this.map.getSource('points') as Mapboxgl.GeoJSONSource).setData(\r\n          {\r\n            type: 'FeatureCollection',\r\n            features: []\r\n          }\r\n        )\r\n      }\r\n    } else {\r\n      for (let x = 0; x < this.Places[target - 1].length; x++) {\r\n        if (this.Places[target - 1][x].properties.title == name) {\r\n          this.Places[target - 1].splice(x, 1) as any;\r\n          (this.map.getSource('points') as Mapboxgl.GeoJSONSource).setData(\r\n            {\r\n              type: 'FeatureCollection',\r\n              features: this.Places[target - 1] as any\r\n            }\r\n          )\r\n          break\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  venueOnDestroy() {\r\n    if (this.venueLocation) {\r\n      this.venueLocation.remove()\r\n    }\r\n  }\r\n  ngOnDestroy() {\r\n    this.sidebarWidth_sub.unsubscribe()\r\n  }\r\n}\r\n","import { SocketService } from './chatsystem/socket.service'\r\nimport { Injectable } from '@angular/core'\r\nimport { BehaviorSubject, Observable} from 'rxjs'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class SessionService {\r\n\r\n  // observable for login state\r\n  private _sessionState: BehaviorSubject<boolean> = new BehaviorSubject(false)\r\n  public sessionState: Observable<boolean> = this._sessionState.asObservable()\r\n\r\n  private _sidebarWidth: BehaviorSubject<number> = new BehaviorSubject(window.innerWidth * .4)\r\n  public sidebarWidth: Observable<number> = this._sidebarWidth.asObservable()\r\n\r\n  constructor(private SocketService: SocketService) { }\r\n\r\n  getRoomName(roomName: string) {\r\n    if (roomName.replace(`${sessionStorage.getItem('username')},`, '').includes(roomName)) {\r\n      return roomName.replace(`,${sessionStorage.getItem('username')}`, '')\r\n    } else {\r\n      return roomName.replace(`${sessionStorage.getItem('username')},`, '')\r\n    }\r\n  }\r\n\r\n  session(): boolean {\r\n    if (sessionStorage.getItem('username')) {\r\n      this._sessionState.next(true)\r\n      return true\r\n    } else {\r\n      this._sessionState.next(false)\r\n      return false\r\n    }\r\n  }\r\n\r\n  updateSidebarWidth(width: number) {\r\n    this._sidebarWidth.next(width)\r\n  }\r\n}\r\n","import { tripModel } from './../../../../models/trip.model'\r\nimport { Subscription } from 'rxjs'\r\nimport { TripService } from './../../../../services/trip.service'\r\nimport { Component, OnInit, OnDestroy, ViewChild, AfterViewInit, Output, EventEmitter } from '@angular/core'\r\nimport { MatSelectionList, MatListOption } from '@angular/material/list'\r\n\r\n@Component({\r\n  selector: 'app-add-to-trip-popover',\r\n  templateUrl: './add-to-trip-popover.component.html',\r\n  styleUrls: ['./add-to-trip-popover.component.scss']\r\n})\r\nexport class AddToTripPopoverComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild(MatSelectionList) MatSelectionList: MatSelectionList\r\n  @Output() onSubmitEvent = new EventEmitter<MatListOption[]>()\r\n  trips: tripModel[] = null\r\n  trip_sub: Subscription\r\n\r\n  constructor(private TripService: TripService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.trip_sub = this.TripService.trips.subscribe((trips: tripModel[]) => {\r\n      this.trips = trips\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  onSubmit() {\r\n    this.onSubmitEvent.emit(this.MatSelectionList.selectedOptions.selected)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.trip_sub.unsubscribe()\r\n  }\r\n\r\n}\r\n","<mat-label>\r\n    <h2>Select Where You Want To Add This Venue</h2>\r\n</mat-label>\r\n<mat-accordion>\r\n    <mat-expansion-panel *ngFor='let trip of trips, let i = index'>\r\n        <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n                {{ trip.tripName }}\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n                {{ trip.dateRange.start | date }} &mdash; {{ trip.dateRange.end | date }}\r\n            </mat-panel-description>\r\n        </mat-expansion-panel-header>\r\n        <mat-selection-list #days>\r\n            <mat-accordion>\r\n                <mat-expansion-panel *ngFor='let day of trip.schedule, let j = index' #panel>\r\n                    <mat-expansion-panel-header>\r\n                        <mat-list-option (click)='panel.toggle()' [value]='{trip: i, day: j}' style=\"margin-right: 1em;\">\r\n                            {{ day.day | date}}\r\n                        </mat-list-option>\r\n                    </mat-expansion-panel-header>\r\n                    <mat-table [dataSource]=\"trip.schedule[j].venues\" class=\"mat-elevation-z8\">\r\n                        <!-- category -->\r\n                        <ng-container matColumnDef=\"category\">\r\n                            <mat-header-cell *matHeaderCellDef> Category </mat-header-cell>\r\n                            <mat-cell *matCellDef=\"let element\">\r\n                                <button mat-mini-fab color='primary' style=\"box-shadow: none;\" *ngIf='element.category' matTooltip='{{element.category.name}}'>\r\n                                    <img src=\"{{element.category.url}}\" alt=\"\" style=\"margin-top: -0.3em;\">\r\n                                </button>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n\r\n                        <!-- Name Column -->\r\n                        <ng-container matColumnDef=\"name\">\r\n                          <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>\r\n                          <mat-cell *matCellDef=\"let element\"> {{element.name}} </mat-cell>\r\n                        </ng-container>\r\n                      \r\n                        <!-- Price Column -->\r\n                        <ng-container matColumnDef=\"price\">\r\n                          <mat-header-cell *matHeaderCellDef> price </mat-header-cell>\r\n                          <mat-cell *matCellDef=\"let element\"> {{element.price}} </mat-cell>\r\n                        </ng-container>\r\n\r\n                      \r\n                        <mat-header-row *matHeaderRowDef=\"['category', 'name', 'price']\"></mat-header-row>\r\n                        <mat-row *matRowDef=\"let row; columns: ['category', 'name', 'price']\"></mat-row>\r\n                      </mat-table>\r\n                </mat-expansion-panel>\r\n            </mat-accordion>\r\n        </mat-selection-list>\r\n    </mat-expansion-panel>\r\n</mat-accordion>\r\n<br>\r\n<span class=\"container-fluid justify-content-end\">\r\n    <button mat-raised-button color='primary' (click)='onSubmit()'>\r\n        add\r\n    </button>\r\n</span>","import { HttpService } from 'src/app/services/http.service'\r\nimport { userModel } from 'src/app/models/user.model'\r\nimport { Component, OnInit, Input } from '@angular/core'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { Router } from '@angular/router'\r\n\r\n@Component({\r\n  selector: 'app-userbutton',\r\n  templateUrl: './userbutton.component.html',\r\n  styleUrls: ['./userbutton.component.scss']\r\n})\r\nexport class UserbuttonComponent implements OnInit {\r\n  pathID: string\r\n  searchResult: any\r\n  @Input() result: userModel\r\n  selfUsername: string = localStorage.getItem('username')\r\n\r\n  constructor(\r\n    private searchservice: SearchService,\r\n    private router: Router,\r\n    private HttpService: HttpService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.result)\r\n    this.searchResult = this.result\r\n    this.pathID = '/search/user/' + this.result.username\r\n  }\r\n\r\n  navigate() {\r\n    console.log(this.result)\r\n    this.router.navigate([this.pathID])\r\n  }\r\n\r\n  // follow button\r\n  onFollow() {\r\n    // update database\r\n    this.HttpService.post('/user/follow', {\r\n      username: localStorage.getItem('username'),\r\n      followed: this.result.username\r\n    }).then((res) => {\r\n      // add the follower in current content\r\n      this.result.followers.push(localStorage.getItem('username'))\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  // unfollow button\r\n  onUnfollow() {\r\n    // update database\r\n    this.HttpService.post('/user/unfollow', {\r\n      username: localStorage.getItem('username'),\r\n      unfollowed: this.result.username\r\n    }).then((res) => {\r\n      // remove the follower from current content\r\n      this.result.followers.splice(this.result.followers.indexOf(localStorage.getItem('username')), 1)\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n","<mat-card *ngIf=\"searchResult.username\">\r\n  <mat-card-header (click)='navigate()' class='mainCard'>\r\n    <img\r\n    mat-card-avatar\r\n    src=\"data:image/jpeg;base64,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\"\r\n    alt=\"\">\r\n    <mat-card-title>{{searchResult|null: ['username']}}</mat-card-title>\r\n    <mat-card-subtitle>User</mat-card-subtitle>\r\n  </mat-card-header>\r\n\r\n  <mat-card-content (click)='navigate()' class=\"container\" class='mainCard'>\r\n    lol\r\n    <div>\r\n      <!-- dunno why these dont work -->\r\n      <!-- <p *ngFor=\"let item of searchResult|null:['history']\">{{item}}</p> -->\r\n    </div>\r\n    <div>\r\n      <!-- <p *ngFor=\"let item of searchResult|null:['whishlist']\">{{item}}</p> -->\r\n    </div>\r\n  </mat-card-content>\r\n  <mat-card-actions class=\"container\">\r\n    <div class=\"container\">\r\n      <!-- option to follow -->\r\n      <div *ngIf=\"!result.followers.includes(this.selfUsername)\">\r\n        <button mat-raised-button (click)=\"onFollow()\">\r\n          Follow\r\n        </button>\r\n      </div>\r\n\r\n      <!-- already following -->\r\n      <div *ngIf=\"result.followers.includes(this.selfUsername)\">\r\n        <button mat-raised-button (click)=\"onUnfollow()\">\r\n          Unfollow\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </mat-card-actions>\r\n</mat-card>\r\n\r\n","import { environment as defaultEnvironment } from './environment.prod'\r\nexport const environment = {\r\n    ...defaultEnvironment,\r\n    production: false,\r\n}\r\n","import { environment } from './../../environments/environment'\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { Injectable, OnDestroy } from '@angular/core'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n// http service that gives httpclient to everything\r\n\r\nexport class HttpService {\r\n  serverURL = environment.travelnetURL\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  delete(route: String, params: any) {\r\n    const serverRoute = this.serverURL + route\r\n    return new Promise((resolve, reject) => {\r\n      this.http.delete<any>(serverRoute, {\r\n        headers: {\r\n          authorization: localStorage.getItem('token') ? localStorage.getItem('token').toString() : 'monkas'\r\n        },\r\n        params\r\n      }).subscribe((res) => {\r\n        resolve(res)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  get(route: String, params: any) {\r\n    const serverRoute = this.serverURL + route\r\n    return new Promise((resolve, reject) => {\r\n      this.http.get<any>(serverRoute, {\r\n        headers: {\r\n          authorization: localStorage.getItem('token') ? localStorage.getItem('token').toString() : 'monkas'\r\n        },\r\n        params\r\n      }).subscribe((res) => {\r\n        resolve(res)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  post(route: String, params: any) {\r\n    const serverRoute = this.serverURL + route\r\n    return new Promise((resolve, reject) => {\r\n      this.http.post<any>(serverRoute,\r\n        params\r\n      ).subscribe((res) => {\r\n        resolve(res)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  put(route: String, params: any) {\r\n    const serverRoute = this.serverURL + route\r\n    return new Promise((resolve, reject) => {\r\n      this.http.put<any>(serverRoute, {\r\n        headers: {\r\n          authorization: localStorage.getItem('token') ? localStorage.getItem('token').toString() : 'monkas'\r\n        },\r\n        params\r\n      }).subscribe((res) => {\r\n        resolve(res)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  patch(route: string, params: any) {\r\n    const serverRoute = this.serverURL + route\r\n    return new Promise((resolve, reject) => {\r\n      this.http.patch<any>(serverRoute, {\r\n        headers: {\r\n          authorization: localStorage.getItem('token') ? localStorage.getItem('token').toString() : 'monkas'\r\n        },\r\n        params\r\n      }).subscribe((res) => {\r\n        resolve(res)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n}\r\n","import { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { SocketService } from 'src/app/services/chatsystem/socket.service'\r\nimport { Component, OnDestroy, OnInit } from '@angular/core'\r\nimport { SessionService } from 'src/app/services/session.service'\r\nimport { NgbModalConfig, NgbModal } from '@ng-bootstrap/ng-bootstrap'\r\nimport { Router } from '@angular/router'\r\n\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./loginpage.component.scss'],\r\n})\r\n\r\nexport class loginComponent {\r\n    modal = null\r\n    constructor(private modalService: NgbModal ) {\r\n      this.openModal()\r\n    }\r\n\r\n    openModal() {\r\n        this.modal = this.modalService.open(LoginComponent, {})\r\n    }\r\n}\r\n\r\n\r\n@Component({\r\n    selector: 'app-loginpage',\r\n    templateUrl: './loginpage.component.html',\r\n    styleUrls: ['./loginpage.component.scss'],\r\n    providers: [NgbModalConfig, NgbModal]\r\n})\r\n\r\nexport class LoginComponent implements OnInit, OnDestroy{\r\n    loginForm: FormGroup\r\n    login_err = false\r\n    hide = true\r\n\r\n    constructor(private SocketService: SocketService,\r\n                private sessionService: SessionService,\r\n                private modalService: NgbModal,\r\n                private router: Router) { }\r\n\r\n    ngOnInit() {\r\n        this.loginForm = new FormGroup({\r\n            username: new FormControl(null, Validators.required),\r\n            password: new FormControl(null, Validators.required)\r\n        })\r\n    }\r\n\r\n    // handle user login with socket\r\n    loginClicked() {\r\n        if (!(sessionStorage.getItem('username'))) {\r\n            const credentials = {\r\n                email: this.loginForm.get('username').value,\r\n                password: this.loginForm.get('password').value\r\n            }\r\n            this.login_err = false\r\n            this.SocketService.emit('login', credentials, (data: any) => {\r\n                if (data.err || data === '') {\r\n                    console.log(data.err)\r\n                    this.login_err = true\r\n                    this.loginForm.get('password').reset()\r\n                }\r\n                else if (data.res) {\r\n                    sessionStorage.setItem('username', data.res)\r\n                    localStorage.setItem('token', data.token)\r\n                    localStorage.setItem('username', data.res)\r\n                    this.modalService.dismissAll()\r\n                    this.sessionService.session()\r\n                    this.router.navigate(['/home'])\r\n                } else {\r\n                    console.log('login fini')\r\n                }\r\n            })\r\n        } else {\r\n            sessionStorage.removeItem('username')\r\n            this.loginClicked()\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(){\r\n        // this.router.navigate(['/'])\r\n    }\r\n}\r\n","<!-- <div>\r\n  <form class='modal-body' [formGroup]='loginForm' (ngSubmit)='loginClicked()'>\r\n    <h1 class='jumbotron modal-title'>Login</h1>\r\n    <br *ngIf='!login_err'>\r\n      <span *ngIf='login_err' class=\"help-block text-danger\">username or password incorrect</span>\r\n      <div class='form-group' >\r\n        <label for='exampleInputEmail1'>Email or Username</label>\r\n        <input type='text' class='form-control' formControlName='username'>\r\n      </div>\r\n      <div class='form-group'>\r\n        <label for='exampleInputPassword1'>Password</label>\r\n        <input type='password' class='form-control' formControlName='password'>\r\n        <small class=\"help-block text-danger\" *ngIf=\"!loginForm.get('password').valid && loginForm.get('password').touched\">Please enter something</small>\r\n      </div>\r\n      <button type='submit' class='btn btn-primary'>Login</button>\r\n  </form>\r\n</div> -->\r\n<br>\r\n<br>\r\n\r\n<mat-card class=\"\">\r\n  <mat-card-content class=\"\">\r\n    <form\r\n    ngbAutofocus\r\n    class='modal-body'\r\n    id='form'\r\n    (ngSubmit)=\"loginClicked()\"\r\n    [formGroup]='loginForm'>\r\n      <h1 class='modal-title'>Login</h1>\r\n      <hr>\r\n      <!-- username -->\r\n      <mat-form-field appearance=\"outline\" class='form-group' id=\"username\">\r\n        <mat-label for='username'>Email or Username</mat-label>\r\n        <input matInput formControlName='username' placeholder=\"Enter a Username\" autocomplete=\"off\">\r\n        <small class=\"help-block text-danger\" *ngIf=\"!loginForm.get('username').valid && loginForm.get('username').touched\">Please enter something</small>\r\n      </mat-form-field>\r\n        \r\n      <!-- password -->\r\n      <mat-form-field appearance=\"outline\" class='form-group col-6'>\r\n        <mat-label for='password'>Password</mat-label>\r\n        <input matInput\r\n          placeholder=\"Enter a password\"\r\n          formControlName='password'\r\n          [type]=\"hide ? 'password' : 'text'\"\r\n          autocomplete=\"false\">\r\n        <small class=\"help-block text-danger\" *ngIf=\"!loginForm.get('password').valid && loginForm.get('password').touched\">Please enter something</small>\r\n        <button mat-button\r\n          type='button'\r\n          mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\" [attr.aria-pressed]=\"hide\">\r\n          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\r\n        </button>\r\n      </mat-form-field>\r\n      <button mat-raised-button type='submit' id='submit' color='primary' aria-required='true'>Login</button>\r\n    </form>\r\n  </mat-card-content>\r\n</mat-card>\r\n<hr class=\"hr-text\" data-content=\"OR\">\r\n<mat-card class=\"\">\r\n  <mat-card-content class=\"row\" style=\"padding-left: 25%; padding-right: 25%;\">\r\n    <button mat-raised-button color='primary' class=\"col\" routerLink='/register'>Register</button>\r\n  </mat-card-content>\r\n</mat-card>","import { Component, OnInit } from '@angular/core'\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog'\r\nimport { Inject } from '@angular/core'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { CommentsService } from 'src/app/services/comments.service'\r\n\r\n@Component({\r\n  selector: 'app-edit-comment',\r\n  templateUrl: './edit-comment.component.html',\r\n  styleUrls: ['./edit-comment.component.scss']\r\n})\r\nexport class EditCommentComponent implements OnInit {\r\n  form: FormGroup\r\n  commentData: any\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<any>,\r\n    private CommentsService: CommentsService,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) { }\r\n\r\n  ngOnInit(): void { // re-initialize the comment\r\n    if (!this.data.displayEdits){\r\n      this.form = new FormGroup({\r\n          comment: new FormControl(null, {validators: [Validators.required]}),\r\n        })\r\n      if (this.data.commentData.reply){\r\n          this.form.setValue({\r\n            comment: this.data.commentData.reply.content\r\n            })\r\n        }\r\n        else{\r\n          this.form.setValue({\r\n            comment: this.data.commentData.comment.content\r\n            })\r\n        }\r\n      this.commentData = this.data.commentData\r\n      }\r\n    }\r\n\r\n\r\n  onEditComment(){ // save local data to the comment\r\n    if (this.data.commentData.reply){\r\n      this.commentData.reply.edited.push({edit: this.commentData.reply.content, date: Date().toLocaleString()})\r\n      this.commentData.reply.content = this.form.value.comment\r\n      this.CommentsService.editComment(this.commentData)\r\n    }\r\n    else{\r\n      this.commentData.comment.edited.push({edit: this.commentData.comment.content, date: Date().toLocaleString()})\r\n      this.commentData.comment.content = this.form.value.comment\r\n      this.CommentsService.editComment(this.commentData)\r\n    }\r\n    this.closeDialog()\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close()\r\n  }\r\n\r\n}\r\n","<form [formGroup]=\"form\" (submit)=\"onEditComment()\" *ngIf=\"!data.displayEdits\">\r\n  <mat-form-field>\r\n    <input matInput type=\"text\" formControlName=\"comment\" placeholder=\"\">\r\n    <mat-error *ngIf=\"form.get('comment').invalid\">Please enter something</mat-error>\r\n  </mat-form-field>\r\n  <button mat-raised-button color=\"accent\" type=\"submit\">Save edit</button>\r\n  <button mat-raised-button type= \"button\" (click)=\"closeDialog()\">close</button>\r\n</form>\r\n\r\n<div *ngIf=\"data.displayEdits\">\r\n  <div *ngFor=\"let edit of data.commentData.comment.edited\">\r\n    {{edit.edit}}: {{edit.date}}\r\n  </div>\r\n</div>\r\n","import { CountrySelectorComponent } from './country-selector/country-selector.component'\r\nimport { SessionService } from 'src/app/services/session.service'\r\nimport { Subscription, BehaviorSubject, Observable } from 'rxjs'\r\nimport { MapService, clickLocationCoordinates } from './../../services/map/map.service'\r\nimport { Router } from '@angular/router'\r\nimport { RegistrationComponent } from './registrationpage/registrationpage.component'\r\nimport { Component, OnInit, AfterViewInit, ViewChild, OnDestroy, Output, Input } from '@angular/core'\r\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms'\r\nimport { MatHorizontalStepper } from '@angular/material/stepper'\r\n\r\nexport interface progressUpdateData {\r\n  target: number\r\n  coordinates: number[]\r\n}\r\n\r\n@Component({\r\n  selector: 'app-registration-process',\r\n  templateUrl: './registration-process.component.html',\r\n  styleUrls: ['./registration-process.component.scss']\r\n})\r\nexport class RegistrationProcessComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  private sessionState_sub: Subscription\r\n  sessionState: Boolean\r\n\r\n  firstFormGroup: FormGroup\r\n  secondFormGroup: FormGroup\r\n  @ViewChild('stepper') stepper: MatHorizontalStepper\r\n  @ViewChild('step1') step1: any\r\n  @ViewChild('selector1') selector1: CountrySelectorComponent\r\n  @ViewChild('selector2') selector2: CountrySelectorComponent\r\n\r\n  editable: Boolean = true\r\n  @ViewChild('registration') registration: RegistrationComponent\r\n\r\n  private _progressUpdate: BehaviorSubject<progressUpdateData> = new BehaviorSubject({\r\n    target: 0,\r\n    coordinates: []\r\n  })\r\n  @ViewChild('progressUpdate') progressUpdate: Observable<progressUpdateData> = this._progressUpdate.asObservable()\r\n\r\n  private clickLocation: Subscription\r\n  private stepper_sub: Subscription\r\n\r\n  isSaving = false\r\n  isDone = false\r\n\r\n  constructor(private _formBuilder: FormBuilder,\r\n              private MapService: MapService,\r\n              private SessionService: SessionService,\r\n              private Router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.firstFormGroup = this._formBuilder.group({\r\n      firstCtrl: ['']\r\n    })\r\n    this.secondFormGroup = this._formBuilder.group({\r\n      secondCtrl: ''\r\n    })\r\n    this.sessionState_sub = this.SessionService.sessionState.subscribe((state: Boolean) => {\r\n      this.sessionState = state\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() { // setup registration form\r\n    this.step1.stepControl = this.registration.registrationForm\r\n    this.clickLocation = this.MapService.clickLocation.subscribe((x: clickLocationCoordinates) => {\r\n      this._progressUpdate.next({\r\n        target: this.stepper.selectedIndex,\r\n        coordinates: [x.lng, x.lat]\r\n      })\r\n    })\r\n    this.stepper_sub = this.stepper.selectionChange.subscribe(x => {\r\n      console.log(this.stepper.steps)\r\n      if (x.selectedIndex != 0) {\r\n        this.editable = false\r\n        this.isDone = false\r\n        this.MapService.showMarker(x.selectedIndex)\r\n      }\r\n    })\r\n  }\r\n\r\n  registerClicked() {\r\n    this.registration.onSubmit()\r\n  }\r\n\r\n  onClear(target: number) {\r\n\r\n  }\r\n\r\n  savePreferences() {\r\n    this.isSaving = true\r\n    Promise.all([this.selector1.onSumbit(), this.selector2.onSumbit()])\r\n    .then((responses: any[]) => {\r\n      this.isDone = true\r\n      setTimeout(() => {\r\n        this.Router.navigate(['/home'])\r\n      }, 500)\r\n    })\r\n    .catch((err: any[]) => {\r\n      alert(err[0])\r\n      // window.location.reload()\r\n    })\r\n    .finally(() => {\r\n      this.isSaving = false\r\n    })\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // this.Router.navigate(['/'])\r\n    this.clickLocation.unsubscribe()\r\n    this.stepper_sub.unsubscribe()\r\n    this.sessionState_sub.unsubscribe()\r\n  }\r\n\r\n}\r\n","<mat-horizontal-stepper linear #stepper>\r\n  <ng-template matStepperIcon=\"edit\">\r\n    <mat-icon>check</mat-icon>\r\n  </ng-template>\r\n\r\n  <mat-step #step1 label='Create Your Account' [editable]='editable' [optional]=\"true\">\r\n    <app-registrationpage #registration [stepper]='stepper'></app-registrationpage>\r\n  </mat-step>\r\n  <mat-step label=\"Where You've Been\" [optional]=\"true\">\r\n    <br>\r\n    <mat-label ><h2>Tell Us About The Places You Enjoyed Most</h2></mat-label>\r\n    <app-country-selector #selector1 [progressUpdate]='stepper.selectedIndex' [target]='1'></app-country-selector>\r\n    <div>\r\n      <button mat-stroked-button matStepperNext color='primary'>Next</button>\r\n    </div>\r\n  </mat-step>\r\n  <mat-step label='Where Do You Want To Go' [optional]=\"true\">\r\n    <br>\r\n    <mat-label ><h2>Tell Us About Places You Would Like to Discover</h2></mat-label>\r\n    <app-country-selector #selector2 [progressUpdate]='stepper.selectedIndex' [target]='2'></app-country-selector>\r\n    <div>\r\n      <button mat-button matStepperPrevious>Back</button>\r\n      <button mat-raised-button color='primary' (click)='savePreferences()'>Save</button>\r\n      <button mat-button *ngIf='isSaving'><mat-spinner diameter='32'></mat-spinner></button>\r\n      <button mat-button *ngIf='isDone' class=\"text-success\">Preferences Saved!</button>\r\n    </div>\r\n  </mat-step>\r\n</mat-horizontal-stepper>","import { HttpService } from './../../services/http.service'\r\nimport { Component, OnInit, OnDestroy } from '@angular/core'\r\nimport { Router } from '@angular/router'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { tab } from '../../models/tab.model'\r\nimport { Subscription } from 'rxjs'\r\nimport { userModel } from 'src/app/models/user.model'\r\n\r\n\r\n@Component({\r\n  selector: 'app-userprofile',\r\n  templateUrl: './userprofile.component.html',\r\n  styleUrls: ['./userprofile.component.scss']\r\n})\r\nexport class UserprofileComponent implements OnInit, OnDestroy {\r\n  url: string = null\r\n  private openTabSub: Subscription\r\n  content: userModel = null\r\n  openTab: tab\r\n  username: string\r\n  selfUsername: string\r\n  windowHeight: number = window.innerHeight\r\n\r\n\r\n  constructor(\r\n    private SearchService: SearchService,\r\n    private router: Router,\r\n    private HttpService: HttpService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.openTabSub = this.SearchService.searchTab.subscribe(x => {\r\n      this.openTab = x\r\n    })\r\n    this.url = this.router.url.replace('/search/user/', '')\r\n    this.searchUser(this.url).then(result => this.content = result.users[0])\r\n    this.username = this.router.url.substr(13)\r\n    this.selfUsername = localStorage.getItem('username')\r\n  }\r\n\r\n  goBack(){\r\n    this.router.navigate(['search', this.openTab.query])\r\n  }\r\n\r\n  searchUser(username: string){\r\n    return new Promise<any>((resolve) => {\r\n      this.SearchService.userSearch(username).then(result => {\r\n      console.log(result)\r\n      resolve(result)\r\n      })\r\n    }\r\n  ) }\r\n\r\n  ngOnDestroy(){\r\n    this.openTabSub.unsubscribe()\r\n  }\r\n\r\n  // follow button\r\n  onFollow() {\r\n    // update database\r\n    this.HttpService.post('/user/follow', {\r\n      username: localStorage.getItem('username'),\r\n      followed: this.username\r\n    }).then((res) => {\r\n      // add the follower in current content\r\n      this.content.followers.push(this.selfUsername)\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  // unfollow button\r\n  onUnfollow() {\r\n    // update database\r\n    this.HttpService.post('/user/unfollow', {\r\n      username: localStorage.getItem('username'),\r\n      unfollowed: this.username\r\n    }).then((res) => {\r\n      // remove the follower from current content\r\n      this.content.followers.splice(this.content.followers.indexOf(this.selfUsername), 1)\r\n    }).catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n","<mat-card class=\"container\"  *ngIf=\"content\">\r\n  <mat-card-title>\r\n    <div class=\"row\">\r\n      <button mat-button (click)='goBack()' *ngIf=\"this.openTab\" class=\"col-auto\" matTooltip=\"back\">\r\n        <mat-icon class=\"\">\r\n          keyboard_backspace\r\n        </mat-icon>\r\n      </button>\r\n      <!-- option to follow -->\r\n      <div *ngIf=\"!this.content.followers.includes(this.selfUsername)\">\r\n        <button mat-raised-button (click)=\"onFollow()\">\r\n          Follow\r\n        </button>\r\n      </div>\r\n      <!-- already following -->\r\n      <div *ngIf=\"this.content.followers.includes(this.selfUsername)\">\r\n        <button mat-raised-button (click)=\"onUnfollow()\">\r\n          Unfollow\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  <!-- User profile -->\r\n  <!-- view username -->\r\n  <div>{{content|null:['username']}}</div>\r\n  <!-- view profile pic -->\r\n  <a href=\"{{content|null:['profilepicture']}}\" class=\"img\"></a>\r\n  <!-- view friends -->\r\n  </mat-card-title>\r\n\r\n  <mat-card-content>\r\n    <!-- view photos -->\r\n    <!-- view posts/blogs,albums -->\r\n    <!-- view trips -->\r\n    <div>\r\n      <div *ngFor=\"let item of content|null:['trips']\">\r\n        {{item}}\r\n      </div>\r\n    </div>\r\n    <!-- view history -->\r\n    <div>\r\n      <p>history: </p>\r\n      <p *ngFor=\"let item of content.history\">{{ (item|null:['continent']) + (item|null:['places'])  }}</p>\r\n    </div>\r\n    <!-- view wishlist -->\r\n    <div>\r\n      <p>wishlist: </p>\r\n      <p *ngFor=\"let item of content.wishlist\">{{  item|null:['places']  }}</p>\r\n    </div>\r\n  </mat-card-content>\r\n</mat-card>\r\n","import { MatListOption } from '@angular/material/list'\r\nimport { AddToTripPopoverComponent } from './../add-to-trip-popover/add-to-trip-popover.component'\r\nimport { CustomCoordinates } from 'src/app/models/coordinates'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\nimport { tripModel } from './../../../../models/trip.model'\r\nimport { Subscription } from 'rxjs'\r\nimport { TripService } from './../../../../services/trip.service'\r\nimport { Component, OnInit, Input, OnDestroy, ViewChild } from '@angular/core'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { Router } from '@angular/router'\r\n\r\n@Component({\r\n  selector: 'app-venueButton',\r\n  templateUrl: './venueButton.component.html',\r\n  styleUrls: ['./venueButton.component.scss']\r\n})\r\nexport class VenueButtonComponent implements OnInit, OnDestroy {\r\n  pathID: string\r\n  searchResult: any\r\n  @Input() select: any\r\n  @Input() result: any\r\n  @ViewChild(AddToTripPopoverComponent) AddToTripPopoverComponent: AddToTripPopoverComponent\r\n\r\n  // keeps track of user trips\r\n  trips_sub: Subscription\r\n  trips: tripModel[] = null\r\n\r\n  isLoading = false\r\n  isSuccess = false\r\n  isErr = false\r\n\r\n  constructor(\r\n    private SearchService: SearchService,\r\n    private TripService: TripService,\r\n    private router: Router,\r\n    private MapService: MapService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.searchResult = this.result\r\n    this.pathID = '/search/venue/' + this.result.venue.id\r\n\r\n    this.trips_sub = this.TripService.trips.subscribe((triparr: tripModel[]) => {\r\n      if (triparr) {\r\n        this.trips = triparr\r\n      }\r\n    })\r\n  }\r\n\r\n  navigate(){\r\n    this.router.navigate([this.pathID])\r\n  }\r\n\r\n  /** add venue to specific trips */\r\n  addToTrip(event: MatListOption[]) {\r\n    this.isLoading = true\r\n    this.SearchService.formatDetails(this.result.venue.id)\r\n    .then(result => {\r\n      console.log(result)\r\n      if (event.length && this.trips) {\r\n        event.map((option: MatListOption) => {\r\n          this.trips[option.value.trip].schedule[option.value.day].venues.push({\r\n            name: result.response.venue.name ? result.response.venue.name : null,\r\n            venueAddress: result.response.venue.location.formattedAddress ? result.response.venue.location.formattedAddress.join(' ') : null,\r\n            venueCoord: result.response.venue.location.lng ? {lng: result.response.venue.location.lng, lat: result.response.venue.location.lat} : null,\r\n            venueCity: result.response.venue.location.city ? result.response.venue.location.city : null,\r\n            url: result.response.venue.canonicalUrl ? result.response.venue.canonicalUrl : null,\r\n            category: result.response.venue.categories[0] ? { name: result.response.venue.categories[0].name, url: result.response.venue.categories[0].icon.prefix + '32' + result.response.venue.categories[0].icon.suffix } : null\r\n          })\r\n        })\r\n\r\n        this.TripService.modifyBackend(this.trips)\r\n        .then((val) => {\r\n          this.isSuccess = true\r\n        })\r\n        .catch(err => {\r\n          this.isErr = true\r\n        })\r\n      }\r\n    })\r\n    .catch(() => {\r\n      this.isErr = true\r\n      setTimeout(() => {\r\n        this.isErr = false\r\n      }, 800)\r\n    })\r\n    .finally(() => {\r\n      this.isLoading = false\r\n    })\r\n  }\r\n\r\n  /** show venue location on map */\r\n  showLocation() {\r\n    this.MapService.venueOnDestroy()\r\n    this.MapService.addMarker(new CustomCoordinates(this.result.venue.location.lng, this.result.venue.location.lat))\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.MapService.venueOnDestroy()\r\n    this.trips_sub.unsubscribe()\r\n    this.MapService.venueOnDestroy()\r\n  }\r\n}\r\n","<mat-card *ngIf=\"searchResult.venue\">\r\n  <mat-card-header (click)='navigate()' >\r\n    <mat-card-title>{{searchResult|null:['venue','name']}}</mat-card-title>\r\n    <mat-card-subtitle>\r\n      <p *ngFor=\"let item of (searchResult|null: ['venue','categories'])\" class=\"inline\">{{item.name}}</p>\r\n    </mat-card-subtitle>\r\n  </mat-card-header>\r\n\r\n  <mat-card-content class=\"container-fluid justify-content-end\">\r\n    <p class=\"description text-right d-flex flex-row-reverse\"  (click)='navigate()'>\r\n      {{searchResult|null:['venue','location','address']}}\r\n    </p>\r\n    <hr>\r\n    <!-- quick actions -->\r\n    <span class=\"row justify-content-end\">\r\n      <!-- show on map -->\r\n      <button mat-button class=\"col-auto mr-auto\" (click)='showLocation()'>\r\n        <mat-icon mat-icon-button matTooltip=\"show on map\" matTooltipPosition='above' color='primary'>map</mat-icon>\r\n      </button>\r\n      <!-- add to trip -->\r\n      <button mat-button class=\"col-auto mr-auto\">\r\n        <mat-icon mat-icon-button *ngIf='!isErr && !isLoading && !isSuccess' matTooltipPosition='above' [ngbPopover]=\"popContent\" matTooltip=\"add to trip...\" [autoClose]=\"'outside'\">playlist_add</mat-icon>\r\n        <mat-spinner diameter='20' *ngIf='isLoading'></mat-spinner>\r\n        <mat-icon mat-icon-button class=\"text-success\" *ngIf='isSuccess && !isLoading'>check</mat-icon>\r\n        <mat-icon mat-icon-button class=\"text-danger\" *ngIf='isErr && !isLoading' matTooltip='an error occured'>error</mat-icon>\r\n      </button>\r\n    </span>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- add to trip -->\r\n<ng-template #popContent> \r\n  <app-add-to-trip-popover (onSubmitEvent)='addToTrip($event)'></app-add-to-trip-popover>\r\n</ng-template>\r\n","import { Observable } from 'rxjs'\r\nimport { environment } from 'src/environments/environment'\r\nimport { Injectable } from '@angular/core'\r\nimport { HttpClient, HttpResponse } from '@angular/common/http'\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class FoursquareService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  /** takes lat,lng */\r\n  searchVenues(query: string, latLng: string, near?: string) {\r\n    return this.http\r\n      .get<{[key: string]: any}>(\r\n        environment.foursquare.venuesExplore,\r\n        {\r\n          headers: {\r\n          },\r\n          params: {\r\n            client_id: environment.foursquare.clientId,\r\n            client_secret: environment.foursquare.clientSecret,\r\n            v: this.getCurrentDate(),\r\n            ll: latLng,\r\n            query\r\n          }\r\n    })\r\n  }\r\n\r\n  getDetails(query: string) {\r\n    return this.http\r\n      .get<{[key: string]: any}>(\r\n        environment.foursquare.venueDetails + '/' + query,\r\n        {\r\n          headers: {\r\n          },\r\n          params: {\r\n            client_id: environment.foursquare.clientId,\r\n            client_secret: environment.foursquare.clientSecret,\r\n            v: this.getCurrentDate(),\r\n          }\r\n    })\r\n  }\r\n\r\n  userAuth() {\r\n    const url = environment.foursquare.userAuth +\r\n    '?client_id=' + environment.foursquare.clientId +\r\n    '&response_type=' + 'code' +\r\n    '&redirect_uri=' + 'http://localhost:4200/'\r\n    console.log(url)\r\n    window.location.replace(url)\r\n  }\r\n\r\n  updateCategories(): Observable<{[key: string]: any}> {\r\n    return this.http\r\n    .get<{[key: string]: any}>(\r\n      environment.foursquare.getCategories + '/',\r\n      {\r\n        headers: {\r\n        },\r\n        params: {\r\n          client_id: environment.foursquare.clientId,\r\n          client_secret: environment.foursquare.clientSecret,\r\n          v: this.getCurrentDate(),\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  getCurrentDate(): string {\r\n    const dt = new Date()\r\n    let month: string\r\n    let day: string\r\n    if (dt.getMonth.toString().length != 2){\r\n      month = '' + 0 + dt.getMonth()\r\n    }\r\n    else{\r\n      month = dt.getMonth().toString()\r\n    }\r\n    if (dt.getDay.toString().length != 2){\r\n      day = '' + 0 + dt.getDay()\r\n    }\r\n    else{\r\n      day = dt.getDay().toString()\r\n    }\r\n    return (dt.getFullYear().toString() + month + day)\r\n  }\r\n}\r\n","import { environment } from 'src/environments/environment'\r\nimport { Injectable } from '@angular/core'\r\nimport * as io from 'socket.io-client/dist/socket.io'\r\nimport { Observable, BehaviorSubject } from 'rxjs'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class SocketService {\r\n  private socket: any\r\n  room: any\r\n  readonly uri: string = environment.travelnetURL\r\n\r\n  constructor() {\r\n    this.socket = io(this.uri)\r\n  }\r\n\r\n  listen(eventName: string) {\r\n    return new Observable((sub) => {\r\n      this.socket.on(eventName, (data) => {\r\n        sub.next(data)\r\n      })\r\n    })\r\n  }\r\n\r\n  emitO(eventName: string, data: any): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      if (!this.socket) {\r\n        reject()\r\n      } else {\r\n        this.socket.emit(eventName, data, (ack) => {\r\n          resolve(ack)\r\n      })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  emit(eventName: string, data: any, ack?: (res?: any) => any) {\r\n    this.socket.emit(eventName, data, ack)\r\n  }\r\n\r\n  once(eventName: string) {\r\n    return new Observable((sub) => {\r\n      this.socket.once(eventName, (data) => {\r\n        sub.next(data)\r\n      })\r\n    })\r\n  }\r\n\r\n  remove(eventName: string) {\r\n    this.socket.removeListener(eventName)\r\n  }\r\n\r\n  // disconnects and reconnects to backend\r\n  close() {\r\n    this.socket.close()\r\n  }\r\n\r\n  // permanent disconnection from backend\r\n  disconnect() {\r\n    this.socket.disconnect()\r\n  }\r\n\r\n  // manually reconnect to backend\r\n  open() {\r\n    this.socket.open()\r\n  }\r\n}\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Pipe, PipeTransform } from '@angular/core'\r\n\r\n@Pipe({\r\n  name: 'null'\r\n})\r\nexport class NullPipe implements PipeTransform {\r\n\r\n  transform(value: any, parent: any= false, returnNull: boolean = false ): any {\r\n    if (!parent.length){\r\n      return value\r\n    }\r\n    else if (!parent){\r\n      if (returnNull){\r\n        return\r\n      }\r\n      else{\r\n        return 'no results found'\r\n      }\r\n\r\n    }\r\n    else{\r\n      if (value[parent[0]]){\r\n        return this.transform(value[parent.shift()], parent)\r\n      }\r\n      else{\r\n        if (returnNull){\r\n          return\r\n        }\r\n        else{\r\n          return 'no results found'\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Subscription } from 'rxjs'\r\nimport { SocketService } from 'src/app/services/chatsystem/socket.service'\r\nimport { SessionService } from './services/session.service'\r\nimport { Component, DoCheck, OnInit, OnDestroy } from '@angular/core'\r\nimport { FriendlistService } from './services/chatsystem/friendlist.service'\r\nimport { MapService } from './services/map/map.service'\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements DoCheck, OnInit, OnDestroy {\r\n\r\n  title = 'frontend'\r\n  windowHeight: number\r\n  user = sessionStorage.getItem('username')\r\n  openChatWidgets: any\r\n  private openChatWidgetsSub: Subscription\r\n  sessionState: boolean\r\n  private sessionStateSub: Subscription\r\n\r\n  constructor(\r\n    private FriendlistService: FriendlistService,\r\n    private SessionService: SessionService,\r\n    private SocketService: SocketService,\r\n    private MapService: MapService){\r\n\r\n    // check if logged in from other tab (if LocalStorage exist)\r\n    localStorage.getItem('username') ?\r\n    this.SocketService.emit('updateLogin', {username: localStorage.getItem('username')}, (data) => {\r\n      if (data.res){\r\n        sessionStorage.setItem('username', data.res)\r\n        SessionService.session()\r\n      } else if (data.err){\r\n        console.log(data.err)\r\n        localStorage.clear()\r\n        sessionStorage.clear()\r\n        SessionService.session()\r\n      }\r\n    })\r\n    : {}\r\n\r\n    // calling observables\r\n    this.openChatWidgetsSub = this.FriendlistService.openWidgets.subscribe(x => this.openChatWidgets = x)\r\n    this.sessionStateSub = this.SessionService.sessionState.subscribe(x => {\r\n      this.sessionState = x\r\n      if (this.sessionState) {\r\n        // this.FriendlistService.getNotifications()\r\n      }\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.FriendlistService.getNotifications()\r\n  }\r\n\r\n  ngDoCheck() {\r\n    // console.log(this.sessionState)\r\n  }\r\n\r\n  resizeWindow(){\r\n    this.windowHeight = window.innerHeight\r\n    this.FriendlistService.resizeWindow(window.innerWidth)\r\n    this.MapService.getFakeCenter()\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.openChatWidgetsSub.unsubscribe()\r\n    this.sessionStateSub.unsubscribe()\r\n  }\r\n}\r\n","<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n\r\n  <title></title>\r\n\r\n  <!-- popperjs import -->\r\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\"></script>\r\n\r\n  <!-- socketio import -->\r\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js\" alt='/socket.io/socket.io.js' defer></script>\r\n\r\n  <!-- font import -->\r\n  <style>\r\n  @import url('https://fonts.googleapis.com/css2?family=Baloo+Bhaina+2&display=swap');\r\n  </style>\r\n\r\n  <!-- mapbox css import -->\r\n  <link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet'/>\r\n\r\n</head>\r\n\r\n<body (window:resize)='resizeWindow()' [attr.height]='windowHeight'>\r\n  \r\n  <app-map></app-map>\r\n \r\n  <router-outlet></router-outlet>\r\n  \r\n  <div>\r\n    <app-sidebar></app-sidebar>\r\n  </div>\r\n  <div style=\"z-index: 2; position: absolute; top: 1%; right: 1%;\">\r\n    <header-navbar></header-navbar>\r\n  </div>\r\n  <div id=\"chatsystem\">\r\n    <app-chatsystem></app-chatsystem>\r\n  </div>\r\n</body>\r\n</html>","import { Injectable } from '@angular/core'\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { Subject } from 'rxjs'\r\nimport { map } from 'rxjs/operators'\r\nimport { Router } from '@angular/router'\r\n\r\nimport { Post } from '../models/post.model'\r\nimport { Comment } from '../models/comment.model'\r\nimport { AddPostService } from './add-post.service'\r\nimport { environment } from 'src/environments/environment'\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommentsService {\r\n  url = environment.travelnet.travelnetCommentURL\r\n  private posts: Post[] = []\r\n  private postsUpdated = new Subject<Post[]>()\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private PostService: AddPostService) {}\r\n\r\n  addComment(newComment, postId: string){\r\n    this.http\r\n    .post<{ message: string; comment: Comment }>(\r\n      this.url,\r\n      {commentData: newComment, postId}, {\r\n        headers: {}\r\n      }\r\n    ).subscribe(responseData => {\r\n      const comment: Comment = {\r\n        _id: responseData.comment._id,\r\n        date: responseData.comment.date,\r\n        author: responseData.comment.author,\r\n        likes: responseData.comment.likes,\r\n        content: newComment.content,\r\n        replies: responseData.comment.replies,\r\n        edited: responseData.comment.edited,\r\n      }\r\n      console.log(comment)\r\n      // need to update post\r\n      const postIndex = this.PostService.posts.findIndex(p => p._id === postId)\r\n      this.PostService.posts[postIndex].comments.push(comment)\r\n      this.PostService.updatePosts(this.PostService.posts)\r\n  })\r\n}\r\n  /**get all comments associated to a post*/\r\n  getComments() {\r\n    this.http\r\n      .get<{ message: string; comments: any }>(this.url)\r\n      .pipe(\r\n        map(commentData => {\r\n          return commentData.comments.map(comment => {\r\n            return {\r\n              _id: comment._id,\r\n              date: comment.date,\r\n              author: comment.author,\r\n              content: comment.content,\r\n              likes: comment.likes,\r\n              replies: comment.replies,\r\n              edited: comment.edited\r\n            }\r\n          })\r\n        })\r\n      )\r\n      .subscribe(transformedComments => {\r\n        // this.posts = transformedPosts;\r\n        // this.postsUpdated.next([...this.posts])/;\r\n      })\r\n  }\r\n  // doesnt even exist lul\r\n  /**get specific comment given its id */\r\n  getComment(commentId: string) {\r\n    return this.http.get<{\r\n      _id: string;\r\n      date: string;\r\n      author: string;\r\n      content: string;\r\n      likes: string[];\r\n      replies: Comment[];\r\n      edited: string[]\r\n    }>(\r\n      this.url + commentId\r\n    )\r\n  }\r\n  /**reply to head comment */\r\n  reply(replyContent: {postId: string, commentId: string, reply: any}){\r\n    const postIndex = this.PostService.posts.findIndex(p => p._id === replyContent.postId)\r\n    const commentIndex = this.PostService.posts[postIndex].comments.findIndex(c => c._id === replyContent.commentId)\r\n\r\n    this.http\r\n    .put<{ message: string; reply: Comment }>(\r\n      this.url + replyContent.commentId,\r\n      {commentData: replyContent.reply, postId: replyContent.postId})\r\n    .subscribe(responseData => {\r\n      this.PostService.posts[postIndex].comments[commentIndex].replies.push(responseData.reply)\r\n      this.PostService.updatePosts(this.PostService.posts)\r\n    })\r\n  }\r\n  /**edit  tree comment */\r\n  editComment(editContent: {postId: string, reply: any, comment: any}){\r\n    console.log(editContent)\r\n    const postIndex = this.PostService.posts.findIndex(p => p._id === editContent.postId)\r\n    const commentIndex = this.PostService.posts[postIndex].comments.findIndex(c => c._id === editContent.comment._id)\r\n    if (editContent.reply){\r\n      const replyIndex = this.PostService.posts[postIndex].comments[commentIndex].replies.findIndex(r => r._id === editContent.reply._id)\r\n    }\r\n    this.http\r\n    .put<{ message: string; comment: Comment }>(\r\n      this.url + 'edit/' + editContent.comment._id,\r\n    {postId: editContent.postId, replyId: editContent.reply, comment: editContent.comment})\r\n      .subscribe(response => {\r\n        (this.PostService.posts[postIndex]).comments[commentIndex] = response.comment\r\n        this.PostService.updatePost(this.PostService.posts)\r\n      })\r\n\r\n\r\n  }\r\n  /**like comment */\r\n  likeComment(likeContent: {postId: string, commentId: string, username: string, replyId: string}){\r\n    const postIndex = this.PostService.posts.findIndex(p => p._id === likeContent.postId)\r\n    const commentIndex = this.PostService.posts[postIndex].comments.findIndex(c => c._id === likeContent.commentId)\r\n    let replyIndex;\r\n    if (likeContent.replyId){\r\n      const replyIndex = this.PostService.posts[postIndex].comments[commentIndex].replies.findIndex(r => r._id === likeContent.replyId)\r\n    }\r\n    this.http\r\n    .put<{ message: string; likes: string[] }>(\r\n      this.url + 'like/' + likeContent.commentId,\r\n    {postId: likeContent.postId, username: likeContent.username, replyId: likeContent.replyId})\r\n      .subscribe(response => {\r\n        if (likeContent.replyId){\r\n          (this.PostService.posts[postIndex]).comments[commentIndex].replies[replyIndex].likes = response.likes\r\n        }\r\n        else{\r\n          (this.PostService.posts[postIndex]).comments[commentIndex].likes = response.likes\r\n        }\r\n        this.PostService.updatePost(this.PostService.posts)\r\n      })\r\n  }\r\n  /**delete existing comment */\r\n  deleteComment(deleteContent: {postId: string, commentId: string, replyId: string}){\r\n    const postIndex = this.PostService.posts.findIndex(p => p._id === deleteContent.postId)\r\n    const commentIndex = this.PostService.posts[postIndex].comments.findIndex(c => c._id === deleteContent.commentId);\r\n    let replyIndex;\r\n    if (deleteContent.replyId){\r\n      const replyIndex = this.PostService.posts[postIndex].comments[commentIndex].replies.findIndex(r => r._id === deleteContent.replyId)\r\n    }\r\n    this.http\r\n    .put<{}>(\r\n      this.url + 'delete/' + deleteContent.commentId,\r\n      {postId: deleteContent.postId, replyId: deleteContent.replyId})\r\n      .subscribe(() => {\r\n        const newPosts = this.PostService.posts\r\n        if (deleteContent.replyId){\r\n          newPosts[postIndex].comments[commentIndex].replies.splice(replyIndex)\r\n        }\r\n        else{\r\n          newPosts[postIndex].comments.splice(commentIndex)\r\n        }\r\n        this.postsUpdated.next(newPosts)\r\n      })\r\n  }\r\n}\r\n","import { interval as observableInterval } from 'rxjs'\r\nimport { takeWhile, scan, tap } from 'rxjs/operators'\r\nimport { Component, OnInit, Input } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'app-scroll-to-top',\r\n  templateUrl: './scroll-to-top.component.html',\r\n  styleUrls: ['./scroll-to-top.component.scss']\r\n})\r\nexport class ScrollToTopComponent implements OnInit {\r\n  @Input() el\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  scrollToTop() {\r\n    const duration = 500\r\n    const interval = 40\r\n    const move = this.el.scrollTop * interval / duration\r\n    observableInterval(interval)\r\n    .pipe(\r\n      scan((acc, curr) => acc - move, this.el.scrollTop),\r\n      tap(position => this.el.scrollTop = position),\r\n      takeWhile(val => val > 0)\r\n    )\r\n    .subscribe()\r\n  }\r\n\r\n}\r\n","<button mat-raised-button (click)='scrollToTop()' color='primary'>    \r\n    <mat-icon>keyboard_arrow_up</mat-icon>\r\n</button>","import { selectedVenueModel } from './selectedVenue.model'\r\nimport { venueModel } from 'src/app/models/venue.model'\r\nimport * as moment from 'moment'\r\nimport { LngLatLike } from 'mapbox-gl'\r\n\r\nexport class tripModel {\r\n    _id: string\r\n    tripName: String\r\n    dateRange: {\r\n        [key: string]: any\r\n        start: Date\r\n        end: Date\r\n        length: Number\r\n    }\r\n    schedule?: Array<{\r\n        day?: Date,\r\n        venues: Array<{\r\n            hour?: any\r\n            name: String\r\n            venueCity?: String\r\n            venueAddress?: String\r\n            venueCoord?: LngLatLike\r\n            price?: Number\r\n            url?: URL | string\r\n            category?: {\r\n                name: string\r\n                url: URL | string\r\n            }\r\n        } | selectedVenueModel>\r\n    }>\r\n    isPrivate: boolean\r\n\r\n    constructor(start: Date, end: Date, name: string, isPrivate?: boolean) {\r\n        const final = moment(end)\r\n\r\n        this.tripName = name\r\n        this.dateRange = {\r\n            start,\r\n            end,\r\n            length: final.diff(start, 'days') + 1\r\n        }\r\n        this.schedule = []\r\n        for (let x = 0; x < this.dateRange.length; x++) {\r\n            this.schedule.push({\r\n                day: moment(start).add(x, 'days').toDate(),\r\n                venues: []\r\n            })\r\n        }\r\n        this.isPrivate = isPrivate ? isPrivate : false\r\n    }\r\n}\r\n","import { SessionService } from 'src/app/services/session.service'\r\nimport { userModel } from './../models/user.model'\r\nimport { tripModel } from '../models/trip.model'\r\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs'\r\nimport { HttpService } from './http.service'\r\nimport { Injectable, OnDestroy } from '@angular/core'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TripService implements OnDestroy {\r\n  private sessionState_sub: Subscription\r\n  sessionState: boolean = this.SessionService.session()\r\n\r\n  // query settings from mytrip add venue\r\n  searchedVenue: string = null\r\n\r\n  private _trips: BehaviorSubject<tripModel[]> = new BehaviorSubject(null)\r\n  public trips: Observable<tripModel[]> = this._trips.asObservable()\r\n\r\n  constructor(private HttpService: HttpService,\r\n              private SessionService: SessionService) {\r\n    // check if user is logged in and retrieve trip data\r\n    this.sessionState_sub = this.SessionService.sessionState.subscribe((state: boolean) => {\r\n      if (state) {\r\n        this.sessionState = state\r\n        this.HttpService.get('/user', {})\r\n        .then((response: {\r\n          [key: string]: any\r\n          user: userModel[]\r\n        }) => {\r\n          if (response.user) {\r\n            this._trips.next(response.user[0].trips)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /** when user searches/finished searching a venue from mytrip -> add venue */\r\n  changeQuery(query: string | null) {\r\n    this.searchedVenue = query\r\n  }\r\n\r\n  /** modifies trips of user */\r\n  modifyBackend(triparr: tripModel[]): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.HttpService.patch('/user/edit', {\r\n        username: localStorage.getItem('username'),\r\n        proprety: 'trips',\r\n        newProprety: triparr\r\n      })\r\n      .then((response: {[key: string]: any}) => {\r\n        this._trips.next(triparr)\r\n        resolve(response)\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  /**localy update trips of user (when modification is already done)*/\r\n  updateLocal(triparr: tripModel[]) {\r\n    this._trips.next(triparr)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sessionState_sub.unsubscribe()\r\n  }\r\n}\r\n","import { HttpClientModule } from '@angular/common/http'\r\nimport { BrowserModule } from '@angular/platform-browser'\r\nimport { NgModule } from '@angular/core'\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\r\nimport { AppRoutingModule } from './app-routing.module'\r\nimport { AppComponent } from './app.component'\r\nimport { RegistrationComponent } from './components/registration-process/registrationpage/registrationpage.component'\r\nimport { LoginComponent } from './components/loginpage/loginpage.component'\r\nimport { LogoutComponent } from './components/logout/logout.component'\r\nimport { ChatwidgetComponent } from './components/chatsystem/chatwidget/chatwidget.component'\r\nimport { FriendlistComponent } from './components/chatsystem/friendlist/friendlist.component'\r\nimport { HeaderComponent } from './components/header/header.component'\r\nimport { FriendComponent } from './components/chatsystem/friendlist/friend/friend.component'\r\nimport { MapComponent } from './components/map/map.component'\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap'\r\nimport { RxReactiveFormsModule } from '@rxweb/reactive-form-validators'\r\nimport { loginComponent } from './components/loginpage/loginpage.component'\r\nimport { ChatsystemComponent } from './components/chatsystem/chatsystem.component'\r\nimport { SidebarComponent } from './components/sidebar/sidebar.component'\r\nimport { ProfileComponent } from './components/profile/profile.component'\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\nimport { MatFormFieldModule } from '@angular/material/form-field'\r\nimport { MatInputModule } from '@angular/material/input'\r\nimport { MatIconModule } from '@angular/material/icon'\r\nimport { MatCheckboxModule } from '@angular/material/checkbox'\r\nimport { MatButtonModule } from '@angular/material/button'\r\nimport { PropretyComponent } from './components/profile/proprety/proprety.component'\r\nimport { MatRadioModule } from '@angular/material/radio'\r\nimport { ResizableModule  } from 'angular-resizable-element'\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete'\r\nimport { MatBadgeModule } from '@angular/material/badge'\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet'\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle'\r\nimport { MatCardModule } from '@angular/material/card'\r\nimport { MatChipsModule } from '@angular/material/chips'\r\nimport { MatStepperModule } from '@angular/material/stepper'\r\nimport { MatDatepickerModule } from '@angular/material/datepicker'\r\nimport { MatDialogModule } from '@angular/material/dialog'\r\nimport { MatDividerModule } from '@angular/material/divider'\r\nimport { MatExpansionModule } from '@angular/material/expansion'\r\nimport { MatGridListModule } from '@angular/material/grid-list'\r\nimport { MatListModule } from '@angular/material/list'\r\nimport { MatMenuModule } from '@angular/material/menu'\r\nimport { MatNativeDateModule, MatRippleModule } from '@angular/material/core'\r\nimport { MatPaginatorModule } from '@angular/material/paginator'\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar'\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner'\r\nimport { MatSelectModule } from '@angular/material/select'\r\nimport { MatSidenavModule } from '@angular/material/sidenav'\r\nimport { MatSliderModule } from '@angular/material/slider'\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle'\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar'\r\nimport { MatSortModule, MatSort } from '@angular/material/sort'\r\nimport { MatTableModule } from '@angular/material/table'\r\nimport { MatTabsModule } from '@angular/material/tabs'\r\nimport { MatToolbarModule } from '@angular/material/toolbar'\r\nimport { MatTooltipModule } from '@angular/material/tooltip'\r\nimport { MatTreeModule } from '@angular/material/tree'\r\nimport { RegistrationProcessComponent } from './components/registration-process/registration-process.component'\r\nimport { SearchresultsComponent } from './components/tabs/searchresults/searchresults.component'\r\nimport { HomeComponent } from './components/tabs/home/home.component'\r\nimport { MyaccountComponent } from './components/myaccount/myaccount.component'\r\nimport { MytripComponent } from './components/tabs/mytrip/mytrip.component'\r\nimport { CountrySelectorComponent } from './components/registration-process/country-selector/country-selector.component'\r\nimport { CountryList } from 'country-list'\r\nimport { VenueButtonComponent } from './components/tabs/searchresults/VenueButton/VenueButton.component'\r\nimport { TripmodalComponent } from './components/tabs/mytrip/tripmodal/tripmodal.component'\r\nimport { VenueComponent } from './components/venue/venue.component'\r\nimport { SearchBarComponent } from './components/search-bar/search-bar.component'\r\nimport { ListObjectPipe } from './pipes/list-object.pipe'\r\nimport { NullPipe } from './pipes/null.pipe'\r\nimport { UserprofileComponent } from './components/userprofile/userprofile.component'\r\nimport { UserbuttonComponent } from './components/tabs/searchresults/userbutton/userbutton.component'\r\nimport { AddVenuePopoverComponent } from './components/tabs/mytrip/add-venue-popover/add-venue-popover.component'\r\nimport { CitySearchComponent } from './components/city-search/city-search.component'\r\nimport { FilterComponent } from './components/filter/filter.component'\r\nimport { ScrollToTopComponent } from './components/sidebar/scroll-to-top/scroll-to-top.component'\r\nimport { AddPostComponent } from './components/add-post/add-post.component'\r\nimport { DisplayPostsComponent } from './components/display-posts/display-posts.component'\r\nimport { CommentSectionComponent } from './components/comment-section/comment-section.component'\r\nimport { CommentComponent } from './components/comment/comment.component'\r\nimport { AddToTripPopoverComponent } from './components/tabs/searchresults/add-to-trip-popover/add-to-trip-popover.component'\r\nimport { DragDropModule } from '@angular/cdk/drag-drop'\r\nimport { ArrayToPipePipe } from './pipes/array-to-pipe.pipe'\r\nimport { EditCommentComponent } from './components/edit-comment/edit-comment.component'\r\nimport { ShareComponent } from './components/share/share.component'\r\nimport {ClipboardModule} from '@angular/cdk/clipboard'\r\nimport { SearchPostsComponent } from './components/search-posts/search-posts.component'\r\nimport { AddTagComponent } from './components/add-tag/add-tag.component'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    RegistrationComponent,\r\n    LoginComponent,\r\n    LogoutComponent,\r\n    ChatwidgetComponent,\r\n    FriendlistComponent,\r\n    HeaderComponent,\r\n    FriendComponent,\r\n    MapComponent,\r\n    loginComponent,\r\n    ChatsystemComponent,\r\n    SidebarComponent,\r\n    ProfileComponent,\r\n    PropretyComponent,\r\n    RegistrationProcessComponent,\r\n    SearchresultsComponent,\r\n    HomeComponent,\r\n    MyaccountComponent,\r\n    MytripComponent,\r\n    CountrySelectorComponent,\r\n    VenueButtonComponent,\r\n    TripmodalComponent,\r\n    VenueComponent,\r\n    SearchBarComponent,\r\n    ListObjectPipe,\r\n    NullPipe,\r\n    UserprofileComponent,\r\n    UserbuttonComponent,\r\n    AddVenuePopoverComponent,\r\n    CitySearchComponent,\r\n    FilterComponent,\r\n    ScrollToTopComponent,\r\n    AddPostComponent,\r\n    DisplayPostsComponent,\r\n    CommentSectionComponent,\r\n    CommentComponent,\r\n    AddToTripPopoverComponent,\r\n    ArrayToPipePipe,\r\n    EditCommentComponent,\r\n    ShareComponent,\r\n    SearchPostsComponent,\r\n    AddTagComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    RxReactiveFormsModule,\r\n    NgbModule,\r\n    BrowserAnimationsModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    MatCheckboxModule,\r\n    MatButtonModule,\r\n    MatRadioModule,\r\n    ResizableModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    HttpClientModule,\r\n    DragDropModule,\r\n    ClipboardModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { SearchParams } from './../../../models/searchParams'\r\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core'\r\nimport { Subscription } from 'rxjs'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { tab } from 'src/app/models/tab.model'\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\nimport { CustomCoordinates } from 'src/app/models/coordinates'\r\n\r\n@Component({\r\n  selector: 'app-searchresults',\r\n  templateUrl: './searchresults.component.html',\r\n  styleUrls: ['./searchresults.component.scss']\r\n})\r\nexport class SearchresultsComponent implements OnInit, OnDestroy {\r\n  queryParams: SearchParams = {}\r\n  openTab: tab\r\n  filterNumber: number\r\n  loading: boolean = null\r\n  @Input() select: number\r\n  categoriesSet: Set<any> = null\r\n\r\n  private _categoriesSet_sub: Subscription\r\n  private returnTab_sub: Subscription\r\n  private filter_sub: Subscription\r\n\r\n  constructor(\r\n    private map: MapService,\r\n    private SearchService: SearchService,\r\n    private ActivatedRoute: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loading = true\r\n\r\n    // search parameters\r\n    this.ActivatedRoute.queryParams.subscribe((params: SearchParams) => {\r\n      this.queryParams = params\r\n    })\r\n    this.filter_sub = this.SearchService.filterNumber.subscribe((number) => this.filterNumber = number)\r\n\r\n    // response from http queries\r\n    this.returnTab_sub = this.SearchService.searchTab.subscribe((tab: tab) => {\r\n      this.openTab = tab\r\n      this.loading = false\r\n    })\r\n\r\n    this._categoriesSet_sub = this.SearchService.categorySet.subscribe((set: Set<any>) => {\r\n      if (set) {\r\n        this.categoriesSet = set\r\n      }\r\n    })\r\n  }\r\n\r\n  /** check if state of venues|users filter */\r\n  checkFilter(type: number) {\r\n    if (this.filterNumber === 0 || type === this.filterNumber){\r\n      return true\r\n    }\r\n    else{\r\n      return false\r\n    }\r\n  }\r\n\r\n  checkIfChecked(id: string): boolean {\r\n    if (this.categoriesSet.has(id)) {\r\n      return true\r\n    }\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._categoriesSet_sub.unsubscribe()\r\n    this.filter_sub.unsubscribe()\r\n    this.returnTab_sub.unsubscribe()\r\n  }\r\n}\r\n","<div class=\"container-fluid row\" style=\"margin: 0; padding: 0;\">\r\n    <div class=\"col mr-auto\"*ngIf=\"openTab.content\" style=\"margin-left: 0; padding-left: 0;\">\r\n      <br>\r\n      <mat-card *ngIf=\"openTab.content.venues.length === 0 && openTab.content.users.length === 0\">\r\n        <!-- loading animation -->\r\n        <div *ngIf='queryParams.query && loading' class=\"container-fluid row justify-content-center\" style=\"overflow: hidden; padding-top: 1em;\">\r\n          <mat-spinner class=\"col-auto\"></mat-spinner>\r\n        </div>\r\n        <!-- nothing found -->\r\n        <mat-card-header>\r\n          <mat-card-title *ngIf='queryParams.query && !loading'>\r\n            No Matches Found...\r\n          </mat-card-title>\r\n          <!-- no query param -->\r\n          <mat-card-title *ngIf='!queryParams.query && !loading'>\r\n            Search Something!\r\n          </mat-card-title>\r\n        </mat-card-header>\r\n      </mat-card>\r\n      <!-- display venues -->\r\n      <div *ngIf=\"checkFilter(1)\" style=\"min-height: 600px;\">\r\n        <div *ngFor=\"let result of openTab.content.venues\">\r\n          <div *ngIf=\"categoriesSet && checkIfChecked(result.venue.categories[0].id)\">\r\n            <app-venueButton [result]=\"result\"></app-venueButton>\r\n            <br>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- display users -->\r\n      <div *ngIf=\"checkFilter(2)\" style=\"min-height: 600px;\">\r\n        <div *ngFor=\"let result of openTab.content.users\">\r\n          <app-userbutton [result]=\"result\"></app-userbutton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col justify-content-end\" style=\"padding-right: 0; margin-right: 0;\">\r\n      <app-filter></app-filter>\r\n    </div>\r\n</div>\r\n","import { Subscription } from 'rxjs'\r\nimport { Router } from '@angular/router'\r\nimport { SocketService } from 'src/app/services/chatsystem/socket.service'\r\nimport { Component, OnInit, OnDestroy } from '@angular/core'\r\nimport { SessionService } from 'src/app/services/session.service'\r\n\r\n@Component({\r\n  selector: 'app-logout',\r\n  templateUrl: './logout.component.html',\r\n  styleUrls: ['./logout.component.scss']\r\n})\r\nexport class LogoutComponent implements OnInit, OnDestroy {\r\n  sessionState: boolean\r\n  private sessionSate_sub: Subscription\r\n\r\n  constructor(private SessionService: SessionService,\r\n              private SocketService: SocketService,\r\n              private router: Router) {\r\n    this.sessionSate_sub = this.SessionService.sessionState.subscribe((x: boolean) => this.sessionState = x)\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  // logout user\r\n  logout() {\r\n    if (sessionStorage.getItem('username')) {\r\n      this.SocketService.emit('logout', sessionStorage.getItem('username'), (data) => {\r\n        if (data.res) {\r\n          this.SessionService.session()\r\n        }\r\n      })\r\n    }\r\n    localStorage.removeItem('username')\r\n    sessionStorage.clear()\r\n    window.location.reload()\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sessionSate_sub.unsubscribe()\r\n  }\r\n}\r\n","<button mat-flat-button (click)='logout()' *ngIf='sessionState' color='warn' routerLink=\"/\">\r\n    Logout\r\n</button>","export class RoomWidget {\r\n   [prop: string]: any;\r\n   public roomName: string\r\n   public roomId: string\r\n   public unread?: boolean\r\n   public open?: boolean\r\n\r\n   constructor(roomName: string, roomId: string, unread: boolean) {\r\n      this.roomId = roomId\r\n      this.roomName = roomName\r\n   }\r\n}\r\n","import { HttpService } from 'src/app/services/http.service'\r\nimport { tripModel } from '../../../../models/trip.model'\r\nimport { userModel } from './../../../../models/user.model'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { Component, OnInit, Inject } from '@angular/core'\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog'\r\n@Component({\r\n  selector: 'app-tripmodal',\r\n  templateUrl: './tripmodal.component.html',\r\n  styleUrls: ['./tripmodal.component.scss']\r\n})\r\nexport class TripmodalComponent implements OnInit {\r\n\r\n  minDate: Date = new Date()\r\n\r\n  modalForm: FormGroup\r\n  isLoading = false\r\n  nameErr = false\r\n\r\n  trips: tripModel[]\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<TripmodalComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: {\r\n      name: string\r\n      start: any,\r\n      end: any\r\n    },\r\n    private HttpService: HttpService)\r\n  {\r\n    this.modalForm = new FormGroup({\r\n      name: new FormControl(null, [Validators.required, Validators.minLength(1)], this.checkName.bind(this)),\r\n      dateRange: new FormGroup({\r\n        start: new FormControl(null),\r\n        end: new FormControl(null)\r\n      })\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  /** check if name of trip is unique**/\r\n  checkName(control: {[key: string]: any}): Promise<{err: string} | null> {\r\n    return new Promise((resolve, reject) => {\r\n      this.HttpService.get('/user', {})\r\n      .then((response: {\r\n        [key: string]: any\r\n        user: userModel[]\r\n      }) => {\r\n        const trips: tripModel[] = response.user[0].trips ? response.user[0].trips : null\r\n        if (trips) {\r\n          this.trips = trips\r\n          for (let x = 0; x < trips.length; x++) {\r\n            if (trips[x].tripName == control.value) {\r\n              resolve({err: 'name already exists'})\r\n              break\r\n            }\r\n          }\r\n          resolve(null)\r\n        } else {\r\n          resolve(null)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log('err', err)\r\n        reject(err.message)\r\n      })\r\n    })\r\n  }\r\n  /** submit creation of trip */\r\n  onSubmit(data: {\r\n    [key: string]: any\r\n    start: Date\r\n    end: Date}) {\r\n    this.isLoading = true\r\n    const valid = this.checkName({value: data.name})\r\n    if (typeof(valid) == 'string') {\r\n      this.isLoading = false\r\n    } else {\r\n      this.trips.push(\r\n        new tripModel(data.start, data.end, data.name)\r\n      )\r\n      this.HttpService.patch('/user/edit', {\r\n        username: localStorage.getItem('username'),\r\n        proprety: 'trips',\r\n        newProprety: this.trips\r\n      })\r\n      .then((response: any) => {\r\n        if (response.message) {\r\n          this.dialogRef.close(\r\n            new tripModel(data.start, data.end, data.name)\r\n          )\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        this.isLoading = false\r\n      })\r\n    }\r\n  }\r\n\r\n  onCancel() {\r\n    this.dialogRef.close()\r\n  }\r\n}\r\n","<mat-card class=\"container-fluid\">\r\n    <mat-card-title mat-dialog-title> New Trip </mat-card-title>\r\n    <hr>\r\n    <mat-card-content mat-dialog-content class=\"container-fluid\">\r\n        <form [formGroup]='modalForm'>\r\n            <mat-form-field class=\"example-full-width\">\r\n                <mat-label>Trip Name</mat-label>\r\n                <input matInput formControlName='name' placeholder=\"Ex. Simon va a Prague\" [(ngModel)]=\"data.name\">\r\n                <small *ngIf='this.modalForm.get(\"name\").touched && !this.modalForm.get(\"name\").valid' class=\"text-danger\">please create a name</small>\r\n              </mat-form-field>\r\n            <br>\r\n            <mat-form-field >\r\n                <mat-label>Enter a date range</mat-label>\r\n                <mat-date-range-input [rangePicker]=\"picker\" formGroupName='dateRange' [min]='minDate'>\r\n                    <input matStartDate placeholder=\"Start date\" formControlName='start' [(ngModel)]=\"data.start\" >\r\n                    <input matEndDate placeholder=\"End date\" formControlName='end' [(ngModel)]=\"data.end\">\r\n                </mat-date-range-input>\r\n                <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                <mat-date-range-picker #picker></mat-date-range-picker>\r\n            </mat-form-field>\r\n        </form>\r\n\r\n    </mat-card-content>\r\n    <mat-card-actions mat-dialog-actions>\r\n        <button mat-button (click)='onCancel()'>Cancel</button>\r\n        <button mat-button *ngIf='!isLoading' color='primary' (click)='onSubmit(data)'>Save</button>\r\n        <button mat-button *ngIf='isLoading'><mat-spinner [diameter]='50'></mat-spinner></button>\r\n    </mat-card-actions>\r\n</mat-card>\r\n","import { AbstractControl } from '@angular/forms'\r\nimport { Observable, Observer, of } from 'rxjs'\r\n\r\nexport const mimeType = (\r\n  control: AbstractControl\r\n): Promise<{ [key: string]: any }> | Observable<{ [key: string]: any }> => {\r\n  if (typeof(control.value) === 'string') {\r\n    return of(null)\r\n  }\r\n  const file = control.value as File\r\n  const fileReader = new FileReader()\r\n  const frObs = Observable.create(\r\n    (observer: Observer<{ [key: string]: any }>) => {\r\n      fileReader.addEventListener('loadend', () => {\r\n        const arr = new Uint8Array(fileReader.result as ArrayBuffer).subarray(0, 4)\r\n        let header = ''\r\n        let isValid = false\r\n        for (let i = 0; i < arr.length; i++) {\r\n          header += arr[i].toString(16)\r\n        }\r\n        switch (header) {\r\n          case '89504e47':\r\n            isValid = true\r\n            break\r\n          case 'ffd8ffe0':\r\n          case 'ffd8ffe1':\r\n          case 'ffd8ffe2':\r\n          case 'ffd8ffe3':\r\n          case 'ffd8ffe8':\r\n            isValid = true\r\n            break\r\n          default:\r\n            isValid = false // Or you can use the blob.type as fallback\r\n            break\r\n        }\r\n        if (isValid) {\r\n          observer.next(null)\r\n        } else {\r\n          observer.next({ invalidMimeType: true })\r\n        }\r\n        observer.complete()\r\n      })\r\n      fileReader.readAsArrayBuffer(file)\r\n    }\r\n  )\r\n  return frObs\r\n}\r\n","import { CustomCoordinates } from './../app/models/coordinates'\r\nexport const environment = {\r\n\r\n\r\n  production: true,\r\n  language: 'en',\r\n  // travelnetURL: 'https://travelnet.herokuapp.com',\r\n  travelnetURL: 'localhost:3000',\r\n  travelnetCommentURL: \"localhost:3000/api/comments/\",\r\n\r\n  mapbox: {\r\n    token: 'pk.eyJ1IjoidHJhdmVsbmV0IiwiYSI6ImNrOTk3cHkwaDAzaHkzZHEwMm03ZGN0MG8ifQ.j24u0Q5RbYw7PW4tVpGjmQ',\r\n    geocoding: 'https://api.mapbox.com/geocoding/v5/mapbox.places'\r\n  },\r\n\r\n  foursquare: {\r\n    clientId: 'NYZJ324E5GAY2MSQUNYIYLKIDCMX2ETMQREKQXZLW3S5ZYVG',\r\n    clientSecret: 'K51P2Y1T3TMTCU24LOFHDFOAONPGU44ZBNZCGTWCOJESUW4A',\r\n    v: '',\r\n    venuesSearch: 'https://api.foursquare.com/v2/venues/search',\r\n    venuesExplore: 'https://api.foursquare.com/v2/venues/explore',\r\n    venueDetails: 'https://api.foursquare.com/v2/venues',\r\n    userAuth: 'https://foursquare.com/oauth2/authenticate',\r\n    getCategories: 'https://api.foursquare.com/v2/venues/categories',\r\n\r\n  },\r\n\r\n  nominatim: {\r\n    search: 'https://nominatim.openstreetmap.org/search',\r\n    reverse: 'https://nominatim.openstreetmap.org/reverse'\r\n  },\r\n\r\n  openstreetmap: {\r\n    searchNodes: 'https://master.apis.dev.openstreetmap.org/api/0.6/map',\r\n    searchRealNode: ' https://api.openstreetmap.org/api/0.6/map'\r\n  },\r\n\r\n  travelnet: {\r\n    getUserInfo: 'https://travelnet.herokuapp.com/user',\r\n    getProfile: 'https://travelnet.herokuapp.com/profile',\r\n    searchUsers: 'https://travelnet.herokuapp.com/searchusers',\r\n    travelnetCommentURL: 'https://travelnet.herokuapp.com/comments',\r\n    travelnetPostURL: 'https://travelnet.herokuapp.com/posts',\r\n  },\r\n  montrealCoord: new CustomCoordinates(-73.5633265, 45.5009128)\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core'\r\nimport { Comment } from 'src/app/models/comment.model'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { CommentsService } from 'src/app/services/comments.service'\r\nimport { MatDialog } from '@angular/material/dialog'\r\nimport { EditCommentComponent } from '../edit-comment/edit-comment.component'\r\n\r\n\r\n@Component({\r\n  selector: 'app-comment',\r\n  templateUrl: './comment.component.html',\r\n  styleUrls: ['./comment.component.scss']\r\n})\r\nexport class CommentComponent implements OnInit {\r\n  @Input() comment: Comment\r\n  @Input() postId: string\r\n  displayEdits = false\r\n  replyField = true\r\n  showReplies = false\r\n  form: FormGroup\r\n  constructor(\r\n    private commentsService: CommentsService,\r\n    public dialog: MatDialog\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = new FormGroup({\r\n      content: new FormControl(null, { validators: [Validators.required] }),\r\n      })\r\n  }\r\n\r\n  replyBoolean(){\r\n    this.replyField = !this.replyField\r\n  }\r\n\r\n  onAddReply(){ // add comment reply\r\n    if (this.form.invalid) {\r\n      return\r\n    }\r\n    const newReply = {\r\n      date: new Date().toLocaleString(),\r\n      author: sessionStorage.getItem('username'),\r\n      content: this.form.value.content,\r\n    }\r\n    const replyContent = {\r\n      postId: this.postId,\r\n      commentId: this.comment._id,\r\n      reply: newReply\r\n    }\r\n    this.commentsService.reply(replyContent)\r\n    this.form.reset()\r\n  }\r\n\r\n  likeTreeComment(){ //like a root tree\r\n    const likeContent = {\r\n      postId: this.postId,\r\n      commentId: this.comment._id,\r\n      username: sessionStorage.getItem('username'),\r\n      replyId: null\r\n    }\r\n    this.commentsService.likeComment(likeContent)\r\n  }\r\n\r\n  likeLeafComment(replyId){ //like a child comment\r\n    const likeContent = {\r\n      postId: this.postId,\r\n      commentId: this.comment._id,\r\n      username: sessionStorage.getItem('username'),\r\n      replyId\r\n    }\r\n    this.commentsService.likeComment(likeContent)\r\n  }\r\n\r\n  deleteTreeComment(){ //delete a root comment\r\n    const deleteContent = {\r\n      postId: this.postId,\r\n      commentId: this.comment._id,\r\n      replyId: null\r\n    }\r\n    this.commentsService.deleteComment(deleteContent)\r\n  }\r\n\r\n  deleteLeafComment(replyId){// delete a child comment\r\n    const deleteContent = {\r\n      postId: this.postId,\r\n      commentId: this.comment._id,\r\n      replyId\r\n    }\r\n    this.commentsService.deleteComment(deleteContent)\r\n  }\r\n\r\n  editTreeComment(){ //edit a root comment\r\n    const commentInfo = {\r\n      postId: this.postId,\r\n      comment: this.comment,\r\n      reply: null\r\n    }\r\n    const dialogRef = this.dialog.open(EditCommentComponent, {data: {displayEdits: false, commentData: commentInfo}})\r\n    dialogRef.afterClosed().subscribe()\r\n  }\r\n\r\n  editLeafComment(reply){ //edit a root comment\r\n    const commentInfo = {\r\n      postId: this.postId,\r\n      comment: this.comment,\r\n      reply\r\n    }\r\n    const dialogRef = this.dialog.open(EditCommentComponent, {data: {displayEdits: false, commentData: commentInfo}})\r\n    dialogRef.afterClosed().subscribe()\r\n\r\n  }\r\n\r\n  showParentEdits(){ // show previous edit for root comment\r\n    const commentInfo = {\r\n      postId: this.postId,\r\n      comment: this.comment,\r\n      reply: null\r\n    }\r\n    const dialogRef = this.dialog.open(EditCommentComponent, {data: {displayEdits: true, commentData: commentInfo}})\r\n    dialogRef.afterClosed().subscribe()\r\n  }\r\n\r\n  showLeafEdits(reply){  // show previous edit for child comment\r\n    const commentInfo = {\r\n      postId: this.postId,\r\n      comment: reply,\r\n      reply: true\r\n    }\r\n    const dialogRef = this.dialog.open(EditCommentComponent, {data: {displayEdits: true, commentData: commentInfo}})\r\n    dialogRef.afterClosed().subscribe()\r\n  }\r\n\r\n  ownContent(content){ //check if content belongs to user\r\n    if (content.author === sessionStorage.getItem('username')){\r\n      return true\r\n    }\r\n  }\r\n}\r\n","\r\n<mat-card>\r\n  {{comment.author}} : {{comment.content}}\r\n  <div>\r\n    <button mat-button (click)=\"likeTreeComment()\">LIKE</button>\r\n    {{comment.likes.length}}\r\n    <button mat-button (click)=\"replyBoolean()\">REPLY</button>\r\n    <button *ngIf=\"ownContent(comment.author)\" mat-button (click)=\"deleteTreeComment()\">DELETE</button>\r\n    <button *ngIf=\"ownContent(comment.author)\" mat-button (click)=\"editTreeComment()\">EDIT</button>\r\n    <button mat-button *ngIf=\"comment.edited && comment.edited.length > 0\" (click)=\"showParentEdits()\">edited</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"replyField\">\r\n    <mat-card *ngFor=\"let reply of comment.replies\">\r\n      <mat-card-header> {{reply.author}} : {{reply.content }}\r\n        <div>\r\n          <button mat-button (click)=\"likeLeafComment(reply._id)\">LIKE</button>\r\n          {{reply.likes.length}}\r\n          <button mat-button >REPLY</button>\r\n          <button mat-button (click)=\"deleteLeafComment(reply._id)\">DELETE</button>\r\n          <button *ngIf=\"ownContent(reply.author)\" mat-button (click)=\"editLeafComment(reply)\">EDIT</button>\r\n          <button  mat-button *ngIf=\"reply.edited && reply.edited.length > 0 && ownContent(reply.author)\" (click)=\"showLeafEdits(reply)\">edited</button>\r\n        </div>\r\n      </mat-card-header>\r\n   </mat-card>\r\n    <div *ngIf=\"replyField\">\r\n        <form [formGroup]=\"form\" (submit)=\"onAddReply()\">\r\n          <mat-form-field>\r\n            <input matInput type=\"text\" formControlName=\"content\" placeholder=\"say something...\">\r\n          </mat-form-field>\r\n        </form>\r\n      </div>\r\n  </div>\r\n\r\n  </mat-card>\r\n","import { Pipe, PipeTransform } from '@angular/core'\r\n\r\n@Pipe({\r\n  name: 'listObject'\r\n})\r\nexport class ListObjectPipe implements PipeTransform {\r\n\r\n  transform(value: {[key: string]: any}, ...args: unknown[]): unknown {\r\n    return null\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core'\r\nimport { AddPostService } from 'src/app/services/add-post.service'\r\nimport { CommentsService } from 'src/app/services/comments.service'\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { Comment } from 'src/app/models/comment.model'\r\nimport { Post } from 'src/app/models/post.model'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\n\r\n@Component({\r\n  selector: 'app-comment-section',\r\n  templateUrl: './comment-section.component.html',\r\n  styleUrls: ['./comment-section.component.scss']\r\n})\r\nexport class CommentSectionComponent implements OnInit {\r\n  @Input() post: Post\r\n  public comments: Comment[]\r\n  form: FormGroup\r\n\r\n\r\n  constructor(\r\n    private postsService: AddPostService,\r\n    private route: ActivatedRoute,\r\n    private commentsService: CommentsService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = new FormGroup({\r\n      content: new FormControl(null, { validators: [Validators.required] }),\r\n    })\r\n  }\r\n\r\n  onAddComment() {\r\n    if (this.form.invalid) {\r\n      return\r\n    }\r\n    const newComment = {\r\n      date: new Date().toLocaleString(),\r\n      author: sessionStorage.getItem('username'),\r\n      content: this.form.value.content,\r\n    }\r\n    this.commentsService.addComment(newComment, this.post._id)\r\n    this.form.reset()\r\n  }\r\n\r\n}\r\n","<mat-card>\r\n  <form [formGroup]=\"form\" (submit)=\"onAddComment()\">\r\n    <mat-form-field>\r\n      <input matInput type=\"text\" formControlName=\"content\" placeholder=\"say something...\">\r\n    </mat-form-field>\r\n  </form>\r\n  <app-comment *ngFor=\"let comment of post.comments\"\r\n  [comment]='comment'\r\n  [postId]='this.post._id'>\r\n\r\n  </app-comment>\r\n</mat-card>\r\n","import { Subscription } from 'rxjs'\r\nimport { MatHorizontalStepper } from '@angular/material/stepper'\r\nimport { SocketService } from '../../../services/chatsystem/socket.service'\r\nimport { Component, OnDestroy, OnInit, Input, ViewChild} from '@angular/core'\r\nimport { SessionService } from '../../../services/session.service'\r\nimport { NgbModalConfig, NgbModal } from '@ng-bootstrap/ng-bootstrap'\r\nimport { Router } from '@angular/router'\r\nimport { FormControl, FormGroup, Validators, Form } from '@angular/forms'\r\nimport * as moment from 'moment'\r\nimport { FoursquareService } from 'src/app/services/map/foursquare.service'\r\n\r\n\r\n@Component({\r\n    selector: 'app-registrationpage',\r\n    templateUrl: './registrationpage.component.html',\r\n    styleUrls: ['./registrationpage.component.scss'],\r\n    providers: [NgbModalConfig, NgbModal, ]\r\n})\r\n\r\nexport class RegistrationComponent implements OnDestroy, OnInit {\r\n\r\n  constructor(private SocketService: SocketService,\r\n              private sessionService: SessionService,\r\n              private modalService: NgbModal,\r\n              private router: Router,\r\n              private FoursquareService: FoursquareService\r\n              ) {}\r\n  private sessionState_sub: Subscription\r\n  sessionState: Boolean\r\n  registrationForm: FormGroup\r\n  hide = true\r\n  hide1 = true\r\n  currentTime: string = new Date().toISOString()\r\n  @Input() stepper: MatHorizontalStepper\r\n\r\n  checkPasswordValidity = false\r\n\r\n  ngOnInit(){\r\n    this.registrationForm = new FormGroup({\r\n      // 'name': new FormGroup({\r\n      //   'firstName': new FormControl(null, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]),\r\n      //   'lastName': new FormControl(null, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]),\r\n      // },),\r\n      passwords: new FormGroup({\r\n        password: new FormControl(null, [Validators.required, Validators.minLength(5), Validators.maxLength(15)]),\r\n        confirmPassword: new FormControl(null, [Validators.required, Validators.minLength(5), Validators.maxLength(15)]),\r\n      }, this.checkPasswordsMatch.bind(this)),\r\n      birthDate: new FormControl(null, [Validators.required]),\r\n      username: new FormControl(null, [ Validators.required, Validators.minLength(2), Validators.maxLength(15)], this.forbiddenUsernames.bind(this)),\r\n      email: new FormControl(null, [Validators.required, Validators.email]),\r\n      checkbox: new FormControl(null, [Validators.required]),\r\n      gender: new FormControl(null, [Validators.required]),\r\n    })\r\n\r\n    this.sessionState_sub = this.sessionService.sessionState.subscribe((state: boolean) => {\r\n      this.sessionState = state\r\n    })\r\n  }\r\n\r\n  checkUsernameUse() {\r\n    if (this.registrationForm.get('username').errors && this.registrationForm.get('username').dirty){\r\n      if (this.registrationForm.get('username').errors.forbiddenUsername){\r\n        return true\r\n      }\r\n    } else {\r\n        return false\r\n      }\r\n  }\r\n\r\n  checkUsernameLength() {\r\n    if (this.registrationForm.get('username').errors && this.registrationForm.get('username').dirty){\r\n      if (this.registrationForm.get('username').errors.maxlength || this.registrationForm.get('username').errors.minlength){\r\n        return true\r\n      }\r\n    } else {\r\n        return false\r\n      }\r\n  }\r\n  checkPasswordsMatch(control: FormControl) {\r\n    if (this.registrationForm) {\r\n      const pass: string = control.get('password').value\r\n      const confirm: string = control.get('confirmPassword').value\r\n      if (pass === confirm) {\r\n        this.checkPasswordValidity = false\r\n        return\r\n      } else {\r\n        if (control.get('confirmPassword').dirty) {\r\n          this.checkPasswordValidity = true\r\n        }\r\n        return\r\n      }\r\n    }\r\n  }\r\n\r\n  checkPasswordLength() {\r\n    if (this.registrationForm.get('passwords.password').errors && this.registrationForm.get('passwords.password').dirty){\r\n      if (this.registrationForm.get('passwords.password').errors.maxlength || this.registrationForm.get('passwords.password').errors.minlength){\r\n        return true\r\n      }\r\n    }\r\n  }\r\n\r\n  checkEmailValidity() {\r\n    if (this.registrationForm.get('email').errors && this.registrationForm.get('email').dirty){\r\n      if (this.registrationForm.get('email').errors.email){\r\n        return true\r\n      }\r\n    }\r\n  }\r\n\r\n  // check if user is older than 13\r\n  isOld(){\r\n    const birth = this.registrationForm.get('birthDate').value\r\n    const now = moment(this.currentTime)\r\n    const difference = now.diff(birth, 'years')\r\n    if (difference < 13){\r\n      return false\r\n    }\r\n    else{\r\n      return true\r\n    }\r\n  }\r\n\r\n  forbiddenUsernames(control: FormControl): Promise<any> {\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.SocketService.emit('searchUser', [control.value], (res) => {\r\n        if (res.res) {\r\n          resolve({forbiddenUsername: true})\r\n        } else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  onSubmit()  {\r\n    // check age\r\n    if (this.isOld()) {\r\n      // check form validity && if logged in\r\n      if (this.registrationForm.valid && !(sessionStorage.getItem('username'))) {\r\n        const data = {\r\n          // firstName:this.registrationForm.get('name.firstName').value,\r\n          // lastName:this.registrationForm.get('name.lastName').value,\r\n          email: this.registrationForm.get('email').value,\r\n          username: this.registrationForm.get('username').value,\r\n          password: this.registrationForm.get('passwords.password').value,\r\n          gender: this.registrationForm.get('gender').value,\r\n          birthdate: this.registrationForm.get('birthDate').value\r\n        }\r\n        this.SocketService.emit('createUser', data, (res) => {\r\n          // error in backend\r\n          if (res.err) {\r\n            alert(`an error occured ${res.err}`)\r\n          }\r\n          // successfull\r\n          else if (res.user) {\r\n            sessionStorage.setItem('username', res.user.username)\r\n            localStorage.setItem('token', res.token)\r\n            localStorage.setItem('username', res.user.username)\r\n            this.sessionService.session()\r\n            this.modalService.dismissAll()\r\n            this.stepper.next()\r\n            console.log(`user created: ${sessionStorage.getItem('username')}`)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    // not old enough\r\n    else {\r\n      alert('You must be at least 13 years old to register')\r\n      window.location.reload()\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    // this.router.navigate(['/'])\r\n    this.sessionState_sub.unsubscribe()\r\n  }\r\n\r\n}\r\n\r\n","<form\r\n  ngbAutofocus\r\n  class='modal-body'\r\n  id='form'\r\n  (ngSubmit)=\"onSubmit()\"\r\n  #form\r\n  [formGroup]='registrationForm'\r\n  *ngIf='!sessionState'>\r\n    <h1 class='modal-title'>Registration</h1>\r\n    <hr>\r\n    <!-- Name -->\r\n    <!-- <div formGroupName='name' class=\"row\"> -->\r\n      <!-- first Name -->\r\n      <!-- <mat-form-field appearance=\"outline\" class='form-group col-6'>\r\n        <mat-label for='First Name'>First Name</mat-label>\r\n        <input matInput\r\n        placeholder=\"Enter your first name\"\r\n        formControlName='firstName'>\r\n      </mat-form-field> -->\r\n      <!-- Last Name -->\r\n      <!-- <mat-form-field appearance=\"outline\" class='form-group col-6'>\r\n        <mat-label for='password'>Last Name</mat-label>\r\n        <input matInput\r\n        placeholder=\"Enter your last name\"\r\n        formControlName='lastName'>\r\n      </mat-form-field>\r\n    </div> -->\r\n    <!-- username -->\r\n    <mat-form-field appearance=\"outline\" class='form-group' id=\"username\">\r\n      <mat-label for='username'>Username</mat-label>\r\n      <input matInput formControlName='username' placeholder=\"Enter a Username\" autocomplete=\"off\">\r\n      <small id=\"passwordHelpBlock\" class=\"text-danger\" *ngIf=\"checkUsernameUse()\">This username is already in use.</small>\r\n      <small id=\"passwordHelpBlock\" class=\"text-danger\" *ngIf=\"checkUsernameLength()\">Your username must be between 2 and 15 characters long.</small>\r\n    </mat-form-field>\r\n    <!-- password confirmation -->\r\n    <div formGroupName='passwords' class=\"row\">\r\n      <!-- password -->\r\n      <mat-form-field appearance=\"outline\" class='form-group col-6'>\r\n        <mat-label for='password'>Password</mat-label>\r\n        <input matInput\r\n        placeholder=\"Enter a password\"\r\n        formControlName='password'\r\n        [type]=\"hide ? 'password' : 'text'\">\r\n        <small id=\"passwordHelpBlock\" class=\"text-danger\" *ngIf=\"checkPasswordLength()\">your password should be between 5-15 characters</small>\r\n        <button mat-button\r\n        type='button'\r\n        mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\" [attr.aria-pressed]=\"hide\">\r\n        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\r\n        </button>\r\n      </mat-form-field>\r\n      <!-- confirm password -->\r\n      <mat-form-field appearance=\"outline\" class='form-group col-6'>\r\n        <mat-label for='password'>Confirm your password</mat-label>\r\n        <input matInput\r\n        placeholder=\"confirm your password\"\r\n        formControlName='confirmPassword'\r\n        [type]=\"hide1 ? 'password' : 'text'\">\r\n        <small id=\"passwordHelpBlock\" class=\"text-danger\" *ngIf=\"checkPasswordValidity\">your passwords do not match</small>\r\n        <button\r\n        type=\"button\"\r\n        mat-icon-button matSuffix (click)=\"hide1 = !hide1\" [attr.aria-label]=\"'Hide password'\"\r\n        [attr.aria-pressed]=\"hide1\">\r\n        <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>\r\n        </button>\r\n      </mat-form-field>\r\n    </div>\r\n    <!-- email -->\r\n    <mat-form-field appearance=\"outline\" class='form-group' id=\"email\">\r\n      <mat-label for='email'>Email Address</mat-label>\r\n      <input matInput\r\n      formControlName='email'\r\n      placeholder='Enter a valid Email'>\r\n      <small id=\"passwordHelpBlock\" class=\"text-danger\" *ngIf=\"checkEmailValidity()\">Please enter a valid email</small>\r\n      <small id='emailHelp' class='form-text text-muted'>We'll never share your email with anyone else.</small>\r\n    </mat-form-field>\r\n    <!-- Birthdate -->\r\n    <div class=\"form-inline\">\r\n      <div class=\"form-group\">\r\n        <div class=\"input-group\">\r\n          <mat-form-field id=\"calendar\" appearance=\"outline\">\r\n            <mat-label>Birthdate</mat-label>\r\n            <input\r\n              matInput\r\n              [matDatepicker]=\"picker\"\r\n              [max]='currentTime'\r\n              formControlName=\"birthDate\"\r\n              class=\"align-self-center\">\r\n            <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n            <mat-datepicker #picker startView=\"multi-year\"></mat-datepicker>\r\n          </mat-form-field>\r\n          <!-- <input\r\n            id=\"calendar\"\r\n            class=\"form-control\"\r\n            [minDate]=\"{year: 1900, month: 1, day: 1}\" [maxDate]=\"{year: 2020, month: 1, day: 1}\"\r\n            placeholder=\"yyyy-mm-dd\"\r\n            formControlName=\"birthDate\"\r\n            name=\"dp\"\r\n            [(ngModel)]=\"model\"\r\n            ngbDatepicker\r\n            #d=\"ngbDatepicker\">\r\n          <button\r\n            id='calendarSelector'\r\n            class=\"btn btn-outline-secondary calendar input-group-append rounded-0\"\r\n            (click)=\"d.toggle()\" type=\"button\">\r\n            <mat-icon>calendar_today</mat-icon>\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Gender -->\r\n    <mat-label class=\"\">Gender</mat-label>\r\n    <mat-radio-group aria-label=\"Select an option\" class=\"row\"\r\n    formControlName=\"gender\">\r\n      <mat-radio-button value=\"Male\" class='col-4'>Male</mat-radio-button>\r\n      <mat-radio-button value=\"Female\" class='col-4'>Female</mat-radio-button>\r\n      <mat-radio-button value=\"Other\" class='col-4'>Other</mat-radio-button>\r\n    </mat-radio-group>\r\n    <br>\r\n    <!-- checkbox -->\r\n    <div>\r\n      <mat-checkbox class='form-group'\r\n        formControlName='checkbox'>\r\n        <label class='form-check-label' for='terms'>I have read and understand the terms & conditions of this agreement</label>\r\n      </mat-checkbox>\r\n    </div>\r\n    <br>\r\n    <!-- submit -->\r\n    <button mat-raised-button color='primary'>Register</button>\r\n  </form>\r\n  <div class=\"container-fluid\" style=\"height: 100%; padding: 1%; background-color: white;\" *ngIf='sessionState'>\r\n    <h2>You are already registered</h2>\r\n  </div>\r\n","import { foursquareCategory } from './../models/CategoryNode.model'\r\nimport { SearchParams } from './../models/searchParams'\r\nimport { logging } from 'protractor'\r\nimport { CustomCoordinates } from './../models/coordinates'\r\nimport { tab } from 'src/app/models/tab.model'\r\nimport { BehaviorSubject, Observable } from 'rxjs'\r\nimport { environment } from 'src/environments/environment'\r\nimport { FoursquareService } from './map/foursquare.service'\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { Injectable, OnDestroy } from '@angular/core'\r\nimport { CategoryNode } from '../models/CategoryNode.model'\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SearchService implements OnDestroy {\r\n  /**if user is already searchign something */\r\n  currentSearch: SearchParams = null\r\n\r\n  private search: tab = {query: null, content : {users: [], venues: []}}\r\n  private _searchTab: BehaviorSubject<tab> = new BehaviorSubject(this.search)\r\n  public searchTab: Observable<tab> = this._searchTab.asObservable()\r\n\r\n  private filter = 0\r\n  private _filterNumber: BehaviorSubject<number> = new BehaviorSubject(this.filter)\r\n  public filterNumber: Observable<number> = this._filterNumber.asObservable()\r\n\r\n  private categories: foursquareCategory[] = null\r\n  private _categoryTree: BehaviorSubject<foursquareCategory[] | CategoryNode[]> = new BehaviorSubject(this.categories)\r\n  public categoryTree: Observable<foursquareCategory[] | CategoryNode[]> = this._categoryTree.asObservable()\r\n\r\n  private categoriesCollection: any\r\n  private _categorySet: BehaviorSubject<Set<any>> = new BehaviorSubject(this.categoriesCollection)\r\n  public categorySet: Observable<Set<any>> = this._categorySet.asObservable()\r\n\r\n  treeValues: {\r\n    [key: string]: any\r\n    tree: [],\r\n    categorySet: Set<any>\r\n  } = {\r\n    tree: [],\r\n    categorySet: new Set()\r\n  }\r\n\r\n  constructor(private HttpClient: HttpClient,\r\n              private foursquareService: FoursquareService) {\r\n    this.updateCategories()\r\n    .then((x: foursquareCategory[]) => {\r\n      this._categoryTree.next(x)\r\n      this._categorySet.next(this.treeValues.categorySet)\r\n    })\r\n\r\n    this.currentSearch = null\r\n  }\r\n\r\n  // looks for venues in the area\r\n  foursquareSearchVenues(query: string, latLng: CustomCoordinates): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.foursquareService.searchVenues(query, latLng.toStringReorder(2))\r\n      .subscribe((result) => {\r\n        resolve(result)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    }\r\n  ) }\r\n\r\n  /**gets user info with username input, connection to database*/\r\n  userSearch(query: string): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.HttpClient.get<any>(environment.travelnet.searchUsers,\r\n        {\r\n          headers: {\r\n            authorization: localStorage.getItem('token') ? localStorage.getItem('token').toString() : 'monkas',\r\n          },\r\n          params: {\r\n            user: query\r\n          }\r\n        }\r\n      )\r\n      .subscribe((result) => {\r\n        resolve(result)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    }\r\n  ) }\r\n\r\n  /** gets venue data with id in the query */\r\n  formatDetails(query: string){\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.foursquareService.getDetails(query)\r\n      .subscribe(result => {\r\n        resolve(result)\r\n      }, (err) => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  /**combines both user and venue search*/\r\n  async mainSearch(query: string, coord: CustomCoordinates): Promise<any[]> {\r\n    return await Promise.all([this.foursquareSearchVenues(query, coord), this.userSearch(query)])\r\n  }\r\n\r\n  /**user makes new search in a tab*/\r\n  enterSearch(query: string, searchType: Promise<any>, coord: CustomCoordinates) {\r\n    return new Promise((resolve, reject) => {\r\n      this.resetSearchContent()\r\n      searchType\r\n      .then(result => {\r\n\r\n        if (result[0].response.totalResults != 0) {\r\n          result[0].response.groups[0].items.forEach(venue => {\r\n            this.search.content.venues.push(venue)\r\n          })\r\n        } else {\r\n          this.search.content.venues = []\r\n        }\r\n\r\n        if (sessionStorage.getItem('username')) {\r\n          if (result[1].users) {\r\n            result[1].users.forEach(user => {\r\n              this.search.content.users.push(user)\r\n            })\r\n          }\r\n        } else {\r\n          this.search.content.users.push({username : 'warning', name : 'You must be logged in to see users'})\r\n        }\r\n\r\n        this.search = ({\r\n          query: {\r\n            query,\r\n            lng: coord.lng,\r\n            lat: coord.lat\r\n          },\r\n          content: this.search.content\r\n        })\r\n        this._searchTab.next(this.search)\r\n        resolve()\r\n      })\r\n      .catch(err => {\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  /**update foursquare categories*/\r\n  updateCategories(): Promise<foursquareCategory[] | CategoryNode[]> {\r\n    return new Promise((resolve, reject) => {\r\n      this.foursquareService.updateCategories()\r\n      .subscribe(x => {\r\n        this.initiateTree(x.response.categories)\r\n        resolve(x.response.categories)\r\n      }, err => {\r\n        console.log(err)\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  /**makes tree leaves checked and creates array containing category id*/\r\n  initiateTree(data: CategoryNode[]) {\r\n    data.forEach((category: CategoryNode) => {\r\n      if (category.categories.length === 0) {\r\n        category.checked = true\r\n        this.treeValues.categorySet.add(category.id)\r\n      }\r\n      else if (category.categories.length !== 0) {\r\n        this.treeValues.categorySet.add(category.id)\r\n        this.initiateTree(category.categories)\r\n      }\r\n    })\r\n  }\r\n\r\n  updateCategoryTree(newData){\r\n    this._categoryTree.next(newData)\r\n  }\r\n\r\n  updateCategorySet(newData){\r\n    this._categorySet.next(newData)\r\n  }\r\n\r\n  getSearchResult(search){\r\n    if (search.type == 'venue'){\r\n      return ('venue: ' + search.name)\r\n    }\r\n    else{\r\n      return ('User: ' + search.name)\r\n    }\r\n  }\r\n\r\n  resetSearchContent(){\r\n    this.search.content = {venues: [], users: []}\r\n    this._searchTab.next(this.search)\r\n  }\r\n\r\n  changeFilter(filter: number){\r\n    this._filterNumber.next(filter)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._searchTab.unsubscribe()\r\n    this._categoryTree.unsubscribe()\r\n    this._categorySet.unsubscribe()\r\n    this._filterNumber.unsubscribe()\r\n  }\r\n}\r\n","import { environment } from './../../../environments/environment.dev'\r\nimport { OpenstreetmapService } from './../../services/map/openstreetmap.service'\r\nimport { SearchParams } from './../../models/searchParams'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { CustomCoordinates } from './../../models/coordinates'\r\nimport { CitySearchComponent } from './../city-search/city-search.component'\r\nimport { CategoryNode, foursquareCategory } from './../../models/CategoryNode.model'\r\nimport { Component, OnInit, OnDestroy, ViewChild, ElementRef, AfterViewInit, Input, Output, EventEmitter } from '@angular/core'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\nimport { Router, ActivatedRoute } from '@angular/router'\r\nimport { SearchService } from 'src/app/services/search.service'\r\nimport { tab } from 'src/app/models/tab.model'\r\nimport { Subscription } from 'rxjs'\r\nimport { geocodeResponseModel } from 'src/app/models/geocodeResp.model'\r\n\r\n@Component({\r\n  selector: 'app-search-bar',\r\n  templateUrl: './search-bar.component.html',\r\n  styleUrls: ['./search-bar.component.scss']\r\n})\r\nexport class SearchBarComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Output() submission = new EventEmitter<void>()\r\n  @Input() isChild = false\r\n  loading = false\r\n\r\n  foursquareCategory_sub: Subscription\r\n  categories: foursquareCategory[]\r\n  openTab: tab\r\n  fakeCenter: CustomCoordinates = null\r\n  private returnTab_sub: Subscription\r\n  private fakeCenter_sub: Subscription\r\n  @ViewChild('searchResultsContainer') div: ElementRef\r\n\r\n  // forms\r\n  searchBarForm: FormGroup\r\n\r\n  // filters\r\n  @ViewChild(CitySearchComponent) CitySearchComponent: CitySearchComponent\r\n  private clickedOption_sub: Subscription\r\n  clickedOption: geocodeResponseModel = null\r\n  filterOptions: {\r\n    0: string,\r\n    1: string,\r\n    2: string\r\n  } = {\r\n    0: '...',\r\n    1: 'Venues',\r\n    2: 'Users'\r\n  }\r\n  defaultFilter = '0'\r\n  defaultCategory = 'All'\r\n\r\n  constructor(\r\n    private MapService: MapService,\r\n    private router: Router,\r\n    private SearchService: SearchService,\r\n    private ActivatedRoute: ActivatedRoute,\r\n    private OpenstreetmapService: OpenstreetmapService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.searchBarForm = new FormGroup({\r\n      venueName: new FormControl(null, [Validators.required, Validators.minLength(1), Validators.maxLength(25)])\r\n    })\r\n\r\n\r\n    this.returnTab_sub = this.SearchService.searchTab.subscribe((tab) => {\r\n      this.openTab = tab\r\n    })\r\n\r\n    this.fakeCenter_sub = this.MapService.fakeCenter.subscribe((coord: CustomCoordinates) => {\r\n      this.fakeCenter = coord ? coord : environment.montrealCoord\r\n    })\r\n\r\n    this.foursquareCategory_sub = this.SearchService.categoryTree.subscribe((cats: foursquareCategory[]) => {\r\n      this.categories = cats\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // for coordinates of city search\r\n    this.clickedOption_sub = this.CitySearchComponent.clickedOption.subscribe((city: geocodeResponseModel) => {\r\n      if (city) {\r\n        this.clickedOption = city\r\n      } else {\r\n        this.clickedOption = null\r\n      }\r\n    })\r\n\r\n    this.ActivatedRoute.queryParams.subscribe((params: SearchParams) => {\r\n      // set param to montreal if no location param\r\n      if (!params.lng) {\r\n        // this.CitySearchComponent.myControl.patchValue('Montreal, Canada')\r\n        this.CitySearchComponent._clickedOptionLocal = new geocodeResponseModel(this.CitySearchComponent.myControl.value, [this.fakeCenter.lng, this.fakeCenter.lat])\r\n      } else {\r\n        this.OpenstreetmapService.reverseSearch(params.lng, params.lat).subscribe((response: {[key: string]: any}) => {\r\n          if (response.features[0]) {\r\n            this.CitySearchComponent.myControl.patchValue(response.features[0].properties.address.city + ',' + response.features[0].properties.address.country)\r\n          }\r\n        })\r\n      }\r\n      if (params.query) {\r\n        this.searchBarForm.get('venueName').setValue(params.query)\r\n\r\n        // if url contains query\r\n        if (!this.SearchService.currentSearch) {\r\n          this.loading = true\r\n          const coord: CustomCoordinates = params.lng ? new CustomCoordinates(params.lng, params.lat) : this.MapService.getCenter()\r\n          this.SearchService.enterSearch(params.query, this.SearchService.mainSearch(params.query, coord), coord)\r\n          .finally(() => {\r\n            this.loading = false\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n    if (this.SearchService.currentSearch) {\r\n      this.searchBarForm.get('venueName').setValue(this.SearchService.currentSearch.query)\r\n      if (this.SearchService.currentSearch.lat) {\r\n        // get name of searched city\r\n      }\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.searchBarForm.valid && this.CitySearchComponent.myControl.valid) {\r\n      this.submission.emit()\r\n      const coord: CustomCoordinates = this.clickedOption ? new CustomCoordinates(this.clickedOption.content.geometry.coordinates[0], this.clickedOption.content.geometry.coordinates[1]) : this.fakeCenter\r\n      this.SearchService.enterSearch(this.searchBarForm.get('venueName').value, this.SearchService.mainSearch(this.searchBarForm.get('venueName').value, coord), coord)\r\n      .then(() => {\r\n        this.SearchService.currentSearch = {query: this.searchBarForm.get('venueName').value, lng: coord.lng, lat: coord.lat, category: this.defaultCategory}\r\n        this.router.navigate(['search'], {queryParams: {query: this.searchBarForm.get('venueName').value, lng: coord.lng, lat: coord.lat, category: this.defaultCategory}})\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  }\r\n\r\n  /** all|venues|users */\r\n  changeFilter(filter: {response: string, value: string}) {\r\n    this.defaultFilter = filter.value\r\n    this.defaultCategory = this.filterOptions[filter.value]\r\n    this.SearchService.changeFilter(parseInt(filter.value))\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.returnTab_sub.unsubscribe()\r\n    this.fakeCenter_sub.unsubscribe()\r\n    this.clickedOption_sub.unsubscribe()\r\n  }\r\n}\r\n","<!-- search bar -->\r\n<form [formGroup]='searchBarForm' (ngSubmit)='onSubmit()' class='container-fluid row' style=\"min-width: 100%; background-color: rgba(255, 255, 255, 0.9); margin: 0; padding: 0;\">\r\n  <span class=\"col row mr-auto\" style=\"padding-top: 1em; margin: 0; padding-right: 0; padding-left: 0;\">\r\n    <!-- venue name -->\r\n    <mat-form-field class=\"col align-self-center\" style=\"padding-left: 0.5em; padding-right: 0;\" appearance=\"outline\">\r\n      <mat-label>Search for {{defaultCategory === 'All'? '...' : defaultCategory}}</mat-label>\r\n      <input matInput\r\n        type=\"text\"\r\n        placeholder='Ex: restaurant'\r\n        aria-label='Search'\r\n        autocomplete='off'\r\n        formControlName='venueName'>\r\n      <button mat-button *ngIf=\"searchBarForm.get('venueName').value != ''\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"searchBarForm.get('venueName').setValue('')\" type='button'>\r\n        <mat-icon>close</mat-icon>  \r\n      </button>\r\n      <i fas fa-search aria-hidden=\"true\"></i>\r\n    </mat-form-field>\r\n    &nbsp;\r\n    &nbsp;\r\n    <p class=\"align-self-center\">in</p>\r\n    &nbsp;\r\n    &nbsp;\r\n    <!-- venue location -->\r\n    <app-city-search appearance='outline' placeholder='Region' [clearOnSearch]='false' [getFakeCenterCity]='true' class=\"col align-self-center\" style=\"min-width: 200px; padding-right: 0.5em; padding-left: 0;\"></app-city-search>\r\n    <mat-divider vertical=\"true\" style=\"margin-bottom: 1em;\"></mat-divider>\r\n    <!-- filter user|venues -->\r\n    <mat-form-field class=\"col-auto align-self-center\" style=\"max-width: 125px; padding-left: 0.5em;\" *ngIf='!isChild'>\r\n      <mat-label>Filter</mat-label>\r\n      <mat-select [(ngModel)]='defaultFilter' [ngModelOptions]=\"{standalone: true}\" (selectionChange)='changeFilter($event)'>\r\n        <mat-option value='0'>All</mat-option>\r\n        <mat-option value='1'>Venues</mat-option>\r\n        <mat-option value='2'>Users</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <!-- filter categories -->\r\n    <mat-form-field class=\"col-auto align-self-center\" style=\"max-width: 125px; padding-left: 0.5em;\" appearance='outline' *ngIf='isChild'>\r\n      <mat-label>Category</mat-label>\r\n      <mat-select [(value)]='defaultCategory'>\r\n          <mat-option value='All'>All</mat-option>\r\n          <mat-option *ngFor='let category of categories' [value]='category.name'>{{category.name}}</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <!-- submit -->\r\n    <div class=\"col-auto\" style=\"padding-top: 1em;\">\r\n      <button mat-raised-button type='submit' class=\"align-self-center\" color='primary' matTooltip='select a city to search in or drag the area you want to search to the center of the visible map' matTooltipShowDelay='800'>\r\n        <mat-icon>search</mat-icon>\r\n      </button>        \r\n    </div>\r\n  </span> \r\n</form>\r\n\r\n<router-outlet *ngIf='!isChild'></router-outlet>\r\n","import { Subscription } from 'rxjs'\r\nimport { SessionService } from '../../../services/session.service'\r\nimport { SocketService } from 'src/app/services/chatsystem/socket.service'\r\nimport { Component, OnInit, Renderer2, ViewChild, ElementRef, Input, OnDestroy } from '@angular/core'\r\nimport { FriendlistService } from 'src/app/services/chatsystem/friendlist.service'\r\nimport { RoomWidget } from '../../../models/Room_Widget.model'\r\n\r\n@Component({\r\n  selector: 'app-chatwidget',\r\n  templateUrl: './chatwidget.component.html',\r\n  styleUrls: ['./chatwidget.component.scss']\r\n})\r\n\r\nexport class ChatwidgetComponent implements OnInit, OnDestroy {\r\n  @Input() roomName: string\r\n  @Input() roomId: string\r\n  @ViewChild('textarea') div: ElementRef\r\n  sessionRoomName: string\r\n  typeArea = ''\r\n  sessionState: boolean\r\n  private sessionSub: Subscription\r\n  roomModel: RoomWidget\r\n  private roomSub: Subscription\r\n  username: string = sessionStorage.getItem('username')\r\n\r\n\r\n  constructor(private friendlistService: FriendlistService,\r\n              private renderer: Renderer2,\r\n              private socketService: SocketService,\r\n              public sessionService: SessionService) { }\r\n\r\n  ngOnInit(): void {\r\n    // subscribe to Observables\r\n    this.sessionSub = this.sessionService.sessionState.subscribe((isLoggedIn) => {\r\n      this.sessionState = isLoggedIn\r\n    })\r\n\r\n    this.roomSub = this.friendlistService.roomModel.subscribe((room) => {\r\n      this.roomModel = room\r\n    })\r\n\r\n    this.sessionRoomName = this.sessionService.getRoomName(this.roomName)\r\n\r\n    // pull Chatroom content from backend\r\n    this.socketService.emit('initChatroom', {id: this.roomId, username: this.username}, (data) => {\r\n      if (data.err) {\r\n        console.log(data.err)\r\n      } else {\r\n        data.messages.forEach((message) => {\r\n          const ul: HTMLParagraphElement = this.renderer.createElement('ul')\r\n          ul.innerHTML = `${message.sender === this.username ? 'you' : message.sender}: ${message.content}`\r\n          this.renderer.appendChild(this.div.nativeElement, ul)\r\n        })\r\n      }\r\n    })\r\n\r\n    this.friendlistService.selectChatwidget(this.roomId)\r\n\r\n    // listen for messages & add display them\r\n    this.socketService.listen('message_res').subscribe((data: any) => {\r\n      if (this.roomId == data.res.roomId){\r\n        const ul: HTMLParagraphElement = this.renderer.createElement('ul')\r\n        ul.innerHTML = `${data.res.sender === this.username ? 'you' : data.res.sender}: ${data.res.content}`\r\n        this.renderer.appendChild(this.div.nativeElement, ul)\r\n        this.typeArea = ``\r\n      } else {\r\n      }\r\n    })\r\n\r\n    // listen for notifications\r\n    this.socketService.listen('notification').subscribe((data: any) => {\r\n\r\n    })\r\n  }\r\n\r\n  // look for enter button\r\n  onKey(event: KeyboardEvent) {\r\n    if (event.key == 'Enter') {\r\n      event.preventDefault()\r\n      this.sendMessage(this.typeArea)\r\n      this.typeArea = ''\r\n    }\r\n  }\r\n\r\n  // send message with socket\r\n  sendMessage(data: string): void {\r\n    if (data != '') {\r\n      this.socketService.emit('message', {roomId: this.roomId, sender: this.username, content: data})\r\n    }\r\n  }\r\n\r\n  toggleChatWidget(): void {\r\n    this.friendlistService.getRoomWidget(this.roomId)\r\n    this.friendlistService.toggleChatWidget(this.roomModel)\r\n    this.ngOnDestroy()\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.socketService.remove('message_res')\r\n    this.socketService.remove('notification')\r\n    this.roomSub.unsubscribe()\r\n    this.sessionSub.unsubscribe()\r\n  }\r\n}\r\n","<div  id='main' class=\"col-auto\" *ngIf='sessionState'>\r\n  <!-- top of widget -->\r\n  <div class=\"space rounded-top\" [innerText]='sessionRoomName' aria-readonly=\"true\" (click)='toggleChatWidget()'></div>\r\n\r\n  <!-- messages -->\r\n  <div class=\"text-wrap\" id='chatbody'*ngIf='sessionState'>\r\n    <br>\r\n    <div class=\"text-wrap\" id='textarea' #textarea ></div>\r\n  </div> \r\n\r\n  <!-- text and enter button -->\r\n  <div class='space rounded-bottom' >\r\n    <form (submit)='sendMessage(msg.value)' class=\"container-fluid\" autocomplete=\"off\">\r\n      <div class=\"row\">\r\n        <textarea class=\"col-auto\" name=\"ngModel\" [(ngModel)]='typeArea' #msg='ngModel' type=\"textarea\" (keydown)='onKey($event)'></textarea>\r\n        <input class='btn btn-primary col' id='submit' type=\"submit\" value=\"Send\">\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n</div>","import { Router } from '@angular/router'\r\nimport { userModel } from 'src/app/models/user.model'\r\nimport { HttpService } from 'src/app/services/http.service'\r\nimport { Component, OnInit } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  user: userModel\r\n\r\n  constructor(private HttpService: HttpService, private Router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    // get user info\r\n    this.HttpService.get('/user', null).then((res: any) => {\r\n      this.user = res.user[0]\r\n    })\r\n  }\r\n\r\n  getProfile(username: string) {\r\n    this.Router.navigate(['/search/user/' + username])\r\n  }\r\n}\r\n","\r\n<div *ngIf=\"user\">\r\n        <p>Followers : {{user.followers.length}}</p>\r\n        <div *ngFor=\"let username of user.followers\">\r\n            <button mat-raised-button (click)=\"getProfile(username)\">\r\n                {{ username }}\r\n            </button>\r\n        </div>\r\n</div>\r\n<app-add-post></app-add-post>\r\n<app-display-posts></app-display-posts>\r\n","import { Component, OnInit, ViewChild, OnDestroy, AfterViewInit, AfterViewChecked } from '@angular/core'\r\nimport {COMMA, ENTER} from '@angular/cdk/keycodes'\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms'\r\nimport { ActivatedRoute, ParamMap } from '@angular/router'\r\n\r\nimport { AddPostService } from 'src/app/services/add-post.service'\r\nimport { Post } from 'src/app/models/post.model'\r\nimport { mimeType } from './mime-type.validator'\r\nimport { title } from 'process'\r\nimport { Subscription } from 'rxjs'\r\nimport { geocodeResponseModel } from 'src/app/models/geocodeResp.model'\r\nimport { CitySearchComponent } from '../city-search/city-search.component'\r\n\r\n@Component({\r\n  selector: 'app-add-post',\r\n  templateUrl: './add-post.component.html',\r\n  styleUrls: ['./add-post.component.scss']\r\n})\r\nexport class AddPostComponent implements OnInit, OnDestroy, AfterViewChecked {\r\n  enteredTitle = ''\r\n  enteredContent = ''\r\n  post: Post\r\n  isLoading = false\r\n  form: FormGroup\r\n  imagePreview: string\r\n  private mode = 'create'\r\n  private postId: string\r\n  location: string\r\n\r\n  // tags\r\n  visible = true\r\n  selectable = true\r\n  removable = true\r\n  addOnBlur = true\r\n  readonly separatorKeysCodes: number[] = [ENTER, COMMA]\r\n  tags: string[] = []\r\n\r\n  // filters\r\n  private clickedOption_sub: Subscription\r\n  clickedOption: geocodeResponseModel = null\r\n  @ViewChild(CitySearchComponent) CitySearchComponent: CitySearchComponent\r\n  checkedOnce = false\r\n\r\n  constructor(\r\n    public postsService: AddPostService,\r\n    public route: ActivatedRoute\r\n  ) {}\r\n\r\n\r\n  ngOnInit() {\r\n    this.form = new FormGroup({ // form to create social media posts\r\n      title: new FormControl(null, {validators: [Validators.required, Validators.minLength(3)]}),\r\n      location: new FormControl(null, { validators: [Validators.required] }),\r\n      content: new FormControl(null, { validators: [Validators.required] }),\r\n      tags: new FormControl(null, { validators: [Validators.required] }),\r\n      image: new FormControl(null, {\r\n        validators: [Validators.required],\r\n        asyncValidators: [mimeType]\r\n      })\r\n    })\r\n    this.route.paramMap.subscribe((paramMap: ParamMap) => {\r\n      if (paramMap.has('postId')) {\r\n        this.mode = 'edit'\r\n        this.postId = paramMap.get('postId')\r\n        this.isLoading = true\r\n        this.postsService.getPost(this.postId).subscribe(postData => {\r\n          this.isLoading = false\r\n          this.post = {\r\n            _id: postData._id,\r\n            author: postData.author,\r\n            date: postData.date,\r\n            location: postData.location,\r\n            likes: postData.likes,\r\n            title: postData.title,\r\n            content: postData.content,\r\n            imagePath: postData.imagePath,\r\n            tags: postData.tags,\r\n            comments: postData.comments,\r\n          }\r\n          this.form.setValue({\r\n            location: this.post.location,\r\n            title: this.post.title,\r\n            content: this.post.content,\r\n            image: this.post.imagePath,\r\n            tags: this.post.tags,\r\n          })\r\n          this.imagePreview = this.post.imagePath\r\n          this.tags = this.post.tags\r\n          this.location = this.post.location\r\n        })\r\n      } else {\r\n        this.mode = 'create'\r\n        this.postId = null\r\n      }\r\n    })\r\n  }\r\n\r\n  ngAfterViewChecked(){\r\n    if (this.CitySearchComponent && !this.checkedOnce){\r\n      this.clickedOption_sub = this.CitySearchComponent.clickedOption.subscribe((city: geocodeResponseModel) => {\r\n      if (city) {\r\n        this.clickedOption = city\r\n      } else {\r\n        this.clickedOption = null\r\n      }\r\n      })\r\n    }\r\n    else if (!this.CitySearchComponent){\r\n\r\n    }\r\n    else{\r\n      this.checkedOnce = true\r\n    }\r\n  }\r\n\r\n  onImagePicked(event: Event) { // close input form for images\r\n    const file = (event.target as HTMLInputElement).files[0]\r\n    this.form.patchValue({ image: file })\r\n    this.form.get('image').updateValueAndValidity()\r\n    const reader = new FileReader()\r\n    reader.onload = () => {\r\n      this.imagePreview = reader.result as string\r\n    }\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  onSavePost() { //send request to save post\r\n    this.onAddLocation(this.clickedOption.name)\r\n    if (this.form.invalid) {\r\n      return\r\n    }\r\n    this.isLoading = true\r\n    if (this.mode === 'create') {\r\n      const newPost = {\r\n        date: new Date().toLocaleString(),\r\n        location: this.form.value.location,\r\n        author: sessionStorage.getItem('username'),\r\n        title: this.form.value.title,\r\n        content: this.form.value.content,\r\n        image: this.form.value.image,\r\n        tags: this.form.value.tags,\r\n      }\r\n      this.postsService.addPost(newPost)\r\n    } else {\r\n      this.postsService.updatePost({\r\n        _id: this.postId,\r\n        date: this.post.date, // will be changed to earlier date\r\n        location: this.form.value.location,\r\n        author: sessionStorage.getItem('username'),\r\n        likes: this.post.likes,\r\n        title: this.form.value.title,\r\n        content: this.form.value.content,\r\n        image: this.form.value.image,\r\n        tags: this.form.value.tags,\r\n        comments: this.post.comments\r\n      })\r\n    }\r\n    this.form.reset()\r\n    this.isLoading = false;\r\n  }\r\n\r\n\r\n  addTag(event): void {\r\n    const input = event.input\r\n    const value = event.value\r\n\r\n    // Add a tag\r\n    if ((value || '').trim()) {\r\n      this.tags.push(value.trim())\r\n    }\r\n\r\n    // Reset the input value\r\n    if (input) {\r\n      input.value = ''\r\n    }\r\n    this.form.patchValue({ tags: this.tags })\r\n    this.form.get('tags').updateValueAndValidity()\r\n\r\n  }\r\n\r\n  removeTag(tag): void {\r\n    const index = this.tags.indexOf(tag)\r\n    if (index >= 0) {\r\n      this.tags.splice(index, 1)\r\n    }\r\n    this.form.patchValue({ tags: this.tags })\r\n    this.form.get('tags').updateValueAndValidity()\r\n  }\r\n  onAddLocation(location: string){\r\n    this.location = location\r\n    this.form.patchValue({ location })\r\n    this.form.get('location').updateValueAndValidity()\r\n  }\r\n  ngOnDestroy(){\r\n    this.clickedOption_sub.unsubscribe()\r\n  }\r\n}\r\n","<mat-card>\r\n  <mat-spinner *ngIf=\"isLoading\"></mat-spinner>\r\n  <form [formGroup]=\"form\" (submit)=\"onSavePost()\" *ngIf=\"!isLoading\">\r\n\r\n    <mat-form-field>\r\n      <input matInput type=\"text\" formControlName=\"title\" placeholder=\"Post Title\">\r\n      <mat-error *ngIf=\"form.get('title').invalid\">Please enter a post title.</mat-error>\r\n    </mat-form-field>\r\n\r\n    <!-- <mat-form-field> -->\r\n      <!-- <input matInput type=\"text\" formControlName=\"location\" placeholder=\"location\"> -->\r\n      <!-- <mat-error *ngIf=\"form.get('location').invalid\">Please enter a location</mat-error> -->\r\n    <!-- </mat-form-field> -->\r\n\r\n    <app-city-search (locationAdded)='onAddLocation($event)' [getFakeCenterCity]='true' [placeholder]='\"Region\" '>\r\n    </app-city-search>\r\n\r\n    <mat-form-field>\r\n      <textarea matInput rows=\"4\" formControlName=\"content\" placeholder=\"Post Content\"></textarea>\r\n      <mat-error *ngIf=\"form.get('content').invalid\">Please enter something</mat-error>\r\n    </mat-form-field>\r\n\r\n    <div>\r\n      <button mat-stroked-button type=\"button\" (click)=\"filePicker.click()\">Pick Image</button>\r\n      <input class='hidden' type=\"file\" #filePicker (change)=\"onImagePicked($event)\">\r\n    </div>\r\n\r\n    <div class=\"image-preview\" *ngIf=\"imagePreview !== '' && imagePreview && form.get('image').valid\">\r\n      <img [src]=\"imagePreview\" [alt]=\"form.value.title\">\r\n    </div>\r\n\r\n    <mat-form-field class=\"example-chip-list\">\r\n      <mat-chip-list #chipList aria-label=\"tag selection\">\r\n        <mat-chip *ngFor=\"let tag of tags\" [selectable]=\"selectable\"\r\n                 [removable]=\"removable\" (removed)=\"removeTag(tag)\">\r\n          {{tag}}\r\n          <mat-icon matChipRemove *ngIf=\"removable\">cancel</mat-icon>\r\n        </mat-chip>\r\n        <input placeholder=\"add a tag...\"\r\n          [matChipInputFor]=\"chipList\"\r\n          [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\r\n          [matChipInputAddOnBlur]=\"addOnBlur\"\r\n          (matChipInputTokenEnd)=\"addTag($event)\">\r\n      </mat-chip-list>\r\n    </mat-form-field>\r\n\r\n\r\n    <hr>\r\n    <button mat-raised-button color=\"accent\" type=\"submit\">Save Post</button>\r\n  </form>\r\n</mat-card>\r\n\r\n","import { SearchParams } from './../../models/searchParams'\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { geocodeResponseModel } from './../../models/geocodeResp.model'\r\nimport { MapService } from './../../services/map/map.service'\r\nimport { Subscription, BehaviorSubject, Observable } from 'rxjs'\r\nimport { OpenstreetmapService } from './../../services/map/openstreetmap.service'\r\nimport { FormControl, Validators } from '@angular/forms'\r\nimport { Component, OnInit, Input, OnDestroy, Output, ViewChild, AfterViewInit, EventEmitter } from '@angular/core'\r\nimport { MatSelect } from '@angular/material/select'\r\n\r\n@Component({\r\n  selector: 'app-city-search',\r\n  templateUrl: './city-search.component.html',\r\n  styleUrls: ['./city-search.component.scss']\r\n})\r\nexport class CitySearchComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild(MatSelect) MatSelect: MatSelect\r\n  @Input() appearance: string\r\n  @Input() placeholder: string\r\n  // initial location\r\n  @Input() location: string\r\n  @Input() getFakeCenterCity: boolean\r\n  @Input() clearOnSearch: boolean\r\n  // for custom event emiting\r\n  @Output() locationAdded = new EventEmitter<string>()\r\n\r\n  // search input variables\r\n  myControl: FormControl = new FormControl(null)\r\n  timeout\r\n  searched: Subscription\r\n\r\n  isLoading = false\r\n\r\n  openstreetmap_sub: Subscription\r\n\r\n  private fakeCenterCity_sub: Subscription\r\n\r\n  // display suggestions on autosuggest\r\n  private _autoSuggested: BehaviorSubject<Array<{[key: string]: any}>> = new BehaviorSubject([])\r\n  autoSuggested: Observable<Array<{[key: string]: any}>> = this._autoSuggested.asObservable()\r\n\r\n  // return clicked option\r\n  _clickedOptionLocal: geocodeResponseModel = null\r\n  private _clickedOption: BehaviorSubject<geocodeResponseModel> = new BehaviorSubject(this._clickedOptionLocal)\r\n  clickedOption: Observable<geocodeResponseModel> = this._clickedOption.asObservable()\r\n\r\n  constructor(private OpenstreetmapService: OpenstreetmapService,\r\n              private MapService: MapService,\r\n              private ActivatedRoute: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.MapService.citySearchPresent = true\r\n\r\n    this.ActivatedRoute.queryParams.subscribe((params: SearchParams) => {\r\n      if (params.lng) {\r\n        this.OpenstreetmapService.reverseSearch(params.lng, params.lat)\r\n        .subscribe((res) => {\r\n          if (res.features[0]) {\r\n            this.myControl.patchValue(this.removeMiddle(res.features[0].properties.display_name, 0))\r\n            this._clickedOptionLocal = new geocodeResponseModel(this.myControl.value, res.features[0].geometry.coordinates)\r\n            this._clickedOption.next(this._clickedOptionLocal)\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n    // search for new cities on input value change\r\n    this.searched = this.myControl.valueChanges.subscribe(x => {\r\n      this._clickedOptionLocal = null\r\n      clearTimeout(this.timeout)\r\n      this.timeout = setTimeout(() => {\r\n        this.isLoading = true\r\n        this._autoSuggested.next([{}])\r\n        this.openstreetmap_sub = this.OpenstreetmapService.citySearch(x.toString()).subscribe(response => {\r\n          this.isLoading = false\r\n          const searchResults: Array<{[key: string]: any}> = []\r\n          response.features.forEach(element => {\r\n            const name = this.removeMiddle(element.properties.display_name, 1)\r\n            searchResults.push({name, content: element})\r\n          })\r\n          this._autoSuggested.next(searchResults)\r\n        }, (err) => {\r\n          this.isLoading = false\r\n          console.log(err)\r\n        })\r\n      }, 400)\r\n    })\r\n\r\n    if (this.getFakeCenterCity) {\r\n      // sub to city name at fake center\r\n      this.fakeCenterCity_sub = this.MapService.fakeCenterCity.subscribe((res: {[key: string]: any, features: Array<{[key: string]: any}>}) => {\r\n        if (res.features) {\r\n          this.placeholder = 'Region'\r\n          this.myControl.patchValue(this.removeMiddle(res.features[0].properties.display_name, 1))\r\n          this._clickedOptionLocal = new geocodeResponseModel(this.myControl.value, res.features[0].geometry.coordinates)\r\n          this._clickedOption.next(this._clickedOptionLocal)\r\n        } else {\r\n          this.myControl.patchValue('')\r\n          this.placeholder = 'No city found'\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  /** check if input contains valid city */\r\n  checkCityValidity(): boolean {\r\n    if (!this._clickedOptionLocal || this.myControl.value == '') {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  /** filters city name string, always keep first and last string */\r\n  removeMiddle(string: string, keep: number): string {\r\n    const arr: string[] = string.split(',')\r\n    let nothing = arr.shift()\r\n    for (let x = 0; x < keep; x++) {\r\n      if (arr[x] != arr.slice(-1)[0]) {\r\n        nothing = nothing.concat(', ', arr[x])\r\n      }\r\n    }\r\n    return nothing.concat(', ', arr[arr.length - 1])\r\n  }\r\n\r\n  /** when option is clicked */\r\n  onOptionClick(country: {[key: string]: any}) {\r\n    this._clickedOptionLocal = new geocodeResponseModel(country.name, country.content.geometry.coordinates, country.content)\r\n    this._clickedOption.next(this._clickedOptionLocal)\r\n    this.clearOnSearch ? this.myControl.patchValue('') : null\r\n    // this.emitCountry(this._clickedOptionLocal.name)\r\n  }\r\n\r\n  emitCountry(city) {\r\n    console.log(city)\r\n    this.locationAdded.emit(city)\r\n    this.clearOnSearch ? this.myControl.patchValue('') : null\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.MapService.citySearchPresent = false\r\n    this.searched.unsubscribe()\r\n    this.fakeCenterCity_sub ? this.fakeCenterCity_sub.unsubscribe() : null\r\n    this.openstreetmap_sub ? this.openstreetmap_sub.unsubscribe() : null\r\n  }\r\n\r\n}\r\n","<mat-form-field class=\"example-full-width\" style=\"width: 100%;\" [appearance]='appearance' matTooltip='{{searchInput.value}}' matTooltipShowDelay='800'>\r\n    <mat-label>{{ placeholder }}</mat-label>\r\n    <input type='text'\r\n    #searchInput=\"matInput\"\r\n    matInput\r\n    placeholder=\"Ex. Berlin\"\r\n    [matAutocomplete]=\"auto\"\r\n    [formControl]=\"myControl\"\r\n    autocomplete=\"off\">\r\n    <button mat-button *ngIf=\"myControl.value\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"myControl.patchValue(''); _clickedOptionLocal = null\" type='button'>\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n    <small *ngIf='!checkCityValidity() && myControl.touched' class=\"text-danger\">this is not a valid region</small>\r\n    <mat-autocomplete #auto='matAutocomplete' panelWidth='25%'> \r\n        <mat-spinner *ngIf='isLoading' style=\"margin:0 auto;\"></mat-spinner>\r\n        <mat-option *ngFor='let country of autoSuggested | async' [value]='country.name' (onSelectionChange)='onOptionClick(country)'>\r\n            <span>{{ country.name }}</span>\r\n        </mat-option>\r\n    </mat-autocomplete>\r\n</mat-form-field>","import { Routes, RouterModule } from '@angular/router'\r\n\r\nimport { RegistrationProcessComponent } from './components/registration-process/registration-process.component'\r\nimport { NgModule } from '@angular/core'\r\nimport { loginComponent, LoginComponent } from './components/loginpage/loginpage.component'\r\nimport { ProfileComponent } from './components/profile/profile.component'\r\nimport { HomeComponent } from './components/tabs/home/home.component'\r\nimport { MytripComponent } from './components/tabs/mytrip/mytrip.component'\r\nimport { MyaccountComponent } from './components/myaccount/myaccount.component'\r\nimport { SearchresultsComponent } from './components/tabs/searchresults/searchresults.component'\r\nimport { VenueComponent } from './components/venue/venue.component'\r\nimport { SearchBarComponent } from './components/search-bar/search-bar.component'\r\nimport { UserprofileComponent } from './components/userprofile/userprofile.component'\r\nimport { AddPostComponent } from './components/add-post/add-post.component'\r\nimport { DisplayPostsComponent } from './components/display-posts/display-posts.component'\r\n\r\nconst routes: Routes = [\r\n  { path: 'create', component: AddPostComponent },\r\n  { path: 'edit/:postId', component:  AddPostComponent },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'register', component: RegistrationProcessComponent },\r\n  { path: 'profile', component: ProfileComponent },\r\n  // { path: 'home', component: HomeComponent },\r\n  // { path: 'home/:query', component: HomeComponent },\r\n  { path: 'mytrip', component: MytripComponent, children: [\r\n      {path: '**', component: MytripComponent}\r\n  ] },\r\n  { path: 'myaccount', component: MyaccountComponent },\r\n  { path: 'search', component: SearchBarComponent, children: [\r\n    { path: 'venue/:query', component: VenueComponent },\r\n    { path: 'user/:query', component: UserprofileComponent },\r\n    { path: '**', component: SearchresultsComponent },\r\n  ]},\r\n  {path: '', redirectTo: 'mytrip', pathMatch: 'full'}\r\n]\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Injectable } from '@angular/core'\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { Subject } from 'rxjs'\r\nimport { map } from 'rxjs/operators'\r\nimport { Router } from '@angular/router'\r\nimport { environment } from 'src/environments/environment'\r\n\r\nimport { Post } from 'src/app/models/post.model'\r\nimport { Comment } from 'src/app/models/comment.model'\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AddPostService {\r\n  url = environment.travelnetURL + \"/api/posts/\"\r\n  public posts: Post[] = [];\r\n  private postsUpdated = new Subject<Post[]>();\r\n\r\n  constructor(private http: HttpClient, private router: Router) {}\r\n\r\n  getPosts() {\r\n    this.http\r\n      .get<{ message: string; posts: any }>(this.url)\r\n      .pipe(\r\n        map(postData => {\r\n          let formattedComment\r\n          let formattedReply\r\n          return postData.posts.map(post => {\r\n          return{\r\n              _id: post._id,\r\n              date: post.date,\r\n              location: post.location,\r\n              likes: post.likes,\r\n              author: post.author,\r\n              title: post.title,\r\n              content: post.content,\r\n              imagePath: post.imagePath,\r\n              tags: post.tags,\r\n              comments: post.comments\r\n            }\r\n\r\n          })\r\n        })\r\n      )\r\n      .subscribe(transformedPosts => {\r\n        this.posts = transformedPosts\r\n        this.postsUpdated.next(this.posts)\r\n      })\r\n  }\r\n  getRelevantPosts(UserPref: {author: string, follows: [string], tags: [string], location: [string] }){\r\n    this.http\r\n      .post<{ message: string; posts: any }>(this.url + 'getSpecific/', UserPref).pipe(\r\n        map(postData => {\r\n          return postData.posts.map(post => {\r\n          return{\r\n              _id: post._id,\r\n              date: post.date,\r\n              location: post.location,\r\n              likes: post.likes,\r\n              author: post.author,\r\n              title: post.title,\r\n              content: post.content,\r\n              imagePath: post.imagePath,\r\n              tags: post.tags,\r\n              comments: post.comments\r\n            }\r\n\r\n          })\r\n        })\r\n      ).subscribe(transformedPosts => {\r\n        this.posts = transformedPosts\r\n        this.postsUpdated.next(this.posts)\r\n      })\r\n  }\r\n  searchPosts(input: {input: string}){\r\n    this.http\r\n    .post<{ message: string; posts: any }>(this.url + 'getOne', input).pipe(\r\n      map(postData => {\r\n        return postData.posts.map(post => {\r\n        return{\r\n            _id: post._id,\r\n            date: post.date,\r\n            location: post.location,\r\n            likes: post.likes,\r\n            author: post.author,\r\n            title: post.title,\r\n            content: post.content,\r\n            imagePath: post.imagePath,\r\n            tags: post.tags,\r\n            comments: post.comments\r\n          }\r\n\r\n        })\r\n      })\r\n    ).subscribe(transformedPosts => {\r\n      this.posts = transformedPosts\r\n      console.log(this.posts)\r\n      this.postsUpdated.next(this.posts)\r\n    })\r\n\r\n  }\r\n\r\n\r\n  getPostUpdateListener() {\r\n    return this.postsUpdated.asObservable()\r\n  }\r\n\r\n  getPost(id: string) {\r\n    return this.http.get<{\r\n      _id: string,\r\n      date: string,\r\n      location: string,\r\n      author: string,\r\n      likes: Array<string>,\r\n      title: string,\r\n      content: string,\r\n      imagePath: string,\r\n      tags: Array<string>,\r\n      comments: Array<Comment>}>(\r\n      this.url + id\r\n    )\r\n  }\r\n\r\n  /**is now implemented inside user */\r\n  addPost(newPost) {\r\n    const postData = new FormData()\r\n    postData.append('date', newPost.date)\r\n    postData.append('location', newPost.location)\r\n    postData.append('author', newPost.author)\r\n    postData.append('title', newPost.title)\r\n    postData.append('content', newPost.content)\r\n    postData.append('image', newPost.image, newPost.title)\r\n    postData.append('tags', newPost.tags)\r\n    this.http\r\n      .post<{ message: string; post: Post }>(\r\n        this.url,\r\n        postData, {\r\n          headers: {\r\n            authorization: localStorage.getItem('token') ? localStorage.getItem('token').toString() : 'monkas'\r\n          }\r\n        }\r\n      )\r\n      .subscribe(responseData => {\r\n        const post: Post = {\r\n          _id: responseData.post._id,\r\n          date: responseData.post.date,\r\n          location: responseData.post.location,\r\n          author: responseData.post.author,\r\n          likes: responseData.post.likes,\r\n          title: newPost.Title,\r\n          content: newPost.content,\r\n          imagePath: responseData.post.imagePath,\r\n          tags: responseData.post.tags,\r\n          comments: responseData.post.comments,\r\n        }\r\n        this.posts.push(post)\r\n        this.postsUpdated.next(this.posts)\r\n        this.router.navigate(['/'])\r\n        console.log(this.posts)\r\n      })\r\n  }\r\n\r\n  updatePost(newPost) {\r\n    // id: string, title: string, content: string, image: File | string\r\n    let postData: Post | FormData\r\n    if (typeof newPost.image === 'object') {\r\n      postData = new FormData()\r\n      postData.append('id', newPost._id)\r\n      postData.append('date', newPost.date)\r\n      postData.append('location', newPost.location)\r\n      postData.append('author', newPost.author)\r\n      postData.append('likes', newPost.likes)\r\n      postData.append('title', newPost.title)\r\n      postData.append('content', newPost.content)\r\n      postData.append('image', newPost.image, newPost.title)\r\n      postData.append('tags', newPost.tags)\r\n      postData.append('comments', newPost.comments)\r\n    } else {\r\n      postData = {\r\n        _id: newPost._id,\r\n        date: newPost.date,\r\n        location: newPost.location,\r\n        author: newPost.author,\r\n        likes: newPost.likes,\r\n        title: newPost.title,\r\n        content: newPost.content,\r\n        imagePath: newPost.image,\r\n        tags: newPost.tags,\r\n        comments: newPost.comments\r\n      }\r\n    }\r\n    this.http\r\n      .put(this.url + newPost._id, postData)\r\n      .subscribe(response => {\r\n        const updatedPosts = [...this.posts]\r\n        const oldPostIndex = updatedPosts.findIndex(p => p._id === newPost.id)\r\n        const post: Post = {\r\n          _id: newPost._id,\r\n          date: newPost.date,\r\n          location: newPost.location,\r\n          author: newPost.author,\r\n          likes: newPost.likes,\r\n          title: newPost.title,\r\n          content: newPost.content,\r\n          imagePath: '',\r\n          tags: newPost.tags,\r\n          comments: newPost.comments\r\n        }\r\n        console.log(post)\r\n        updatedPosts[oldPostIndex] = post\r\n        this.posts = updatedPosts\r\n        this.postsUpdated.next(this.posts)\r\n        this.router.navigate(['/'])\r\n      })\r\n  }\r\n\r\n  deletePost(postId: string) {\r\n    this.http\r\n      .delete(this.url + postId)\r\n      .subscribe(() => {\r\n        const updatedPosts = this.posts.filter(post => post._id !== postId)\r\n        this.posts = updatedPosts\r\n        this.postsUpdated.next(this.posts)\r\n      })\r\n  }\r\n  likePost(postId: string, username: string){\r\n    const updatedPostIndex = this.posts.indexOf(this.posts.find(post => post._id == postId))\r\n    this.http\r\n      .put(this.url + 'like/' + postId, {username})\r\n      .subscribe((response: {message: string, likes: string[]}) => {\r\n        (this.posts[updatedPostIndex]).likes = response.likes\r\n        this.postsUpdated.next(this.posts)\r\n      })\r\n  }\r\n  updatePosts(posts){\r\n    this.postsUpdated.next(posts)\r\n  }\r\n}\r\n","import { SessionService } from 'src/app/services/session.service'\r\nimport { Router } from '@angular/router'\r\nimport { tab } from '../../models/tab.model'\r\nimport { ResizeEvent } from 'angular-resizable-element'\r\nimport { Subscription } from 'rxjs'\r\nimport { FriendlistService } from 'src/app/services/chatsystem/friendlist.service'\r\nimport { Component, OnInit, OnDestroy, ViewChild, AfterViewInit } from '@angular/core'\r\nimport { trigger, state, style, animate, transition, } from '@angular/animations'\r\nimport { MapService } from 'src/app/services/map/map.service'\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss'],\r\n})\r\nexport class SidebarComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  // about sidebar\r\n  private windowSub: Subscription\r\n  window = true\r\n  width = 0.4\r\n  Styles = {\r\n    position: 'fixed',\r\n    'background-color': 'rgba(255,255,255,0.75)',\r\n    'min-width': '710px',\r\n    top: '1%',\r\n    left: '1%',\r\n    height: '95%',\r\n    'max-height': '95%',\r\n    overflow: 'hidden',\r\n    padding: '0',\r\n    width: `${window.innerWidth >= 500 ? window.innerWidth * this.width : window.innerWidth}px`,\r\n  }\r\n  showFiller = true\r\n  @ViewChild('drawer') drawer\r\n\r\n  // about sidebar tabs\r\n  private openTabSub: Subscription\r\n  openTab: tab\r\n\r\n  tabs: any[] = ['home', 'mytrip', 'search']\r\n\r\n  selectedTab(): string {\r\n    if (this.Router.url.substr(0, 7) == '/search') {\r\n      return '/search'\r\n    } else {\r\n      return this.Router.url\r\n    }\r\n  }\r\n\r\n  constructor(private FriendlistService: FriendlistService,\r\n              private Router: Router,\r\n              private MapService: MapService,\r\n              private SessionService: SessionService\r\n              )\r\n  {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit() { // setup friendlist\r\n    this.windowSub = this.FriendlistService.windowSize.subscribe((windowWidth) => {\r\n      if (windowWidth <= this.drawer._width) {\r\n        if (windowWidth < 500 || window.innerWidth) {\r\n          this.window = false\r\n        } else {\r\n          this.Styles.width = `${windowWidth * 0.96}px`\r\n        }\r\n      } else {\r\n        this.window = true\r\n      }\r\n    })\r\n  }\r\n\r\n  validate(event: ResizeEvent) {\r\n    const MIN_DIMENSIONS_PX = 500\r\n    const maxWidth: number = window.innerWidth * 0.96\r\n    if (\r\n      event.rectangle.width && // if defined\r\n      event.rectangle.height && // if defined\r\n      (event.rectangle.width < MIN_DIMENSIONS_PX ||\r\n      event.rectangle.width > maxWidth)\r\n    ) {\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n\r\n  onResizeEnd(event: {edges: any, rectangle: {bottom: number, height: number, left: number, right: number, scrollLeft: number, scrollTop: number, top: number, width: number}}): void {\r\n    this.Styles.width = `${event.rectangle.width}px`\r\n    this.SessionService.updateSidebarWidth(event.rectangle.width)\r\n    this.MapService.getFakeCenter()\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.windowSub.unsubscribe()\r\n    this.openTabSub.unsubscribe()\r\n  }\r\n}\r\n\r\n","<!-- open sidebar button -->\r\n<div *ngIf='!window' class=\"example-sidenav-content bg-light\" id=\"openToggle\">\r\n    <button type=\"button\" mat-button (click)=\"drawer.toggle(); window = !window\">\r\n    Open Sidebar\r\n    </button>\r\n</div>\r\n\r\n<mat-drawer-container class='container-fluid border' autosize>\r\n    <mat-drawer\r\n        mwlResizable\r\n        [validateResize]='validate'\r\n        [enableGhostResize]=\"true\"\r\n        (resizeEnd)=\"onResizeEnd($event)\"\r\n        [opened]='window'\r\n        #drawer\r\n        mode=\"side\"\r\n        [ngStyle]='Styles'>\r\n\r\n        <!-- resize sidebar icon -->\r\n        <button\r\n            mwlResizeHandle\r\n            [resizeEdges]=\"{ bottom: false, right: true, top: false, left: false }\"\r\n            id=\"resize\"\r\n            class=\"btn border-left\">\r\n            <span>\r\n                <svg class=\"bi bi-grip-horizontal\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/>\r\n                </svg>\r\n            </span>\r\n        </button>\r\n\r\n        <!-- tabs menu -->\r\n        <div class=\"container row border-bottom\"\r\n            style=\"background-color: rgba(255, 255, 255, 1); padding-right: 1%; margin: 0; margin-right: 1%; min-width: 100%;\">\r\n            \r\n            <!-- <button mat-button *ngIf='selectedTab() != \"/home\"' class=\"nav-link col\" routerLink='home'>Home</button>\r\n            <button mat-raised-button *ngIf='selectedTab() == \"/home\"' class=\"nav-link col\" routerLink='home'>Home</button> -->\r\n\r\n\r\n            <button mat-button *ngIf='selectedTab() != \"/mytrip\"' class=\"nav-link col\" routerLink='mytrip'>My Trip</button>\r\n            <button mat-raised-button *ngIf='selectedTab() == \"/mytrip\"' class=\"nav-link col\" routerLink='mytrip'>My Trip</button>\r\n\r\n            <button mat-button *ngIf='selectedTab() != \"/search\"' class=\"nav-link col\" routerLink=\"search\">Search</button>\r\n            <button mat-raised-button *ngIf='selectedTab() == \"/search\"' class=\"nav-link col\" routerLink=\"search\">Search</button>\r\n\r\n            <!-- new tabs feature -->\r\n            <!-- <app-searchbutton\r\n                *ngFor='let item of openTabs, let i = index'\r\n                [searchTab]='item'>\r\n            </app-searchbutton>\r\n            <button mat-button class=\"nav-item col-1\" data-toggle=\"pill\" (click)='newTab()'>+</button>-->\r\n\r\n\r\n            <!-- hide sidebar -->\r\n            <button mat-button color='warn' id='closeToggle' class=\"close-nav nav-link\" type=\"button\" (click)=\"window = !window\">\r\n                <span>\r\n                    <svg class=\"bi bi-arrow-bar-left\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L3.207 8l2.647-2.646a.5.5 0 0 0 0-.708z\"/>\r\n                        <path fill-rule=\"evenodd\" d=\"M10 8a.5.5 0 0 0-.5-.5H3a.5.5 0 0 0 0 1h6.5A.5.5 0 0 0 10 8zm2.5 6a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5z\"/>\r\n                    </svg>\r\n                </span>\r\n            </button>\r\n        </div>\r\n\r\n        <!-- sidebar content -->\r\n        <div #oi class=\"container-fluid\" style=\"width: 98%; max-height: 95%; padding: 0; padding-top: 1%; padding-top: 0; margin-left: 0; margin-right: 0; overflow-y: auto;\">\r\n            <router-outlet style=\"height: 100%;\"></router-outlet>\r\n        </div>\r\n    </mat-drawer>\r\n</mat-drawer-container>\r\n\r\n\r\n","import { enableProdMode } from '@angular/core'\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\r\n\r\nimport { AppModule } from './app/app.module'\r\nimport { environment } from './environments/environment'\r\n\r\nif (environment.production) {\r\n  enableProdMode()\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err))\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}